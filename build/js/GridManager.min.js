!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(){this.version="2.2.4"}var r=n(1),i=a(r),d=n(3),s=a(d),u=n(!function(){var e=new Error('Cannot find module "./AjaxPage"');throw e.code="MODULE_NOT_FOUND",e}()),l=a(u),c=n(5),f=a(c),g=n(4),h=a(g),p=n(7),m=a(p),v=n(9),b=a(v),y=n(10),x=a(y),w=n(17),T=a(w),M=n(12),j=a(M),D=n(11),L=a(D),O=n(16),C=a(O),_=n(13),S=a(_),k=n(14),E=a(k),A=n(18),N=a(A),P=n(15),G=a(P),z=n(19),H=a(z),q=n(8),R=a(q);o.prototype={init:function(e,t,n){var a=this;if(("string"!=typeof t.gridManagerName||""===t.gridManagerName.trim())&&(t.gridManagerName=e.attr("grid-manager")),i["default"].extend(!1,H["default"],t),a.updateSettings(e,H["default"]),i["default"].extend(!0,this,t),a.cleanTableCacheForVersion(e,this.version),""===a.gridManagerName.trim())return a.outLog("请在html标签中为属性[grid-manager]赋值或在配置项中配置gridManagerName","error"),!1;if(e.hasClass("GridManager-ready")||e.hasClass("GridManager-loading"))return a.outLog("渲染失败：可能该表格已经渲染或正在渲染","error"),!1;a.supportAjaxPage&&a.configPageForCache(e);var o=i["default"].extend({},a.query,a.pageData);return e.addClass("GridManager-loading"),a.initTable(e),"undefined"!=typeof e.attr("grid-manager-cache-error")&&window.setTimeout(function(){a.setToLocalStorage(e,!0),e.removeAttr("grid-manager-cache-error")},1e3),"function"==typeof n?n(o):"",e},initTable:function(e){var t=this;R["default"].createDOM(e),t.disableCache||(t.configTheadForCache(e),t.supportAdjust?t.resetAdjust(e):""),t.supportAdjust&&t.bindAdjustEvent(e),t.supportDrag&&t.bindDragEvent(e),t.supportSorting&&t.bindSortingEvent(e),t.supportRemind&&t.bindRemindEvent(e),t.supportConfig&&t.bindConfigEvent(e),t.bindScrollFunction(e),t.bindRightMenuEvent(e),t.__refreshGrid(e),t.setGridManagerToJTool.call(t,e)}},i["default"].extend(!0,o.prototype,H["default"]),i["default"].extend(o.prototype,f["default"]),i["default"].extend(o.prototype,m["default"]),i["default"].extend(o.prototype,x["default"]),i["default"].extend(o.prototype,h["default"]),i["default"].extend(o.prototype,s["default"]),i["default"].extend(o.prototype,l["default"]),i["default"].extend(o.prototype,b["default"]),i["default"].extend(o.prototype,T["default"]),i["default"].extend(o.prototype,G["default"]),i["default"].extend(o.prototype,j["default"]),i["default"].extend(o.prototype,L["default"]),i["default"].extend(o.prototype,C["default"]),i["default"].extend(o.prototype,S["default"]),i["default"].extend(o.prototype,E["default"]),i["default"].extend(o.prototype,N["default"]),i["default"].extend(o.prototype,R["default"]);var F=["init","setSort","get","getSettings","getCheckedTr","showTh","hideTh","exportGridToXls","getLocalStorage","setQuery","setAjaxData","refreshGrid","getRowData","clear"];!function(e){Element.prototype.GM=Element.prototype.GridManager=function(){var t=e(this);if("TR"!==this.nodeName){var n=void 0,a=void 0,r=void 0,i=void 0;if(0===arguments.length?(n="init",a={},r=void 0):"string"!==e.type(arguments[0])?(n="init",a=arguments[0],r=arguments[1]):(n=arguments[0],a=arguments[1],r=arguments[2],i=arguments[3]),-1===F.indexOf(n))throw new Error("GridManager Error:方法调用错误，请确定方法名["+n+"]是否正确");var d=void 0;if("init"==n){var s=new o;return s.init(t,a,r),s}if("init"!=n){d=t.data("gridManager");var u=d[n](t,a,r,i);return"undefined"==typeof u?this:u}}}}(i["default"]),function(){"undefined"!=typeof jQuery&&jQuery.fn.extend&&jQuery.fn.extend({GM:function(){return 0===arguments.length?this.get(0).GM():1===arguments.length?this.get(0).GM(arguments[0]):2===arguments.length?this.get(0).GM(arguments[0],arguments[1]):3===arguments.length?this.get(0).GM(arguments[0],arguments[1],arguments[2]):void 0},GridManager:function(){return 0===arguments.length?this.get(0).GridManager():1===arguments.length?this.get(0).GridManager(arguments[0]):2===arguments.length?this.get(0).GridManager(arguments[0],arguments[1]):3===arguments.length?this.get(0).GridManager(arguments[0],arguments[1],arguments[2]):void 0}})}(),function(){window.$=window._$||void 0}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2);var a=jTool;t["default"]=a},function(){var e,e;!function t(n,a,o){function r(d,s){if(!a[d]){if(!n[d]){var u="function"==typeof e&&e;if(!s&&u)return e(d,!0);if(i)return i(d,!0);var l=new Error("Cannot find module '"+d+"'");throw l.code="MODULE_NOT_FOUND",l}var c=a[d]={exports:{}};n[d][0].call(c.exports,function(e){var t=n[d][1][e];return r(t?t:e)},c,c.exports,t,n,a,o)}return a[d].exports}for(var i="function"==typeof e&&e,d=0;d<o.length;d++)r(o[d]);return r}({1:[function(e,t){var n=e("./utilities"),a=e("../src/Css"),o={show:function(){return n.each(this.DOMList,function(e,t){var n="",a=["SPAN","A","FONT","I"];if(-1!==t.nodeName.indexOf(a))return t.style.display="inline-block",this;switch(t.nodeName){case"TABLE":n="table";break;case"THEAD":n="table-header-group";break;case"TBODY":n="table-row-group";break;case"TR":n="table-row";break;case"TH":n="table-cell";break;case"TD":n="table-cell";break;default:n="block"}t.style.display=n}),this},hide:function(){return n.each(this.DOMList,function(e,t){t.style.display="none"}),this},animate:function(e,t,o){var r=this,i="",d="",s=r.DOMList[0];if(e){"undefined"===n.type(o)&&"function"===n.type(t)&&(o=t,t=0),"undefined"===n.type(o)&&(o=n.noop),"undefined"===n.type(t)&&(t=0),n.each(e,function(e,t){e=n.toHyphen(e),i+=e+":"+n.getStyle(s,e)+";",d+=e+":"+t+";"});var u="@keyframes jToolAnimate {from {"+i+"}to {"+d+"}}",l=document.createElement("style");l.className="jTool-animate-style",l.type="text/css",document.head.appendChild(l),l.textContent=l.textContent+u,s.style.animation="jToolAnimate "+t/1e3+"s ease-in-out forwards",window.setTimeout(function(){a.css.call(r,e),s.style.animation="",l.remove(),o()},t)}}};t.exports=o},{"../src/Css":3,"./utilities":13}],2:[function(e,t){var n=e("./utilities"),a={addClass:function(e){return this.changeClass(e,"add")},removeClass:function(e){return this.changeClass(e,"remove")},toggleClass:function(e){return this.changeClass(e,"toggle")},hasClass:function(e){return[].some.call(this.DOMList,function(t){return t.classList.contains(e)})},parseClassName:function(e){return e.indexOf(" ")?e.split(" "):[e]},changeClass:function(e,t){var a=this.parseClassName(e);return n.each(this.DOMList,function(e,o){n.each(a,function(e,n){o.classList[t](n)})}),this}};t.exports=a},{"./utilities":13}],3:[function(e,t){var n=e("./utilities"),a={css:function(e,t){function a(e,t){"number"===n.type(t)&&(t=t.toString()),-1!==r.indexOf(e)&&-1===t.indexOf("px")&&(t+="px"),n.each(o.DOMList,function(n,a){a.style[e]=t})}var o=this,r=["width","height","min-width","max-width","min-height","min-height","top","left","right","bottom","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-width","border-top-width","border-left-width","border-right-width","border-bottom-width"];if("string"===n.type(e)&&!t&&0!==t)return-1!==r.indexOf(e)?parseInt(n.getStyle(this.DOMList[0],e),10):n.getStyle(this.DOMList[0],e);if("object"===n.type(e)){var i=e;for(var d in i)a(d,i[d])}else a(e,t);return this},width:function(e){return this.css("width",e)},height:function(e){return this.css("height",e)}};t.exports=a},{"./utilities":13}],4:[function(e,t){var n=e("./utilities"),a={dataKey:"jTool"+n.version,data:function(e,t){var a=this,o={};if("undefined"==typeof e&&"undefined"==typeof t)return a.DOMList[0][a.dataKey];if("undefined"!=typeof t){var r=n.type(t);return("string"===r||"number"===r)&&a.attr(e,t),n.each(a.DOMList,function(n,r){o=r[a.dataKey]||{},o[e]=t,r[a.dataKey]=o}),this}return o=a.DOMList[0][a.dataKey]||{},this.transformValue(o[e]||a.attr(e))},removeData:function(e){var t,a=this;"undefined"!=typeof e&&(n.each(a.DOMList,function(n,o){t=o[a.dataKey]||{},delete t[e]}),a.removeAttr(e))},attr:function(e,t){return"undefined"==typeof e&&"undefined"==typeof t?"":"undefined"!=typeof t?(n.each(this.DOMList,function(n,a){a.setAttribute(e,t)}),this):this.transformValue(this.DOMList[0].getAttribute(e))},removeAttr:function(e){"undefined"!=typeof e&&n.each(this.DOMList,function(t,n){n.removeAttribute(e)})},prop:function(e,t){return"undefined"==typeof e&&"undefined"==typeof t?"":"undefined"!=typeof t?(n.each(this.DOMList,function(n,a){a[e]=t}),this):this.transformValue(this.DOMList[0][e])},removeProp:function(e){"undefined"!=typeof e&&n.each(this.DOMList,function(t,n){delete n[e]})},val:function(e){return this.prop("value",e)||""},transformValue:function(e){return"null"===n.type(e)&&(e=void 0),e}};t.exports=a},{"./utilities":13}],5:[function(e,t){var n=e("./utilities"),a=e("./Sizzle"),o={append:function(e){return this.html(e,"append")},prepend:function(e){return this.html(e,"prepend")},before:function(e){e.jTool&&(e=e.DOMList[0]);var t=this.DOMList[0],n=t.parentNode;return n.insertBefore(e,t),this},after:function(e){e.jTool&&(e=e.DOMList[0]);var t=this.DOMList[0],n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},text:function(e){return"undefined"!=typeof e?(n.each(this.DOMList,function(t,n){n.textContent=e}),this):this.DOMList[0].textContent},html:function(e,t){if("undefined"==typeof e&&"undefined"==typeof t)return this.DOMList[0].innerHTML;var a=this,o=n.type(e);e.jTool?e=e.DOMList:"string"===o?e=n.createDOM(e||""):"element"===o&&(e=[e]);var r;return n.each(a.DOMList,function(a,o){t?"prepend"===t&&(r=o.firstChild):o.innerHTML="",n.each(e,function(e,t){t=t.cloneNode(!0),t.nodeType||(t=document.createTextNode(t)),r?o.insertBefore(t,r):o.appendChild(t),o.normalize()})}),this},wrap:function(e){var t;return n.each(this.DOMList,function(n,o){t=o.parentNode;var r=new a(e,o.ownerDocument).get(0);t.insertBefore(r,o),r.querySelector(":empty").appendChild(o)}),this},closest:function(e){function t(){return n&&0!==o.length&&1===n.nodeType?void(-1===[].indexOf.call(o,n)&&(n=n.parentNode,t())):void(n=null)}var n=this.DOMList[0].parentNode;if("undefined"==typeof e)return new a(n);var o=document.querySelectorAll(e);return t(),new a(n)},parent:function(){return this.closest()},clone:function(e){return new a(this.DOMList[0].cloneNode(e||!1))},remove:function(){n.each(this.DOMList,function(e,t){t.remove()})}};t.exports=o},{"./Sizzle":9,"./utilities":13}],6:[function(e,t){var n=e("./Sizzle"),a={get:function(e){return this.DOMList[e]},eq:function(e){return new n(this.DOMList[e])},find:function(e){return new n(e,this)},index:function(e){var t=this.DOMList[0];return e?e.jTool&&(e=e.DOMList):e=t.parentNode.childNodes,e?[].indexOf.call(e,t):-1}};t.exports=a},{"./Sizzle":9}],7:[function(e,t){var n=e("./utilities"),a={on:function(e,t,n,a){return this.addEvent(this.getEventObject(e,t,n,a))},off:function(e,t){return this.removeEvent(this.getEventObject(e,t))},bind:function(e,t,n){return this.on(e,void 0,t,n)},unbind:function(e){return this.removeEvent(this.getEventObject(e))},trigger:function(e){return n.each(this.DOMList,function(t,a){try{if(a.jToolEvent&&a.jToolEvent[e].length>0){var o=new Event(e);a.dispatchEvent(o)}else a[e]()}catch(r){n.error("事件:["+e+"]未能正确执行, 请确定方法已经绑定成功")}}),this},getEventObject:function(e,t,a,o){if("function"==typeof t&&(o=a||!1,a=t,t=void 0),!e)return n.error("事件绑定失败,原因: 参数中缺失事件类型"),this;if(t&&"element"===n.type(this.DOMList[0])||(t=""),""!==t){var r=a;a=function(e){-1!==[].indexOf.call(this.querySelectorAll(t),e.target)&&r.apply(e.target,arguments)}}var i,d,s=e.split(" "),u=[];return n.each(s,function(e,r){return""===r.trim()?!0:(i=r.split("."),d={eventName:r+t,type:i[0],querySelector:t,callback:a||n.noop,useCapture:o||!1,nameScope:i[1]||void 0},void u.push(d))}),u},addEvent:function(e){var t=this;return n.each(e,function(e,a){n.each(t.DOMList,function(e,t){t.jToolEvent=t.jToolEvent||{},t.jToolEvent[a.eventName]=t.jToolEvent[a.eventName]||[],t.jToolEvent[a.eventName].push(a),t.addEventListener(a.type,a.callback,a.useCapture)})}),t},removeEvent:function(e){var t,a=this;return n.each(e,function(e,o){n.each(a.DOMList,function(e,a){a.jToolEvent&&(t=a.jToolEvent[o.eventName],t&&(n.each(t,function(e,t){a.removeEventListener(t.type,t.callback)}),a.jToolEvent[o.eventName]=void 0))})}),a}};t.exports=a},{"./utilities":13}],8:[function(e,t){var n=e("./utilities"),a={offset:function(){function e(o,r){if(1===o.nodeType){if(t=n.getStyle(o,"position"),"undefined"==typeof r&&"static"===t)return void e(o.parentNode);a.top=o.offsetTop+a.top-o.scrollTop,a.left=o.offsetLeft+a.left-o.scrollLeft,"fixed"!==t&&e(o.parentNode)}}var t,a={top:0,left:0};return e(this.DOMList[0],!0),a},scrollTop:function(e){return this.scrollFN(e,"top")},scrollLeft:function(e){return this.scrollFN(e,"left")},scrollFN:function(e,t){var n=this.DOMList[0];return e||0===e?(this.setScrollFN(n,t,e),this):this.getScrollFN(n,t)},getScrollFN:function(e,t){return n.isWindow(e)?"top"===t?e.pageYOffset:e.pageXOffset:9===e.nodeType?"top"===t?e.body.scrollTop:e.body.scrollLeft:1===e.nodeType?"top"===t?e.scrollTop:e.scrollLeft:void 0},setScrollFN:function(e,t,a){return n.isWindow(e)?"top"===t?e.document.body.scrollTop=a:e.document.body.scrollLeft=a:9===e.nodeType?"top"===t?e.body.scrollTop=a:e.body.scrollLeft=a:1===e.nodeType?"top"===t?e.scrollTop=a:e.scrollLeft=a:void 0}};t.exports=a},{"./utilities":13}],9:[function(e,t){var n=e("./utilities"),a=function(e,t){var a;return e?n.isWindow(e)?(a=[e],t=void 0):e===document?(a=[document],t=void 0):e instanceof HTMLElement?(a=[e],t=void 0):e instanceof NodeList||e instanceof Array?(a=e,t=void 0):e.jTool?(a=e.DOMList,t=void 0):/<.+>/.test(e)?(a=n.createDOM(e),t=void 0):(t?t="string"==typeof t?document.querySelectorAll(t):t instanceof HTMLElement?[t]:t instanceof NodeList?t:t.jTool?t.DOMList:void 0:a=document.querySelectorAll(e),t&&(a=[],n.each(t,function(t,o){n.each(o.querySelectorAll(e),function(e,t){t&&a.push(t)})}))):e=null,a&&0!==a.length||(a=void 0),this.jTool=!0,this.DOMList=a,this.length=this.DOMList?this.DOMList.length:0,this.querySelector=e,this};t.exports=a},{"./utilities":13}],10:[function(e,t){function n(e){var t={url:null,type:"GET",data:null,headers:{},async:!0,beforeSend:r.noop,complete:r.noop,success:r.noop,error:r.noop};if(e=o(t,e),!e.url)return void r.error("jTool ajax: url不能为空");var n=new XMLHttpRequest,a="";"object"===r.type(e.data)?r.each(e.data,function(e,t){""!==a&&(a+="&"),a+=e+"="+t}):a=e.data,"GET"===e.type&&a&&(e.url=e.url+(-1===e.url.indexOf("?")?"?":"&")+a,a=null),n.open(e.type,e.url,e.async);for(var i in e.headers)n.setRequestHeader(i,e.headers[i]);e.beforeSend(n),n.onload=function(){e.complete(n,n.status)},n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?e.success(n.response,n.status):e.error(n,n.status,n.statusText))},n.send(a)}function a(e,t,a){n({url:e,type:"POST",data:t,success:a})}var o=e("./extend"),r=e("./utilities");t.exports={ajax:n,post:a}},{"./extend":11,"./utilities":13}],11:[function(e,t){function n(){function e(t,o){for(var r in t)t.hasOwnProperty(r)&&(n&&"object"===a.type(t[r])&&"object"===a.type(o[r])?e(t[r],o[r]):o[r]=t[r])}if(0===arguments.length)return{};var t,n=!1,o=1,r=arguments[0];for(1===arguments.length&&"object"==typeof arguments[0]?(r=this,o=0):2===arguments.length&&"boolean"==typeof arguments[0]?(n=arguments[0],r=this,o=1):arguments.length>2&&"boolean"==typeof arguments[0]&&(n=arguments[0],r=arguments[1]||{},o=2);o<arguments.length;o++)t=arguments[o]||{},e(t,r);return r}var a=e("./utilities");t.exports=n},{"./utilities":13}],12:[function(e,t){var n=e("./Sizzle"),a=e("./extend"),o=e("./utilities"),r=e("./ajax"),i=e("./Event"),d=e("./Css"),s=e("./Class"),u=e("./Document"),l=e("./Offset"),c=e("./Element"),f=e("./Animate"),g=e("./Data"),h=function(e,t){return new n(e,t)};n.prototype=h.prototype={},h.extend=h.prototype.extend=a,h.extend(o),h.extend(r),h.prototype.extend(i),h.prototype.extend(d),h.prototype.extend(s),h.prototype.extend(u),h.prototype.extend(l),h.prototype.extend(c),h.prototype.extend(f),h.prototype.extend(g),"undefined"!=typeof window.$&&(window._$=$),window.jTool=window.$=h,t.exports=h},{"./Animate":1,"./Class":2,"./Css":3,"./Data":4,"./Document":5,"./Element":6,"./Event":7,"./Offset":8,"./Sizzle":9,"./ajax":10,"./extend":11,"./utilities":13}],13:[function(e,t){function n(){return-1==navigator.userAgent.indexOf("Chrome")?!1:!0}function a(e){return null!==e&&e===e.window}function o(e){return Array.isArray(e)}function r(e){return v[m.call(e)]||(e instanceof Element?"element":"")}function i(){}function d(e,t){e&&e.jTool&&(e=e.DOMList);var n=r(e);if("array"===n||"nodeList"===n||"arguments"===n)[].every.call(e,function(e,n){return a(e)?i():e.jTool?e=e.get(0):i(),t.call(e,n,e)===!1?!1:!0});else if("object"===n)for(var o in e)if(t.call(e[o],o,e[o])===!1)break}function s(e){return e.trim()}function u(e){throw new Error("[jTool Error: "+e+"]")}function l(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=!1);return t}function c(e,t){return t?window.getComputedStyle(e)[t]:window.getComputedStyle(e)}function f(e){var t=["px","vem","em","%"],n="";return"number"==typeof e?n:(d(t,function(t,a){return-1!==e.indexOf(a)?(n=a,!1):void 0}),n)}function g(e){return e.replace(/-\w/g,function(e){return e.split("-")[1].toUpperCase()})}function h(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function p(e){var t=document.querySelector("#jTool-create-dom");if(!t||0===t.length){var n=document.createElement("table");n.id="jTool-create-dom",n.style.display="none",document.body.appendChild(n),t=document.querySelector("#jTool-create-dom")}t.innerHTML=e||"";var a=t.childNodes;return 1!=a.length||/<tbody|<TBODY/.test(e)||"TBODY"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<thead|<THEAD/.test(e)||"THEAD"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<tr|<TR/.test(e)||"TR"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<td|<TD/.test(e)||"TD"!==a[0].nodeName||(a=a[0].childNodes),1!=a.length||/<th|<TH/.test(e)||"TH"!==a[0].nodeName||(a=a[0].childNodes),t.remove(),a}var m=Object.prototype.toString,v={"[object String]":"string","[object Boolean]":"boolean","[object Undefined]":"undefined","[object Number]":"number","[object Object]":"object","[object Error]":"error","[object Function]":"function","[object Date]":"date","[object Array]":"array","[object RegExp]":"regexp","[object Null]":"null","[object NodeList]":"nodeList","[object Arguments]":"arguments","[object Window]":"window","[object HTMLDocument]":"document"};t.exports={isWindow:a,isChrome:n,isArray:o,noop:i,type:r,toHyphen:h,toHump:g,getStyleUnit:f,getStyle:c,isEmptyObject:l,trim:s,error:u,each:d,createDOM:p,version:"1.1.0"}},{}]},{},[12])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(4),d=a(i),s=n(5),u=a(s),l={html:function c(){var c='<span class="adjust-action"></span>';return c},bindAdjustEvent:function(e){var t=this,n=r["default"]("thead th",e);return n.off("mousedown",".adjust-action"),n.on("mousedown",".adjust-action",function(n){var a=d["default"].getSettings(e),o=r["default"](t),i=o.closest("th"),s=i.parent(),l=s.closest("table"),c=s.find('th[th-visible="visible"]'),f=c.eq(i.index(c)+1),g=u["default"].getRowTd(i);a.adjustBefore(n),i.addClass("adjust-selected"),g.addClass("adjust-selected");var h=void 0,p=void 0,m=u["default"].getTextWidth(i),v=u["default"].getTextWidth(f);return l.unbind("mousemove"),l.bind("mousemove",function(e){h=e.clientX-i.offset().left-i.css("padding-left")-i.css("padding-right"),h=Math.ceil(h),p=f.width()+i.width()-h,p=Math.ceil(p),m>h&&(h=m),v>p&&(p=v),h!==i.width()&&(h+p<i.width()+f.width()&&(p=i.width()+f.width()-h),i.width(h),f.width(p))}),l.unbind("mouseup mouseleave"),l.bind("mouseup mouseleave",function(t){var n=d["default"].getSettings(e);l.unbind("mousemove mouseleave"),d["default"].setToLocalStorage(l),i.hasClass("adjust-selected")&&n.adjustAfter(t),i.removeClass("adjust-selected"),g.removeClass("adjust-selected")}),!1}),this},resetAdjust:function(e){var t=r["default"](e),n=r["default"]('thead [th-visible="visible"]',t),a=r["default"](".adjust-action",n);return a&&0!=a.length?(a.show(),void a.eq(a.length-1).hide()):!1}};t["default"]=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(5),d=a(i),s={cacheData:{},getRowData:function(e,t){return this.cacheData[r["default"](t).attr("cache-key")]},clear:function(e){if(!e)return!1;var t=r["default"](e),n=this.getLocalStorageKey(t);return n?(window.localStorage.removeItem(n),!0):!1},getLocalStorage:function(e){var t=r["default"](e),n=this.getLocalStorageKey(t);if(!n)return{};var a=window.localStorage.getItem(n);if(!a)return t.attr("grid-manager-cache-error","error"),{};var o={key:n,cache:JSON.parse(a)};return o},get:function(e){return this.__getGridManager(e)},updateSettings:function(e,t){var n=r["default"].extend(!0,{},t);e.data("settings",n)},getSettings:function(e){return e.data("settings")},setRowData:function(e,t){this.cacheData[e]=t},cleanTableCacheForVersion:function(e,t){var n=window.localStorage.getItem("GridManagerVersion");n&&n===t||(this.cleanTableCache(e,"版本已升级,原缓存被自动清除"),window.localStorage.setItem("GridManagerVersion",t))},cleanTableCache:function(e,t){var n=s.getSettings(e);this.clear(e),d["default"].outLog(n.gridManagerName+"清除缓存成功,清除原因："+t,"info")},getLocalStorageKey:function(e){var t=s.getSettings(e);if(!e||0===e.length)return d["default"].outLog("getLocalStorage:无效的table","error"),!1;var n=e.attr("no-cache");return n&&"true"==n?(d["default"].outLog("缓存已被禁用：当前表缺失必要html标签属性[grid-manager或th-name]","info"),!1):window.localStorage?window.location.pathname+window.location.hash+"-"+t.gridManagerName:(d["default"].outLog("当前浏览器不支持：localStorage，缓存功能失效","info"),!1)},configTheadForCache:function(e){var t=s.getSettings(e),n=this,a=n.getLocalStorage(e),o=[];if(!a||r["default"].isEmptyObject(a))return void d["default"].outLog("configTheadForCache:当前table没有缓存数据","info");var i=a.cache,u=i.th,l=[],c=!0,f=void 0,g=void 0;return u&&u.length==r["default"]("thead th",e).length?(r["default"].each(u,function(t,a){return g=a,f=r["default"]("th[th-name="+g.th_name+"]",e),0==f.length||-1!=l.indexOf(g.th_name)?(n.cleanTableCache(e,"缓存数据与当前列表不匹配"),c=!1,!1):void l.push(g.th_name)}),void(c&&(r["default"].each(u,function(n,a){g=a,f=r["default"]("th[th-name="+g.th_name+"]",e),t.supportAdjust&&"true"!==f.attr("gm-create")&&f.css("width",g.th_width),t.supportDrag&&"undefined"!=typeof g.th_index?o[g.th_index]=f:o[n]=f,t.supportConfig&&d["default"].setAreVisible(f,"undefined"==typeof g.isShow?!0:g.isShow,!0)}),t.supportDrag&&e.find("thead tr").html(o)))):void n.cleanTableCache(e,"缓存数据与当前列表不匹配")},setToLocalStorage:function(e){var t=s.getSettings(e),n=this;if(t.disableCache)return!1;var a=r["default"](e),o=a.attr("no-cache");if(!a||0==a.length)return d["default"].outLog("setToLocalStorage:无效的table","error"),!1;if(o&&"true"==o)return d["default"].outLog("缓存功能已被禁用：当前表缺失必要参数","info"),!1;if(!window.localStorage)return d["default"].outLog("当前浏览器不支持：localStorage，缓存功能失效。","error"),!1;var i=r["default"]("thead[grid-manager-thead] th",a);if(!i||0==i.length)return d["default"].outLog("setToLocalStorage:无效的thList,请检查是否正确配置table,thead,th","error"),!1;var u={},l={},c=[],f={},g=void 0;r["default"].each(i,function(e,n){g=r["default"](n),f={},f.th_name=g.attr("th-name"),t.supportDrag&&(f.th_index=g.index()),t.supportAdjust&&(f.th_width=g.width()),t.supportConfig&&(f.isShow=r["default"]('.config-area li[th-name="'+f.th_name+'"]',a.closest(".table-wrap")).find('input[type="checkbox"]').get(0).checked),c.push(f)}),u.th=c,t.supportAjaxPage&&(l.pSize=r["default"]('select[name="pSizeArea"]',a.closest(".table-wrap")).val(),u.page=l);var h=JSON.stringify(u);return window.localStorage.setItem(n.getLocalStorageKey(a),h),h},setOriginalThDOM:function(e){var t=[],n=r["default"]("thead[grid-manager-thead] th",e);r["default"].each(n,function(e,n){t.push(n.getAttribute("th-name"))}),e.data("originalThList",t)},getOriginalThDOM:function(e){var t=[],n=r["default"](e).data("originalThList");return r["default"].each(n,function(n,a){t.push(r["default"]('thead[grid-manager-thead] th[th-name="'+a+'"]',e).get(0))}),r["default"](t)},setGridManagerToJTool:function(e){e.data("gridManager",this)},__getGridManager:function(e){return e.data("gridManager")}};t["default"]=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i={outLog:function(e,t){return t?"info"===t?console.info("GridManager Info: ",e):"warn"===t?console.warn("GridManager Warn: ",e):"error"===t&&console.error("GridManager Error: ",e):console.log("GridManager:",e),e},showTh:function(e,t){this.setAreVisible(r["default"](t),!0)},hideTh:function(e,t){this.setAreVisible(r["default"](t),!1)},getRowTd:function(e){var t,n=e.closest(".table-wrap"),a=r["default"]("tbody tr",n),o=[],i=e.index();return r["default"].each(a,function(e,n){t=r["default"]("td",n).get(i),t&&o.push(t)}),r["default"](o)},setAreVisible:function(e,t,n){var a,o,i,d,s,u,l=[];r["default"].each(e,function(e,c){i=r["default"](c),a=i.closest("table"),o=a.closest(".table-wrap"),d=r["default"]("tbody tr",a),s=r["default"]('.config-area li[th-name="'+i.attr("th-name")+'"]',o),u=s.find('input[type="checkbox"]'),0!=u.length&&(r["default"].each(d,function(e,t){l.push(r["default"](t).find("td").get(i.index()))}),t?(i.attr("th-visible","visible"),r["default"].each(l,function(e,t){r["default"](t).show()}),s.addClass("checked-li"),u.prop("checked",!0)):(i.attr("th-visible","none"),r["default"].each(l,function(e,t){r["default"](t).hide()}),s.removeClass("checked-li"),u.prop("checked",!1)),"function"==typeof n?n():"")})},getTextWidth:function(e){var t=r["default"](e),n=r["default"](".th-wrap",t),a=r["default"](".th-text",t),o=r["default"](".remind-action",n),i=r["default"](".sorting-action",n),d=t.closest(".table-wrap"),s=r["default"](".text-dreamland",d);s.text(a.text()),s.css({fontSize:a.css("font-size"),fontWeight:a.css("font-weight"),fontFamily:a.css("font-family")});var u=n.css("padding-left"),l=n.css("padding-right"),c=s.width()+(u?u:0)+(l?l:0)+(1==o.length?20:5)+(1==i.length?20:5);return c},showLoading:function(e,t){if(e&&0!==e.length){var n=e.find(".load-area");n.length>0&&n.remove();var a=r["default"]('<div class="load-area loading"><div class="loadInner kernel"></div></div>');e.append(a);var o=e.find(".load-area").find(".loadInner"),i=e.height(),d=o.height();o.css("margin-top",(i-d)/2),window.setTimeout(function(){"function"==typeof t?t():""},100)}},hideLoading:function(e,t){e&&0!==e.length&&window.setTimeout(function(){r["default"](".load-area",e).remove(),"function"==typeof t?t():""},500)}};t["default"]=i},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(5),d=a(i),s=n(8),u=a(s),l=n(4),c=a(l),f=n(!function(){var e=new Error('Cannot find module "./AjaxPage"');throw e.code="MODULE_NOT_FOUND",e}()),g=a(f),h=n(16),p=a(h),m={refreshGrid:function(e,t,n){var a=c["default"].getSettings(e),o=this;"boolean"!=typeof t&&(n=t,t=!1),t&&(a.pageData.cPage=1),o.__refreshGrid(e,n)},__refreshGrid:function(e,t){function n(){window.setTimeout(function(){l.removeClass("refreshing")},2e3)}function a(n){if(!n)return void d["default"].outLog("请求数据失败！请查看配置参数[ajax_url或ajax_data]是否配置正确，并查看通过该地址返回的数据格式是否正确","error");var a,s,l,f,h="",m="string"==typeof n?JSON.parse(n):n,v=m[o.dataKey];v&&0!==v.length?(r["default"].each(v,function(e,t){c["default"].setRowData(e,t),h+='<tr cache-key="'+e+'">',r["default"].each(o.columnData,function(e,n){a=n.key,l=n.template,f="function"==typeof l?l(t[a],t):t[a],s=n.align?'align="'+n.align+'"':"",h+='<td gm-create="false" '+s+">"+f+"</td>"}),h+="</tr>"}),i.html(h),u["default"].resetTd(e,!1)):(h='<tr emptyTemplate><td colspan="'+r["default"]('th[th-visible="visible"]',e).length+'">'+(o.emptyTemplate||'<div class="gm-emptyTemplate">数据为空</div>')+"</td></tr>",m.totals=0,i.html(h)),o.supportAjaxPage&&(g["default"].resetPageData(e,m[o.totalsKey]),p["default"].checkMenuPageAction(e)),"function"==typeof t?t():""}var o=c["default"].getSettings(e),i=r["default"]("tbody",e),s=e.closest(".table-wrap"),l=r["default"](".page-toolbar .refresh-action",s);if(l.addClass("refreshing"),o.ajax_data)return a(o.ajax_data),o.ajax_success(o.ajax_data),n(),void("function"==typeof t?t():"");if("string"!=typeof o.ajax_url||""===o.ajax_url)return o.outLog("请求表格数据失败！参数[ajax_url]配制错误","error"),n(),void("function"==typeof t?t():"");var f=r["default"].extend(!0,{},o.query);o.supportAjaxPage&&r["default"].extend(f,o.pageData),o.supportSorting&&r["default"].each(o.sortData,function(e,t){f["sort_"+e]=t}),f.cPage<1?f.cPage=1:f.cPage>f.tPage&&(f.cPage=f.tPage),c["default"].updateSettings(e,o),d["default"].showLoading(s),r["default"].ajax({url:o.ajax_url,type:o.ajax_type,data:f,headers:o.ajax_headers,cache:!0,beforeSend:function(e){o.ajax_beforeSend(e)},success:function(e){a(e),o.ajax_success(e)},error:function(e,t,n){o.ajax_error(e,t,n)},complete:function(e,t){o.ajax_complete(e,t),n(),d["default"].hideLoading(s)}})},setQuery:function(e,t){var n=c["default"].getSettings(e);r["default"].extend(n,{query:t}),c["default"].updateSettings(e,n)},setAjaxData:function(e,t){var n=c["default"].getSettings(e);r["default"].extend(n,{ajax_data:t}),c["default"].updateSettings(e,n),this.__refreshGrid(e)}};t["default"]=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(3),d=a(i),s=n(!function(){var e=new Error('Cannot find module "./AjaxPage"');throw e.code="MODULE_NOT_FOUND",e}()),u=a(s),l=n(4),c=a(l),f=n(9),g=a(f),h=n(10),p=a(h),m=n(5),v=a(m),b=n(12),y=a(b),x=n(13),w=a(x),T=n(14),M=a(T),j=n(15),D=a(j),L={createDOM:function(e){var t=c["default"].getSettings(e);e.attr("width","100%").attr("cellspacing",1).attr("cellpadding",0).attr("grid-manager",t.gridManagerName);var n="<thead grid-manager-thead>",a="<tbody></tbody>",o="",i="",s="",l="";r["default"].each(t.columnData,function(e,a){t.supportRemind&&"string"==typeof a.remind&&""!==a.remind&&(s='remind="'+a.remind+'"'),l="",t.supportSorting&&"string"==typeof a.sorting&&(a.sorting===t.sortDownText?(l='sorting="'+t.sortDownText+'"',t.sortData[a.key]=t.sortDownText):a.sorting===t.sortUpText?(l='sorting="'+t.sortUpText+'"',t.sortData[a.key]=t.sortUpText):l='sorting=""'),i=a.width?'width="'+a.width+'"':"",o=a.align?'align="'+a.align+'"':"",n+='<th gm-create="false" th-name="'+a.key+'" '+s+" "+l+" "+i+" "+o+">"+a.text+"</th>"}),n+="</thead>",e.html(n+a),t.supportAutoOrder&&w["default"].initDOM(e),t.supportCheckbox&&p["default"].initDOM(e),c["default"].setOriginalThDOM(e);var f=M["default"].html(),h=g["default"].html(),m=d["default"].html(),b=D["default"].html(),x=y["default"].html();if(t.supportAjaxPage)var T=u["default"].html();var j,L,O,C,_,S,k,E,A,N,P,G;t.useDefaultStyle&&e.addClass("grid-manager-default"),O=r["default"]("thead",e),C=r["default"]("th",O),j='<div class="table-wrap"><div class="table-div" style="height: '+t.height+'"></div><span class="text-dreamland"></span></div>',e.wrap(j),L=e.closest(".table-wrap"),t.supportConfig&&L.append(h),t.supportAjaxPage&&(L.append(T),u["default"].initAjaxPage(e)),t.supportExport&&L.append(x),r["default"].each(C,function(e,n){_=r["default"](n),_.attr("th-visible","visible"),P=t.supportAutoOrder&&"true"===_.attr("gm-order")?!0:!1,G=t.supportCheckbox&&"true"===_.attr("gm-checkbox")?!0:!1,S=r["default"]('<div class="th-wrap"></div>'),t.supportConfig&&r["default"](".config-list",L).append('<li th-name="'+_.attr("th-name")+'" class="checked-li"><input type="checkbox" checked="checked"/><label><span class="fake-checkbox"></span>'+_.text()+"</label></li>"),
S.html(!t.supportDrag||P||G?'<span class="th-text">'+_.html()+"</span>":'<span class="th-text drag-action">'+_.html()+"</span>");var a=S.css("padding-top");if(!t.supportRemind||void 0==_.attr("remind")||P||G||(k=r["default"](f),k.find(".ra-title").text(_.text()),k.find(".ra-con").text(_.attr("remind")||_.text()),""!=a&&"0px"!=a&&k.css("top",a),S.append(k)),N=_.attr("sorting"),t.supportSorting&&void 0!=N&&!P&&!G){switch(A=r["default"](b),N){case t.sortUpText:A.addClass("sorting-up");break;case t.sortDownText:A.addClass("sorting-down")}""!=a&&"0px"!=a&&A.css("top",a),S.append(A)}!t.supportAdjust||P||G||(E=r["default"](m),e==C.length-1&&E.hide(),S.append(E)),_.html(S);var o=_.attr("width");if(P||G)_.width(50);else if(o&&""!==o)_.width(o),_.removeAttr("width");else{var i=v["default"].getTextWidth(_),d=_.width();_.width(d>i?d:i)}}),e.removeClass("GridManager-loading"),e.addClass("GridManager-ready")},resetTd:function(e,t){if(t)var n=r["default"](e),a=n.closest("table");else var a=r["default"](e),n=a.find("tbody tr");if(!n||0==n.length)return!1;var o=c["default"].getSettings(a);if(o.supportAutoOrder){var i,d=o.pageData,s=void 0,u=1;d&&d.pSize&&d.cPage&&(u=d.pSize*(d.cPage-1)+1),r["default"].each(n,function(e,t){i=u+e,s=r["default"]('td[gm-order="true"]',t),0==s.length?r["default"](t).prepend('<td gm-order="true" gm-create="true">'+i+"</td>"):s.text(i)})}if(o.supportCheckbox){var l=void 0;r["default"].each(n,function(e,t){l=r["default"]('td[gm-checkbox="true"]',t),0==l.length?r["default"](t).prepend('<td gm-checkbox="true" gm-create="true"><input type="checkbox"/></td>'):r["default"]('[type="checkbox"]',l).prop("checked",!1)})}if(o.supportDrag){var f,g=c["default"].getOriginalThDOM(a);if(!g||0==g.length)return v["default"].outLog("resetTdForCache:列位置重置所必须的原TH DOM获取失败","error"),!1;var h=[];r["default"].each(n,function(e,t){h=[],f=r["default"]("td",t),r["default"].each(f,function(e,t){h[g.eq(e).index()]=t.outerHTML}),t.innerHTML=h.join("")})}o.supportConfig&&v["default"].setAreVisible(r["default"]('[th-visible="none"]'),!1,!0)}};t["default"]=L},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(5),d=a(i),s=n(4),u=a(s),l=n(3),c=a(l),f={html:function g(){var g='<div class="config-area"><span class="config-action"><i class="iconfont icon-31xingdongdian"></i></span><ul class="config-list"></ul></div>';return g},bindConfigEvent:function(e){var t=u["default"].getSettings(e),n=r["default"](e).closest("div.table-wrap"),a=r["default"](".config-action",n);a.unbind("click"),a.bind("click",function(){var e=r["default"](this),t=e.closest(".config-area");if("block"===t.css("display"))return t.hide(),!1;t.show();var n,a=e.closest(".table-wrap"),o=r["default"]("[grid-manager]",a),i=r["default"]("thead th",o),d=r["default"]("tbody tr",o);r["default"].each(i,function(e,t){t=r["default"](t),r["default"].each(d,function(e,a){n=r["default"]("td",a).eq(t.index()),n.css("display",t.css("display"))})});var s=r["default"](".checked-li",t);1==s.length?s.addClass("no-click"):s.removeClass("no-click")}),r["default"](".config-list li",n).unbind("click"),r["default"](".config-list li",n).bind("click",function(){var e,n=r["default"](this),a=n.attr("th-name"),o=n.find('input[type="checkbox"]'),i=n.closest(".table-wrap"),s=r["default"](".table-div",i),l=r["default"]("[grid-manager]",i),f=r["default"]('thead[grid-manager-thead] th[th-name="'+a+'"]',l);if(n.hasClass("no-click"))return!1;n.closest(".config-list").find(".no-click").removeClass("no-click");var g=!o.prop("checked");s.addClass("config-editing"),d["default"].setAreVisible(f,g,function(){s.removeClass("config-editing")}),e=r["default"]('.config-area input[type="checkbox"]:checked',i),1==e.length&&e.parent().addClass("no-click"),t.supportAdjust&&c["default"].resetAdjust(l),r["default"](".sa-inner",i).width("100%");var h=r["default"]('thead th[th-visible="visible"]',l);r["default"].each(h,function(e,t){t.style.width="auto"}),r["default"].each(h,function(e,t){var n=d["default"].getTextWidth(t),a=r["default"](t).width();r["default"](t).width(n>a?n:a)}),u["default"].setToLocalStorage(l)})}};t["default"]=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(11),d=a(i),s={initDOM:function(e){var t='<th th-name="gm_checkbox" gm-checkbox="true" gm-create="true"><input type="checkbox"/><span style="display: none">'+d["default"].i18nText("checkall-text")+"</span></th>";r["default"]("thead tr",e).prepend(t),e.off("click",'input[type="checkbox"]'),e.on("click",'input[type="checkbox"]',function(){var t=r["default"](this),n=!0,a=r["default"]('thead th[gm-checkbox] input[type="checkbox"]',e),o=r["default"]('tbody td[gm-checkbox] input[type="checkbox"]',e);1===t.closest('th[th-name="gm_checkbox"]').length?r["default"].each(o,function(e,n){n.checked=t.prop("checked"),r["default"](n).closest("tr").attr("checked",n.checked)}):(r["default"].each(o,function(e,t){t.checked===!1&&(n=!1),r["default"](t).closest("tr").attr("checked",t.checked)}),a.prop("checked",n))})},getCheckedTr:function(e){return r["default"]('tbody tr[checked="true"]',e).DOMList||[]}};t["default"]=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(5),i=a(r),d={i18n:"zh-cn",i18nText:function(e){var t=this,n=[];if(2==arguments.length&&"object"==o(arguments[1]))n=arguments[1];else if(arguments.length>1)for(var a=1;a<arguments.length;a++)n.push(arguments[a]);var r="";try{return r=t.textConfig[e][t.i18n]||"",n&&0!=n.length?r=r.replace(/{\d+}/g,function(e){return n[e.match(/\d+/)]}):r}catch(d){return i["default"].outLog("未找到与"+e+"相匹配的"+t.i18n+"语言","warn"),""}},textConfig:{"order-text":{"zh-cn":"序号","en-us":"order"},"first-page":{"zh-cn":"首页","en-us":"first"},"previous-page":{"zh-cn":"上一页","en-us":"previous"},"next-page":{"zh-cn":"下一页","en-us":"next "},"last-page":{"zh-cn":"尾页","en-us":"last "},dataTablesInfo:{"zh-cn":"此页显示 {0}-{1} 共{2}条","en-us":"this page show {0}-{1} count {2}"},"goto-first-text":{"zh-cn":"跳转至","en-us":"goto "},"goto-last-text":{"zh-cn":"页","en-us":"page "},refresh:{"zh-cn":"重新加载","en-us":"Refresh "},"save-as-excel":{"zh-cn":"另存为Excel","en-us":"Save as Excel "},"save-as-excel-for-checked":{"zh-cn":"已选中项另存为Excel","en-us":"Save as Excel of Checked"},"setting-grid":{"zh-cn":"配置表","en-us":"Setting Grid"},"checkall-text":{"zh-cn":"全选","en-us":"All"}}};t["default"]=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(7),d=a(i),s=n(4),u=a(s),l={html:function c(){var c='<a href="" download="" id="gm-export-action"></a>';return c},exportGridToXls:function(e,t,n){function a(e){return window.btoa(unescape(encodeURIComponent(e)))}var o=u["default"].getSettings(e),i=r["default"]("#gm-export-action");if(0===i.length)return void d["default"].outLog("导出失败，请查看配置项:supportExport是否配置正确","error");var s,l,c="data:application/vnd.ms-excel;base64,",f="",g="",h=r["default"](e),p=r["default"]('thead[grid-manager-thead] th[th-visible="visible"][gm-create="false"]',h);s=n?r["default"]('tbody tr[checked="true"]',h):r["default"]("tbody tr",h),r["default"].each(p,function(e,t){f+="<th>"+t.getElementsByClassName("th-text")[0].textContent+"</th>"}),r["default"].each(s,function(e,t){l=r["default"]('td[gm-create="false"]',t),g+="<tr>",r["default"].each(l,function(e,t){g+=t.outerHTML}),g+="</tr>"});var m='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><body><table><thead>'+f+"</thead><tbody>"+g+"</tbody></table></body></html>";i.prop("href",c+a(m)),i.prop("download",(t||o.gridManagerName)+".xls"),i.get(0).click()}};t["default"]=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(11),d=a(i),s={initDOM:function(e){var t='<th th-name="gm_order" gm-order="true" gm-create="true">'+d["default"].i18nText("order-text")+"</th>";r["default"]("thead tr",e).prepend(t)}};t["default"]=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i={html:function d(){var d='<div class="remind-action"><i class="ra-help iconfont icon-icon"></i><div class="ra-area"><span class="ra-title"></span><span class="ra-con"></span></div></div>';return d},bindRemindEvent:function(e){var t,n,a,o=r["default"](".remind-action",e);o.unbind("mouseenter"),o.bind("mouseenter",function(){t=r["default"](this).find(".ra-area"),n=r["default"](this).closest(".table-div"),t.show(),a=n.get(0).offsetWidth-(r["default"](this).offset().left-n.offset().left)>t.get(0).offsetWidth,t.css({left:a?"0px":"auto",right:a?"auto":"0px"})}),o.unbind("mouseleave"),o.bind("mouseleave",function(){t=r["default"](this).find(".ra-area"),t.hide()})}};t["default"]=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(5),d=a(i),s=n(7),u=a(s),l=n(4),c=a(l),f={html:function g(){var g='<div class="sorting-action"><i class="sa-icon sa-up iconfont icon-sanjiao2"></i><i class="sa-icon sa-down iconfont icon-sanjiao1"></i></div>';return g},setSort:function(e,t,n,a){console.log(a);var o=c["default"].getSettings(e);if(0==e.length||!t||r["default"].isEmptyObject(t))return!1;"undefined"==typeof a&&(a=!0);var i,d,s;for(var l in t)i=r["default"]('[th-name="'+l+'"]',e),s=t[l],d=r["default"](".sorting-action",i),s==o.sortUpText?(i.attr("sorting",o.sortUpText),d.removeClass("sorting-down"),d.addClass("sorting-up")):s==o.sortDownText&&(i.attr("sorting",o.sortDownText),d.removeClass("sorting-up"),d.addClass("sorting-down"));return a?u["default"].__refreshGrid(e,n):"function"==typeof n?n():"",e},bindSortingEvent:function(e){var t,n,a,o,i=c["default"].getSettings(e),s=r["default"]("th[sorting]",e);r["default"](".sorting-action",s).unbind("mouseup"),r["default"](".sorting-action",s).bind("mouseup",function(){if(t=r["default"](this),n=t.closest("th"),a=n.closest("table"),o=n.attr("th-name"),!o||""==r["default"].trim(o))return d["default"].outLog("排序必要的参数丢失","error"),!1;i.isCombSorting||r["default"].each(r["default"](".sorting-action",a),function(e,n){n!=t.get(0)&&(r["default"](n).removeClass("sorting-up sorting-down"),r["default"](n).closest("th").attr("sorting",""))}),t.hasClass("sorting-down")?(t.addClass("sorting-up"),t.removeClass("sorting-down"),n.attr("sorting",i.sortUpText)):(t.addClass("sorting-down"),t.removeClass("sorting-up"),n.attr("sorting",i.sortDownText)),i.sortData={},i.isCombSorting?r["default"].each(r["default"]("th[th-name][sorting]",a),function(e,t){""!=t.getAttribute("sorting")&&(i.sortData[t.getAttribute("th-name")]=t.getAttribute("sorting"))}):i.sortData[n.attr("th-name")]=n.attr("sorting"),c["default"].updateSettings(e,i);var s=r["default"].extend({},i.query,i.sortData,i.pageData);i.sortingBefore(s),u["default"].__refreshGrid(e,function(){i.sortingAfter(s,n)})})}};t["default"]=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(4),d=a(i),s=n(11),u=a(s),l=n(12),c=a(l),f=n(!function(){var e=new Error('Cannot find module "./AjaxPage"');throw e.code="MODULE_NOT_FOUND",e}()),g=a(f),h={checkMenuPageAction:function(e){var t=d["default"].getSettings(e),n=r["default"]('.grid-menu[grid-master="'+t.gridManagerName+'"]');if(n&&0!==n.length){var a=r["default"]('[refresh-type="previous"]',n),o=r["default"]('[refresh-type="next"]',n);1===t.pageData.cPage||0===t.pageData.tPage?a.addClass("disabled"):a.removeClass("disabled"),t.pageData.cPage===t.pageData.tPage||0===t.pageData.tPage?o.addClass("disabled"):o.removeClass("disabled")}},bindRightMenuEvent:function(e){function t(e,t){return r["default"](e).hasClass("disabled")?(t.stopPropagation(),t.preventDefault(),!0):!1}var n=d["default"].getSettings(e),a=r["default"](e).closest(".table-wrap"),o=(r["default"]("tbody",a),'<div class="grid-menu" grid-master="'+n.gridManagerName+'">');n.supportAjaxPage&&(o+='<span grid-action="refresh-page" refresh-type="previous">'+u["default"].i18nText("previous-page")+'<i class="iconfont icon-sanjiao2"></i></span><span grid-action="refresh-page" refresh-type="next">'+u["default"].i18nText("next-page")+'<i class="iconfont icon-sanjiao1"></i></span>'),o+='<span grid-action="refresh-page" refresh-type="refresh">'+u["default"].i18nText("refresh")+'<i class="iconfont icon-31shuaxin"></i></span>',n.supportExport&&(o+='<span class="grid-line"></span><span grid-action="export-excel" only-checked="false">'+u["default"].i18nText("save-as-excel")+'<i class="iconfont icon-baocun"></i></span><span grid-action="export-excel" only-checked="true">'+u["default"].i18nText("save-as-excel-for-checked")+'<i class="iconfont icon-saveas24"></i></span>'),n.supportConfig&&(o+='<span class="grid-line"></span><span grid-action="setting-grid">'+u["default"].i18nText("setting-grid")+'<i class="iconfont icon-shezhi"></i></span>'),o+="</div>";var i=r["default"]("body");i.append(o);var s=r["default"]('.grid-menu[grid-master="'+n.gridManagerName+'"]');a.unbind("contextmenu"),a.bind("contextmenu",function(e){if(e.preventDefault(),e.stopPropagation(),"TBODY"===e.target.nodeName||0!==r["default"](e.target).closest("tbody").length){var t=r["default"]('[grid-action="export-excel"][only-checked="true"]');0===r["default"]('tbody tr[checked="true"]',r["default"]('table[grid-manager="'+n.gridManagerName+'"]')).length?t.addClass("disabled"):t.removeClass("disabled");var o=s.width(),d=s.height(),u=document.documentElement.offsetHeight,l=document.documentElement.offsetWidth,c=u<e.clientY+d?e.clientY-d:e.clientY,f=l<e.clientX+o?e.clientX-o:e.clientX;s.css({top:c+a.get(0).scrollTop+(document.body.scrollTop||document.documentElement.scrollTop),left:f+a.get(0).scrollLeft+(document.body.scrollLeft||document.documentElement.scrollLeft)}),r["default"](".grid-menu[grid-master]").hide(),s.show(),i.off("mousedown.gridMenu"),i.on("mousedown.gridMenu",function(e){var t=r["default"](e.target);t.hasClass(".grid-menu")||1===t.closest(".grid-menu").length||(i.off("mousedown.gridMenu"),s.hide())})}});var l=r["default"]('[grid-action="refresh-page"]');l.unbind("click"),l.bind("click",function(e){if(t(this,e))return!1;var n=r["default"](this).closest(".grid-menu"),a=r["default"]('table[grid-manager="'+n.attr("grid-master")+'"]'),o=this.getAttribute("refresh-type"),s=d["default"].getSettings(a),u=s.pageData.cPage;"previous"===o&&s.pageData.cPage>1?u=s.pageData.cPage-1:"next"===o&&s.pageData.cPage<s.pageData.tPage?u=s.pageData.cPage+1:"refresh"===o&&(u=s.pageData.cPage),g["default"].gotoPage(a,u),i.off("mousedown.gridMenu"),n.hide()});var f=r["default"]('[grid-action="export-excel"]');f.unbind("click"),f.bind("click",function(e){if(t(this,e))return!1;var n=r["default"](this).closest(".grid-menu"),a=r["default"]('table[grid-manager="'+n.attr("grid-master")+'"]'),o=!1;"true"===this.getAttribute("only-checked")&&(o=!0),c["default"].exportGridToXls(a,void 0,o),i.off("mousedown.gridMenu"),n.hide()});var h=r["default"]('[grid-action="setting-grid"]');h.unbind("click"),h.bind("click",function(e){if(t(this,e))return!1;var n=r["default"](this).closest(".grid-menu"),a=r["default"]('table[grid-manager="'+n.attr("grid-master")+'"]'),o=r["default"](".config-area",a.closest(".table-wrap"));r["default"](".config-action",o).trigger("click"),i.off("mousedown.gridMenu"),n.hide()})}};t["default"]=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(5),d=a(i),s=n(3),u=a(s),l=n(4),c=a(l),f={bindDragEvent:function(e){var t,n,a,o,i,s,l,f,g,h,p,m,v,b=r["default"]("thead th",e),y=b.find(".drag-action");y.unbind("mousedown"),y.bind("mousedown",function(b){var y=c["default"].getSettings(e);t=r["default"](this).closest("th"),n=void 0,a=void 0,o=void 0,i=void 0,s=t.parent(),l=s.find('th[th-visible="visible"]'),f=s.closest("table"),g=f.closest(".table-div"),h=f.closest(".table-wrap"),p=d["default"].getRowTd(t),y.dragBefore(b),r["default"]("body").addClass("no-select-text"),m=g.css("position"),"relative"!=m&&"absolute"!=m&&g.css("position","relative"),t.addClass("drag-ongoing opacityChange"),p.addClass("drag-ongoing opacityChange"),h.append('<div class="dreamland-div"></div>'),v=r["default"](".dreamland-div",h),v.get(0).innerHTML='<table class="dreamland-table '+f.attr("class")+'"></table>';var x,w,T='<thead><tr><th style="height:'+t.get(0).offsetHeight+'px">'+t.find(".drag-action").get(0).outerHTML+"</th></tr></thead><tbody>";r["default"].each(p,function(e,t){w=t.cloneNode(!0),w.style.height=t.offsetHeight+"px",x=r["default"](t).closest("tr").clone(),T+=x.html(w.outerHTML).get(0).outerHTML}),T+="</tbody>",r["default"](".dreamland-table",v).html(T);var M=0;r["default"]("body").unbind("mousemove"),r["default"]("body").bind("mousemove",function(e){M=t.index(l),n=void 0,M>0&&(n=l.eq(M-1)),a=void 0,M<l.length&&(a=l.eq(M+1)),n&&0!==n.length&&"true"===n.attr("gm-create")?n=void 0:a&&0!==a.length&&"true"===a.attr("gm-create")&&(a=void 0),v.show(),v.css({width:t.get(0).offsetWidth,height:f.get(0).offsetHeight,left:e.clientX-g.offset().left+g.get(0).scrollLeft+(document.body.scrollLeft||document.documentElement.scrollLeft)-t.get(0).offsetWidth/2+"px",top:e.clientY-g.offset().top+g.get(0).scrollTop+(document.body.scrollTop||document.documentElement.scrollTop)-v.find("th").get(0).offsetHeight/2}),n&&0!=n.length&&v.get(0).offsetLeft<n.get(0).offsetLeft&&(o=d["default"].getRowTd(n),n.before(t),r["default"].each(p,function(e,t){o.eq(e).before(t)}),l=s.find("th")),a&&0!=a.length&&v.get(0).offsetLeft>a.get(0).offsetLeft-v.get(0).offsetWidth/2&&(i=d["default"].getRowTd(a),a.after(t),r["default"].each(p,function(e,t){i.eq(e).after(t)}),l=s.find("th"))}),r["default"]("body").unbind("mouseup"),r["default"]("body").bind("mouseup",function(n){var a=c["default"].getSettings(e);r["default"]("body").unbind("mousemove"),v=r["default"](".dreamland-div"),0!=v.length&&v.animate({top:f.get(0).offsetTop+"px",left:t.get(0).offsetLeft-g.get(0).scrollLeft+"px"},a.animateTime,function(){g.css("position",m),t.removeClass("drag-ongoing"),p.removeClass("drag-ongoing"),v.remove(),a.dragAfter(n)}),c["default"].setToLocalStorage(f),a.supportAdjust&&u["default"].resetAdjust(f),r["default"]("body").removeClass("no-select-text")})})}};t["default"]=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i={bindScrollFunction:function(e){var t=e.closest(".table-div"),n=t.closest(".table-wrap");window.addEventListener("resize",function(){var n=r["default"](".set-top",e);n&&1===n.length&&(n.remove(),t.trigger("scroll"))}),t.unbind("scroll"),t.bind("scroll",function(a,o){var i=r["default"](this).scrollTop();t=e.closest(".table-div"),n=t.closest(".table-wrap");var d=r["default"]("thead[grid-manager-thead]",e),s=r["default"]("tbody",e),u=r["default"](".set-top",e);return 0==r["default"]("tr",s).length?!0:((0==u.length||o)&&(0==u.length?e.append(d.clone(!0).addClass("set-top")):"",u=r["default"](".set-top",e),u.removeAttr("grid-manager-thead"),u.removeClass("scrolling"),u.css({width:d.width(),left:e.css("border-left-width")+"px"}),r["default"].each(r["default"]("th",d),function(e,t){r["default"]("th",u).eq(e).width(r["default"](t).width())})),0!==u.length?(0===i?(d.removeClass("scrolling"),u.remove()):(d.addClass("scrolling"),u.css({top:i})),!0):void 0)})}};t["default"]=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i={useDefaultStyle:!0,supportDrag:!0,dragBefore:r["default"].noop,dragAfter:r["default"].noop,supportAdjust:!0,adjustBefore:r["default"].noop,adjustAfter:r["default"].noop,supportRemind:!1,supportConfig:!0,width:"100%",height:"300px",animateTime:300,disableCache:!1,supportSorting:!1,isCombSorting:!1,sortKey:"sort_",sortData:{},sortUpText:"ASC",sortDownText:"DESC",sortingBefore:r["default"].noop,sortingAfter:r["default"].noop,supportAjaxPage:!1,sizeData:[10,20,30,50,100],pageSize:20,pageData:{},query:{},pagingBefore:r["default"].noop,pagingAfter:r["default"].noop,supportAutoOrder:!0,supportCheckbox:!0,i18n:"zh-cn",columnData:[],gridManagerName:"",ajax_url:"",ajax_type:"GET",ajax_headers:{},ajax_beforeSend:r["default"].noop,ajax_success:r["default"].noop,ajax_complete:r["default"].noop,ajax_error:r["default"].noop,ajax_data:void 0,dataKey:"data",totalsKey:"totals",supportExport:!0};t["default"]=i}]);