{"version":3,"sources":["webpack:///webpack/bootstrap cd097681e81d4a7c12b3","webpack:///./js/Base.js","webpack:///./js/Cache.js","webpack:///./js/Adjust.js","webpack:///./js/Core.js","webpack:///./js/I18n.js","webpack:///./js/AjaxPage.js","webpack:///./js/Export.js","webpack:///./js/GridManager.js","webpack:///./js/Config.js","webpack:///./js/Menu.js","webpack:///./js/Remind.js","webpack:///./js/Sort.js","webpack:///./js/Store.js","webpack:///./js/Publish.js","webpack:///./js/Checkbox.js","webpack:///./js/Drag.js","webpack:///./js/Hover.js","webpack:///./js/Order.js","webpack:///./js/Scroll.js","webpack:///./js/Settings.js","webpack:///./js/index.js","webpack:///./css/index.scss","webpack:///../~/jTool/jTool.min.js"],"names":["$","window","jTool","BaseClass","msg","type","console","log","info","warn","error","$table","attr","$th","tableWrap","closest","thIndex","index","trList","tdList","_td","each","i","v","get","push","_thList","_trList","i2","v2","eq","$thList","isVisible","cb","_table","_tableWarp","_th","_tdList","_checkLi","_checkbox","find","length","setAttribute","addClass","prop","removeClass","th","thWarp","thText","textDreamland","text","css","fontSize","fontWeight","fontFamily","thPaddingLeft","thPaddingRight","thWidth","width","dom","loading","remove","loadingDom","append","loadInner","domHeight","height","loadInnerHeight","setTimeout","interactive","interactiveList","indexOf","removeAttr","$tableDiv","Base","Cache","initCoreMethod","initGridData","initUserMemory","__getRowData","target","gmName","getKey","responseData","getAttribute","rodData","setRowData","key","value","getTableData","delUserMemory","localStorage","removeItem","GridManagerMemory","getItem","JSON","parse","_key","getMemoryKey","setItem","stringify","settings","getSettings","outLog","noCache","location","pathname","hash","gridManagerName","getUserMemory","_data","cache","saveUserMemory","Settings","_this","disableCache","thList","_cache","_pageCache","_thCache","_thData","$v","th_name","supportDrag","th_index","supportAdjust","th_width","supportConfig","isShow","checked","supportAjaxPage","pSize","parseInt","val","page","_cacheString","extend","setSettings","cleanTableCacheForVersion","cacheVersion","version","cleanTableCache","cleanText","configTheadForCache","_domArray","isEmptyObject","_thNameTmpList","_dataAvailable","_thJson","setAreVisible","html","setOriginalThDOM","_thDOM","originalTh","data","getOriginalThDOM","_thArray","__setGridManager","GM","gridManager","__getGridManager","Adjust","off","on","event","_dragAction","$tr","parent","_$table","_allTh","$nextTh","$td","getColTd","adjustBefore","updateInteractive","runMoveEvent","runStopEvent","_thWidth","_NextWidth","_thMinWidth","getTextWidth","_NextThMinWidth","unbind","bind","clientX","offset","left","Math","ceil","hasClass","adjustAfter","updateScrollStatus","_adjustAction","show","hide","Core","callback","refreshAction","ajax_data","driveDomForSuccessAfter","ajax_success","removeRefreshingClass","ajax_url","pram","query","pageData","supportSorting","sortData","cPage","tPage","showLoading","ajax_type","toUpperCase","ajax_headers","requestHandler","ajax","url","headers","beforeSend","ajax_beforeSend","XMLHttpRequest","success","response","textStatus","errorThrown","ajax_error","complete","ajax_complete","hideLoading","$tableWrap","tbodyDOM","tbodyTmpHTML","parseRes","responseHandler","dataKey","alignAttr","template","templateHTML","emptyTemplate","totals","columnData","align","resetTd","resetPageData","totalsKey","checkMenuPageAction","theadHtml","tbodyHtml","widthInfo","remindHtml","sortingHtml","supportRemind","remind","sorting","sortDownText","sortUpText","supportAutoOrder","initDOM","supportCheckbox","initCheckbox","isLmOrder","isLmCheckbox","onlyThead","onlyThList","wrapHtml","wrap","tableWarp","createHtml","initAjaxPage","supportExport","configList","onlyTH","onlyWidth","onlyThWarp","onlyThWarpPaddingTop","undefined","remindDOM","sortType","sortingDom","adjustDOM","_minWidth","_oldWidth","isSingleRow","_tr","_pageData","onlyOrderTd","_orderBaseNumber","_orderText","prepend","onlyCheckTd","_thCacheList","_tdArray","outerHTML","innerHTML","join","initVisible","I18n","i18n","language","textConfig","v1","v3","intrusion","arguments","_text","getText","getLanguage","replace","word","match","e","AjaxPage","i18nText","pageToolbar","sizeData","createPageSizeDOM","bindPageJumpEvent","bindSetPageSizeEvent","pagination","joinPagination","Number","tHtml","lHtml","firstClassName","previousClassName","maxI","nextClassName","lastClassName","_sizeData_","pSizeArea","_ajaxPageHtml","gp_input","pageAction","gotoPage","which","_inputValue","focus","_input","_value","trim","__refreshGrid","_cPage","pageSize","pagingBefore","pagingAfter","sizeArea","_size","_pageData_","toolBar","pSizeInfo","fromNum","toNum","totalNum","tSize","tmpHtml","isNaN","getPageData","createPaginationDOM","resetPSize","_pSize","_tSize","Export","theadHTML","tbodyHTML","exportHTML","fileName","onlyChecked","gmExportAction","uri","thDOM","trDOM","tdDOM","getElementsByClassName","textContent","createExportHTML","base64","click","s","btoa","unescape","encodeURIComponent","GridManager","table","arg","_settings","configPageForCache","initTable","createDOM","resetAdjust","bindAdjustEvent","bindDragEvent","bindSortingEvent","bindRemindEvent","bindConfigEvent","onTbodyHover","bindScrollFunction","bindRightMenuEvent","sortJson","refresh","__setSort","__exportGridToXls","isGotoFirstPage","ajaxData","querySelectorAll","getCheckedTr","Config","configAction","_configAction","_configArea","checkedLi","_only","_thName","_tableDiv","_checkedList","_visibleTh","style","_realWidthForThText","topThead","trigger","Menu","gridMenu","previousPage","nextPage","menuHTML","_body","menuDOM","preventDefault","stopPropagation","nodeName","exportExcelOfChecked","menuWidth","menuHeight","offsetHeight","document","documentElement","offsetWidth","top","clientY","scrollTop","body","scrollLeft","eventSource","refreshPage","isDisabled","_gridMenu","refreshType","exportExcel","settingGrid","configArea","events","Remind","remindAction","raArea","tableDiv","theLeft","right","Sort","_sortAction","_sortType","action","thName","isCombSorting","updateSortStyle","_action","sortingBefore","sortingAfter","sortAction","Store","PublishMethodClass","getLocalStorage","clear","getRowData","setSort","showTh","hideTh","exportGridToXls","setQuery","setAjaxData","refreshGrid","getCheckedData","PublishMethod","publishMethodArray","Checkbox","checkboxHtml","bindCheckboxEvent","_thChecked","_checkAction","_thCheckbox","_tdCheckbox","Drag","$body","prevTh","nextTh","_tableWrap","colTd","dragBefore","dreamlandDIV","_tbodyHtml","_cloneTr","_cloneTd","cloneNode","clone","_thIndex","e2","pageXOffset","pageYOffset","haveMockThead","updateDrag","animate","offsetTop","offsetLeft","animateTime","dragAfter","prevTd","nextTd","before","_prevTh","__th","after","_nextTh","Hover","Order","orderHtml","Scroll","tableDIV","addEventListener","_setTopHead","_isWindowResize_","_scrollDOMTop","_thead","_tbody","drag","noop","adjust","config","gridStyle","sort","sortKey","ajaxPage","autoOrder","checkbox","gridData","gridExport","TextSettings","Element","prototype","name","condition","Error","_GM","init","gmData","jQuery","fn"],"mappings":"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","file":"js/GridManager.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd097681e81d4a7c12b3","/*\n * Base: 基础方法\n * */\nimport {} from '../../node_modules/jTool/jTool.min';\nconst $ = window.jTool;\nconst jTool = window.jTool;\nclass BaseClass {\n\t/**\n\t * 输出日志\n\t * @param msg 输出文本\n\t * @param type 输出分类[info,warn,error]\n\t * @returns {*}\n     */\n\toutLog(msg, type) {\n\t\tif (!type) {\n\t\t\tconsole.log('GridManager:', msg);\n\t\t} else if (type === 'info') {\n\t\t\tconsole.info('GridManager Info: ', msg);\n\t\t} else if (type === 'warn') {\n\t\t\tconsole.warn('GridManager Warn: ', msg);\n\t\t} else if (type === 'error') {\n\t\t\tconsole.error('GridManager Error: ', msg);\n\t\t}\n\t\treturn msg;\n\t}\n\n\t/**\n\t * 获取表的GM 唯一标识\n\t * @param $table\n\t * @returns {*|string}\n     */\n\tgetKey($table) {\n\t\treturn $table.attr('grid-manager') || '';\n\t}\n\n\t/**\n\t * 获取与 th 同列的 td jTool 对象, 该方法的调用者只允许为 Th\n\t * @param $th\n\t * @returns {*|HTMLElement|jQuery}\n     */\n\tgetColTd($th) {\n\t\tconst tableWrap = $th.closest('.table-wrap');\n\t\tconst thIndex = $th.index();\n\t\tconst trList = $('tbody tr', tableWrap);\n\t\tlet tdList = [];\n\t\tlet _td = null;\n\t\t$.each(trList, (i, v) => {\n\t\t\t_td = $('td', v).get(thIndex);\n\t\t\tif (_td) {\n\t\t\t\ttdList.push(_td);\n\t\t\t}\n\t\t});\n\t\treturn $(tdList);\n\t}\n\n\t/**\n\t * 初始化列显示|隐藏\n\t * @param $table\n     */\n\tinitVisible($table) {\n\t\t// 所有的th\n\t\tconst _thList = $('thead th', $table);\n\n\t\t// tbody下的tr\n\t\tconst _trList = $('tbody tr', $table);\n\t\tlet\t_td = null;\n\t\t$.each(_thList, (i, v) => {\n\t\t\tv = $(v);\n\t\t\t$.each(_trList, (i2, v2) => {\n\t\t\t\t_td = $('td', v2).eq(v.index());\n\t\t\t\t_td.attr('td-visible', v.attr('th-visible'));\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * 设置列是否可见\n\t * @param $thList 即将配置的列所对应的th[jTool object，可以是多个]\n\t * @param isVisible 是否可见\n     * @param cb\n     */\n\tsetAreVisible($thList, isVisible, cb) {\n\t\t// 当前所在的table\n\t\tlet _table = null;\n\n\t\t// 当前所在的容器\n\t\tlet\t_tableWarp;\n\n\t\t// 当前操作的th\n\t\tlet\t_th = null;\n\n\t\t// 当前tbody下所有的tr\n\t\tlet\t_trList = null;\n\n\t\t// 所对应的td\n\t\tlet\t_tdList = [];\n\n\t\t// 所对应的显示隐藏所在的li\n\t\tlet\t_checkLi = null;\n\n\t\t// 所对应的显示隐藏事件\n\t\tlet\t_checkbox = null;\n\t\t$.each($thList, (i, v) => {\n\t\t\t_th = $(v);\n\t\t\t_table = _th.closest('table');\n\t\t\t_tableWarp = _table.closest('.table-wrap');\n\t\t\t_trList = $('tbody tr', _table);\n\t\t\t_checkLi = $(`.config-area li[th-name=\"${_th.attr('th-name')}\"]`, _tableWarp);\n\t\t\t_checkbox = _checkLi.find('input[type=\"checkbox\"]');\n\t\t\tif (_checkbox.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$.each(_trList, (i2, v2) => {\n\t\t\t\t_tdList.push($(v2).find('td').get(_th.index()));\n\t\t\t});\n\t\t\t// 显示\n\t\t\tif (isVisible) {\n\t\t\t\t_th.attr('th-visible', 'visible');\n\t\t\t\t$.each(_tdList, (i2, v2) => {\n\t\t\t\t\t// $(v2).show();\n\t\t\t\t\tv2.setAttribute('td-visible', 'visible');\n\t\t\t\t});\n\t\t\t\t_checkLi.addClass('checked-li');\n\t\t\t\t_checkbox.prop('checked', true);\n\t\t\t} else {\n\t\t\t\t// 隐藏\n\t\t\t\t_th.attr('th-visible', 'none');\n\t\t\t\t$.each(_tdList, (i2, v2) => {\n\t\t\t\t\t// $(v2).hide();\n\t\t\t\t\tv2.setAttribute('td-visible', 'none');\n\t\t\t\t});\n\t\t\t\t_checkLi.removeClass('checked-li');\n\t\t\t\t_checkbox.prop('checked', false);\n\t\t\t}\n\t\t\ttypeof cb === 'function' ? cb() : '';\n\t\t});\n\t}\n\n\t/**\n\t * 获取TH宽度\n\t * @param th\n\t * @returns {*}\n     */\n\tgetTextWidth(th) {\n\t\tconst $th = $(th);\n\n\t\t// th下的GridManager包裹容器\n\t\tconst thWarp = $('.th-wrap', $th);\n\n\t\t// 文本所在容器\n\t\tconst thText = $('.th-text', $th);\n\n\t\t// 文本镜象 用于处理实时获取文本长度\n\t\tconst tableWrap = $th.closest('.table-wrap');\n\t\tconst textDreamland\t= $('.text-dreamland', tableWrap);\n\n\t\t// 将th文本嵌入文本镜象 用于获取文本实时宽度\n\t\ttextDreamland.text(thText.text());\n\t\ttextDreamland.css({\n\t\t\tfontSize: thText.css('font-size'),\n\t\t\tfontWeight: thText.css('font-weight'),\n\t\t\tfontFamily: thText.css('font-family')\n\t\t});\n\t\tconst thPaddingLeft = thWarp.css('padding-left');\n\t\tconst thPaddingRight = thWarp.css('padding-right');\n\t\tconst thWidth = textDreamland.width() + (thPaddingLeft || 0) + (thPaddingRight || 0);\n\t\treturn thWidth;\n\t}\n\n\t/**\n\t * 显示加载中动画\n\t * @param dom 加载动画的容器\n\t * @param cb 回调函数\n     */\n\tshowLoading(dom, cb) {\n\t\tif (!dom || dom.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst loading = dom.find('.load-area');\n\t\tif (loading.length > 0) {\n\t\t\tloading.remove();\n\t\t}\n\t\tconst loadingDom = $(`<div class=\"load-area loading\"><div class=\"loadInner kernel\"></div></div>`);\n\t\tdom.append(loadingDom);\n\n\t\t// 进行loading图标居中显示\n\t\tconst loadInner = dom.find('.load-area').find('.loadInner');\n\t\tconst domHeight = dom.height();\n\t\tconst loadInnerHeight = loadInner.height();\n\t\tloadInner.css('margin-top', (domHeight - loadInnerHeight) / 2);\n\t\twindow.setTimeout(() => {\n\t\t\ttypeof cb === 'function' ? cb() : '';\n\t\t}, 100);\n\t}\n\n\t/**\n\t * 隐藏加载中动画\n\t * @param dom\n\t * @param cb\n     */\n\thideLoading(dom, cb) {\n\t\tif (!dom || dom.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\twindow.setTimeout(() => {\n\t\t\t$('.load-area', dom).remove();\n\t\t\ttypeof cb === 'function' ? cb() : '';\n\t\t}, 500);\n\t}\n\n\t/**\n\t * 更新当前用户交互状态, 用于优化置顶状态下进行[拖拽, 宽度调整]操作时,页面出现滚动的问题\n\t * @param $table\n\t * @param interactive: 如果不存在于interactiveList内, 将删除属性[user-interactive]\n\t */\n\tupdateInteractive($table, interactive) {\n\t\tconst interactiveList = ['Adjust', 'Drag'];\n\t\t// 事件源所在的容器\n\t\tlet\ttableWrap = $table.closest('.table-wrap');\n\t\tif (!interactive || interactiveList.indexOf(interactive) === -1) {\n\t\t\ttableWrap.removeAttr('user-interactive');\n\t\t} else {\n\t\t\ttableWrap.attr('user-interactive', interactive);\n\t\t}\n\t}\n\n\t/**\n\t * 更新滚动轴显示状态\n\t * @param $table\n\t */\n\tupdateScrollStatus($table) {\n\t\tconst $tableDiv = $table.closest('.table-div');\n\t\t// 宽度: table === tableDiv 隐藏横向滚动轴. 反之 显示\n\t\tif ($table.width() === $tableDiv.width()) {\n\t\t\t$tableDiv.css('overflow-x', 'hidden');\n\t\t\treturn 'hidden';\n\t\t} else {\n\t\t\t$tableDiv.css('overflow-x', 'auto');\n\t\t\treturn 'auto';\n\t\t}\n\t}\n}\nconst Base = new BaseClass();\nexport {jTool, $, Base};\n\n\n\n// WEBPACK FOOTER //\n// ./js/Base.js","/*\n* @Cache: 本地缓存\n* 缓存分为三部分:\n* 1.GridData: 渲染表格时所使用的json数据 [存储在GM实例]\n* 2.Cache: 核心缓存数据 [存储在DOM上]\n* 3.UserMemory: 用户记忆 [存储在localStorage]\n* */\nimport { $, Base } from './Base';\nimport store from './Store';\nclass Cache {\n\tconstructor() {\n\t\tthis.initCoreMethod();\n\t\tthis.initGridData();\n\t\tthis.initUserMemory();\n\t}\n\t/**\n\t * 渲染表格使用的json数据 通过每个tr上的cache-key进行获取\n\t */\n\tinitGridData() {\n\t\t/**\n\t\t * 获取当前行渲染时使用的数据\n\t\t * @param $table 当前操作的grid,由插件自动传入\n\t\t * @param target 将要获取数据所对应的tr[Element or NodeList]\n\t\t * @returns {*}\n         * @private\n         */\n\t\tthis.__getRowData = ($table, target) => {\n\t\t\tconst gmName = Base.getKey($table);\n\t\t\tif (!store.responseData[gmName]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// target type = Element 元素时, 返回单条数据对象;\n\t\t\tif ($.type(target) === 'element') {\n\t\t\t\treturn store.responseData[gmName][target.getAttribute('cache-key')];\n\t\t\t} else if ($.type(target) === 'nodeList') {\n\t\t\t\t// target type =  NodeList 类型时, 返回数组\n\t\t\t\tlet rodData = [];\n\t\t\t\t$.each(target, function (i, v) {\n\t\t\t\t\trodData.push(store.responseData[gmName][v.getAttribute('cache-key')]);\n\t\t\t\t});\n\t\t\t\treturn rodData;\n\t\t\t} else {\n\t\t\t\t// 不为Element NodeList时, 返回空对象\n\t\t\t\treturn {};\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * 存储行数据\n\t\t * @param gmName\n\t\t * @param key\n         * @param value\n         */\n\t\tthis.setRowData = (gmName, key, value) => {\n\t\t\tif (!store.responseData[gmName]) {\n\t\t\t\tstore.responseData[gmName] = {};\n\t\t\t}\n\t\t\tstore.responseData[gmName][key] = value;\n\t\t};\n\n\t\t/**\n\t\t * 获取完整的渲染时使用的数据\n\t\t * @param $table\n         */\n\t\tthis.getTableData = $table => {\n\t\t\treturn store.responseData[Base.getKey($table)] || {};\n\t\t};\n\t}\n\n\t// TODO 需要处理项: 将所有的记忆信息放至一个字段, 不再使用一个表一个字段.\n\t/**\n\t * 用户记忆\n\t */\n\tinitUserMemory() {\n\n\t\t/**\n\t\t * 删除用户记忆\n\t\t * @param $table\n\t\t * @returns {boolean}\n         */\n\t\tthis.delUserMemory = $table => {\n\t\t\t// 如果未指定删除的table, 则全部清除\n\t\t\tif (!$table || $table.length === 0) {\n\t\t\t\twindow.localStorage.removeItem('GridManagerMemory');\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet GridManagerMemory = window.localStorage.getItem('GridManagerMemory');\n\t\t\tif (!GridManagerMemory) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tGridManagerMemory = JSON.parse(GridManagerMemory);\n\n\t\t\t// 指定删除的table, 则定点清除\n\t\t\tconst _key = this.getMemoryKey($table);\n\t\t\tdelete GridManagerMemory[_key];\n\n\t\t\t// 清除后, 重新存储\n\t\t\twindow.localStorage.setItem('GridManagerMemory', JSON.stringify(GridManagerMemory));\n\t\t\treturn true;\n\t\t};\n\n\t\t/**\n\t\t * 获取表格的用户记忆标识码\n\t\t * @param $table\n\t\t * @returns {*}\n\t\t */\n\t\tthis.getMemoryKey = $table => {\n\t\t\tconst settings = this.getSettings($table);\n\t\t\t// 验证table是否有效\n\t\t\tif (!$table || $table.length === 0) {\n\t\t\t\tBase.outLog('getUserMemory:无效的table', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// 当前表是否禁用缓存  被禁用原因是用户缺失了必要的参数\n\t\t\tconst noCache = $table.attr('no-cache');\n\t\t\tif (noCache && noCache === 'true') {\n\t\t\t\tBase.outLog('缓存已被禁用：当前表缺失必要html标签属性[grid-manager或th-name]', 'info');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!window.localStorage) {\n\t\t\t\tBase.outLog('当前浏览器不支持：localStorage，缓存功能失效', 'info');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn window.location.pathname + window.location.hash + '-' + settings.gridManagerName;\n\t\t};\n\n\t\t/**\n\t\t * 获取用户记忆\n\t\t * @param $table\n\t\t * @returns {*} 成功则返回本地存储数据,失败则返回空对象\n\t\t */\n\t\tthis.getUserMemory = $table => {\n\t\t\tif (!$table || $table.length === 0) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst _key = this.getMemoryKey($table);\n\t\t\tif (!_key) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tlet GridManagerMemory = window.localStorage.getItem('GridManagerMemory');\n\t\t\t// 如无数据，增加属性标识：grid-manager-cache-error\n\t\t\tif (!GridManagerMemory || GridManagerMemory === '{}') {\n\t\t\t\t$table.attr('grid-manager-cache-error', 'error');\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tGridManagerMemory = JSON.parse(GridManagerMemory);\n\t\t\tconst _data = {\n\t\t\t\tkey: _key,\n\t\t\t\tcache: JSON.parse(GridManagerMemory[_key] || '{}')\n\t\t\t};\n\t\t\treturn _data;\n\t\t};\n\n\t\t/**\n\t\t * 存储用户记忆\n\t\t * @param $table\n\t\t * @returns {boolean}\n\t\t */\n\t\tthis.saveUserMemory = $table => {\n\t\t\tconst Settings = this.getSettings($table);\n\t\t\tconst _this = this;\n\n\t\t\t// 当前为禁用缓存模式，直接跳出\n\t\t\tif (Settings.disableCache) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// 当前表是否禁用缓存  被禁用原因是用户缺失了必要的参数\n\t\t\tconst noCache = $table.attr('no-cache');\n\t\t\tif (!$table || $table.length === 0) {\n\t\t\t\tBase.outLog('saveUserMemory:无效的table', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (noCache && noCache === 'true') {\n\t\t\t\tBase.outLog('缓存功能已被禁用：当前表缺失必要参数', 'info');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!window.localStorage) {\n\t\t\t\tBase.outLog('当前浏览器不支持：localStorage，缓存功能失效。', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst thList = $('thead[grid-manager-thead] th', $table);\n\t\t\tif (!thList || thList.length === 0) {\n\t\t\t\tBase.outLog('saveUserMemory:无效的thList,请检查是否正确配置table,thead,th', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet _cache = {};\n\t\t\tlet _pageCache = {};\n\t\t\tlet _thCache = [];\n\t\t\tlet _thData = {};\n\n\t\t\tlet $v;\n\t\t\t$.each(thList, (i, v) => {\n\t\t\t\t$v = $(v);\n\t\t\t\t_thData = {};\n\t\t\t\t_thData.th_name = $v.attr('th-name');\n\t\t\t\tif (Settings.supportDrag) {\n\t\t\t\t\t_thData.th_index = $v.index();\n\t\t\t\t}\n\t\t\t\tif (Settings.supportAdjust) {\n\t\t\t\t\t// 用于处理宽度在特定情况下发生异常\n\t\t\t\t\t_thData.th_width = $v.width();\n\t\t\t\t}\n\t\t\t\tif (Settings.supportConfig) {\n\t\t\t\t\t_thData.isShow = $(`.config-area li[th-name=\"${_thData.th_name}\"]`, $table.closest('.table-wrap')).find('input[type=\"checkbox\"]').get(0).checked;\n\t\t\t\t}\n\t\t\t\t_thCache.push(_thData);\n\t\t\t});\n\t\t\t_cache.th = _thCache;\n\n\t\t\t// 存储分页\n\t\t\tif (Settings.supportAjaxPage) {\n\t\t\t\t_pageCache.pSize = parseInt($('select[name=\"pSizeArea\"]', $table.closest('.table-wrap')).val(), 10);\n\t\t\t\t_cache.page = _pageCache;\n\t\t\t}\n\t\t\tconst _cacheString = JSON.stringify(_cache);\n\t\t\tlet GridManagerMemory = window.localStorage.getItem('GridManagerMemory');\n\t\t\tif (!GridManagerMemory) {\n\t\t\t\tGridManagerMemory = {};\n\t\t\t} else {\n\t\t\t\tGridManagerMemory = JSON.parse(GridManagerMemory);\n\t\t\t}\n\t\t\tGridManagerMemory[_this.getMemoryKey($table)] = _cacheString;\n\t\t\twindow.localStorage.setItem('GridManagerMemory', JSON.stringify(GridManagerMemory));\n\t\t\treturn _cacheString;\n\t\t};\n\t}\n\n\t/**\n\t * 核心方法\n\t */\n\tinitCoreMethod() {\n\t\t/**\n\t\t * 获取配置项\n\t\t * @param $table\n\t\t * @returns {*}\n\t\t */\n\t\tthis.getSettings = $table => {\n\t\t\tif (!$table || $table.length === 0) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\t// 这里返回的是clone对象 而非对象本身\n\t\t\t// return $.extend(true, {}, $table.data('settings'));\n\t\t\treturn $.extend(true, {}, store.settings[Base.getKey($table)] || {});\n\t\t};\n\n\t\t/**\n\t\t * 更新配置项\n\t\t * @param $table\n\t\t * @param settings\n\t\t */\n\t\tthis.setSettings = ($table, settings) => {\n\t\t\t// const data = $.extend(true, {}, settings);\n\t\t\t// $table.data('settings', data);\n\t\t\tstore.settings[Base.getKey($table)] = $.extend(true, {}, settings);\n\t\t};\n\n\t\t/**\n\t\t * 验证版本号清除列表缓存\n\t\t * @param $table\n\t\t * @param version 版本号\n\t\t */\n\t\tthis.cleanTableCacheForVersion = () => {\n\t\t\tconst cacheVersion = window.localStorage.getItem('GridManagerVersion');\n\t\t\t// 当前为第一次渲染\n\t\t\tif (!cacheVersion) {\n\t\t\t\twindow.localStorage.setItem('GridManagerVersion', store.version);\n\t\t\t}\n\t\t\t// 版本变更, 清除所有的用户记忆\n\t\t\tif (cacheVersion && cacheVersion !== store.version) {\n\t\t\t\tthis.cleanTableCache(null, '版本已升级,原全部缓存被自动清除');\n\t\t\t\twindow.localStorage.setItem('GridManagerVersion', store.version);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * 清除列表缓存\n\t\t * @param $table\n\t\t * @param cleanText\n\t\t */\n\t\tthis.cleanTableCache = ($table, cleanText) => {\n\t\t\t// 不指定table, 清除全部\n\t\t\tif ($table === null) {\n\t\t\t\tthis.delUserMemory();\n\t\t\t\tBase.outLog(`清除缓存成功,清除原因：${cleanText}`, 'info');\n\t\t\t\t// 指定table, 定点清除\n\t\t\t} else {\n\t\t\t\tconst Settings = this.getSettings($table);\n\t\t\t\tthis.delUserMemory($table);\n\t\t\t\tBase.outLog(`${Settings.gridManagerName}清除缓存成功,清除原因：${cleanText}`, 'info');\n\t\t\t}\n\t\t};\n\n\n\t\t/**\n\t\t * 根据本地缓存thead配置列表: 获取本地缓存, 存储原位置顺序, 根据本地缓存进行配置\n\t\t * @param $table\n\t\t */\n\t\tthis.configTheadForCache = $table => {\n\t\t\tlet Settings = this.getSettings($table);\n\t\t\tconst _this = this;\n\t\t\t// 本地缓存的数据\n\t\t\tconst _data = _this.getUserMemory($table);\n\t\t\tconst _domArray = [];\n\n\t\t\t// 验证：当前$table 没有缓存数据\n\t\t\tif (!_data || $.isEmptyObject(_data) || !_data.cache || $.isEmptyObject(_data.cache)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 列表的缓存数据\n\t\t\tlet _cache = _data.cache;\n\n\t\t\t// th相关 缓存\n\t\t\tlet _thCache = _cache.th;\n\n\t\t\t// 验证：缓存数据与当前列表项是否匹配\n\t\t\tlet _thNameTmpList = [];\n\t\t\tlet _dataAvailable = true;\n\n\t\t\t// 单一的th\n\t\t\tlet _th;\n\n\t\t\t// th的缓存json\n\t\t\tlet _thJson;\n\n\t\t\t// 验证：缓存数据与当前列表是否匹配\n\t\t\tif (!_thCache || _thCache.length !== $('thead th', $table).length) {\n\t\t\t\t_this.cleanTableCache($table, '缓存数据与当前列表不匹配');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$.each(_thCache, (i2, v2) => {\n\t\t\t\t_thJson = v2;\n\t\t\t\t_th = $('th[th-name=' + _thJson.th_name + ']', $table);\n\t\t\t\tif (_th.length === 0 || _thNameTmpList.indexOf(_thJson.th_name) !== -1) {\n\t\t\t\t\t_this.cleanTableCache($table, '缓存数据与当前列表不匹配');\n\t\t\t\t\t_dataAvailable = false;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t_thNameTmpList.push(_thJson.th_name);\n\t\t\t});\n\n\t\t\t// 数据可用，进行列的配置\n\t\t\tif (_dataAvailable) {\n\t\t\t\t$.each(_thCache, (i2, v2) => {\n\t\t\t\t\t_thJson = v2;\n\t\t\t\t\t_th = $('th[th-name=' + _thJson.th_name + ']', $table);\n\t\t\t\t\t// 配置列的宽度\n\t\t\t\t\tif (Settings.supportAdjust && _th.attr('gm-create') !== 'true') {\n\t\t\t\t\t\t_th.css('width', _thJson.th_width);\n\t\t\t\t\t}\n\t\t\t\t\t// 配置列排序数据\n\t\t\t\t\tif (Settings.supportDrag && typeof _thJson.th_index !== 'undefined') {\n\t\t\t\t\t\t_domArray[_thJson.th_index] = _th;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_domArray[i2] = _th;\n\t\t\t\t\t}\n\t\t\t\t\t// 配置列的可见\n\t\t\t\t\tif (Settings.supportConfig) {\n\t\t\t\t\t\tBase.setAreVisible(_th, typeof _thJson.isShow === 'undefined' ? true : _thJson.isShow, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// 配置列的顺序\n\t\t\t\tif (Settings.supportDrag) {\n\t\t\t\t\t$table.find('thead tr').html(_domArray);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * 存储原Th DOM至table data\n\t\t * @param $table\n\t\t */\n\t\tthis.setOriginalThDOM = $table => {\n\t\t\tconst _thList = [];\n\t\t\tconst _thDOM = $('thead[grid-manager-thead] th', $table);\n\n\t\t\t$.each(_thDOM, (i, v) => {\n\t\t\t\t_thList.push(v.getAttribute('th-name'));\n\t\t\t});\n\t\t\tstore.originalTh[Base.getKey($table)] = _thList;\n\t\t\t$table.data('originalThList', _thList);\n\t\t};\n\n\t\t/**\n\t\t * 获取原Th DOM至table data\n\t\t * @param $table\n\t\t * @returns {*|HTMLElement|jTool}\n\t\t */\n\t\tthis.getOriginalThDOM = $table => {\n\t\t\tconst _thArray = [];\n\t\t\tconst _thList = store.originalTh[Base.getKey($table)];\n\t\t\t$.each(_thList, (i, v) => {\n\t\t\t\t_thArray.push($(`thead[grid-manager-thead] th[th-name=\"${v}\"]`, $table).get(0));\n\t\t\t});\n\t\t\treturn $(_thArray);\n\t\t};\n\n\t\t/**\n\t\t * 存储GM实例\n\t\t * @param $table\n\t\t */\n\t\tthis.__setGridManager = ($table, GM) => {\n\t\t\tstore.gridManager[Base.getKey($table)] = GM;\n\t\t};\n\n\t\t/**\n\t\t * 获取GM实例\n\t\t * @param $table\n\t\t * @returns {*}\n\t\t * @private\n\t\t */\n\t\tthis.__getGridManager = $table => {\n\t\t\tif (!$table || $table.length === 0) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst settings = this.getSettings($table);\n\t\t\tconst gridManager = store.gridManager[Base.getKey($table)] || {};\n\n\t\t\t$.extend(gridManager, settings);\n\t\t\treturn gridManager;\n\t\t};\n\t}\n}\nexport default new Cache();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Cache.js","/*\n * Adjust: 宽度调整\n * */\nimport { $, Base } from './Base';\nimport Cache from './Cache';\nclass Adjust {\n\t/**\n\t * 宽度调整HTML\n\t * @returns {string}\n     */\n\tget html() {\n\t\treturn '<span class=\"adjust-action\"></span>';\n\t}\n\n\t/**\n\t * 绑定宽度调整事件\n\t * @param: table [jTool object]\n\t */\n\tbindAdjustEvent($table) {\n\t\tconst _this = this;\n\t\t// 监听鼠标调整列宽度\n\t\t$table.off('mousedown', '.adjust-action');\n\t\t$table.on('mousedown', '.adjust-action', function (event) {\n\t\t\tconst _dragAction = $(this);\n\t\t\t// 事件源所在的th\n\t\t\tlet $th = _dragAction.closest('th');\n\n\t\t\t// 事件源所在的tr\n\t\t\tlet $tr = $th.parent();\n\n\t\t\t// 事件源所在的table\n\t\t\tlet\t_$table = $tr.closest('table');\n\n\t\t\t// 当前存储属性\n\t\t\tconst settings = Cache.getSettings(_$table);\n\n\t\t\t// 事件源同层级下的所有th\n\t\t\tlet\t_allTh = $tr.find('th[th-visible=\"visible\"]');\n\n\t\t\t// 事件源下一个可视th\n\t\t\tlet\t$nextTh = _allTh.eq($th.index(_allTh) + 1);\n\n\t\t\t// 存储与事件源同列的所有td\n\t\t\tlet\t$td = Base.getColTd($th);\n\n\t\t\t// 宽度调整触发回调事件\n\t\t\tsettings.adjustBefore(event);\n\n\t\t\t// 增加宽度调整中样式\n\t\t\t$th.addClass('adjust-selected');\n\t\t\t$td.addClass('adjust-selected');\n\n\t\t\t// 更新界面交互标识\n\t\t\tBase.updateInteractive(_$table, 'Adjust');\n\n\t\t\t// 执行移动事件\n\t\t\t_this.runMoveEvent(_$table, $th, $nextTh);\n\n\t\t\t// 绑定停止事件\n\t\t\t_this.runStopEvent(_$table, $th, $td);\n\t\t\treturn false;\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * 执行移动事件\n\t * @param $table\n\t * @param $th\n\t * @param $nextTh\n     */\n\trunMoveEvent($table, $th, $nextTh) {\n\t\tlet _thWidth = null;\n\t\tlet\t_NextWidth = null;\n\t\tlet _thMinWidth = Base.getTextWidth($th);\n\t\tlet\t_NextThMinWidth = Base.getTextWidth($nextTh);\n\t\t$table.unbind('mousemove');\n\t\t$table.bind('mousemove', function (event) {\n\t\t\t$table.addClass('no-select-text');\n\t\t\t_thWidth = event.clientX - $th.offset().left;\n\t\t\t_thWidth = Math.ceil(_thWidth);\n\t\t\t_NextWidth = $nextTh.width() + $th.width() - _thWidth;\n\t\t\t_NextWidth = Math.ceil(_NextWidth);\n\t\t\t// 达到最小值后不再执行后续操作\n\t\t\tif (_thWidth < _thMinWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (_NextWidth < _NextThMinWidth) {\n\t\t\t\t_NextWidth = _NextThMinWidth;\n\t\t\t}\n\t\t\t// 验证是否更改\n\t\t\tif (_thWidth === $th.width()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 验证宽度是否匹配\n\t\t\tif (_thWidth + _NextWidth < $th.width() + $nextTh.width()) {\n\t\t\t\t_NextWidth = $th.width() + $nextTh.width() - _thWidth;\n\t\t\t}\n\t\t\t$th.width(_thWidth);\n\t\t\t$nextTh.width(_NextWidth);\n\n\t\t\t// 当前宽度调整的事件原为表头置顶的thead th\n\t\t\t// 修改与置顶thead 对应的 thead\n\t\t\tif ($th.closest('.set-top').length === 1) {\n\t\t\t\t$(`thead[grid-manager-thead] th[th-name=\"${$th.attr('th-name')}\"]`, $table).width(_thWidth);\n\t\t\t\t$(`thead[grid-manager-thead] th[th-name=\"${$nextTh.attr('th-name')}\"]`, $table).width(_NextWidth);\n\t\t\t\t$('thead[grid-manager-mock-thead]', $table).width($('thead[grid-manager-thead]', $table).width());\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * 绑定鼠标放开、移出事件\n\t * @param $table\n\t * @param $th\n\t * @param $td\n     */\n\trunStopEvent($table, $th, $td) {\n\t\t$table.unbind('mouseup mouseleave');\n\t\t$table.bind('mouseup mouseleave', function (event) {\n\t\t\tconst settings = Cache.getSettings($table);\n\t\t\t$table.unbind('mousemove mouseleave');\n\n\t\t\t// 存储用户记忆\n\t\t\tCache.saveUserMemory($table);\n\n\t\t\t// 其它操作也在table以该事件进行绑定,所以通过class进行区别\n\t\t\tif ($th.hasClass('adjust-selected')) {\n\t\t\t\t// 宽度调整成功回调事件\n\t\t\t\tsettings.adjustAfter(event);\n\t\t\t}\n\t\t\t$th.removeClass('adjust-selected');\n\t\t\t$td.removeClass('adjust-selected');\n\t\t\t$table.removeClass('no-select-text');\n\n\t\t\t// 更新界面交互标识\n\t\t\tBase.updateInteractive($table);\n\n\t\t\t// 更新滚动轴状态\n\t\t\tBase.updateScrollStatus($table);\n\t\t});\n\t}\n\n\t/**\n\t * 通过缓存配置成功后, 重置宽度调整事件源dom 用于禁用最后一列调整宽度事件\n\t * @param $table\n\t * @returns {boolean}\n     */\n\tresetAdjust($table) {\n\t\tif (!$table || $table.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tlet _thList = $('thead [th-visible=\"visible\"]', $table);\n\t\tlet\t_adjustAction = $('.adjust-action', _thList);\n\t\tif (!_adjustAction || _adjustAction.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\t_adjustAction.show();\n\t\t_adjustAction.eq(_adjustAction.length - 1).hide();\n\n\t\t// 更新滚动轴状态\n\t\tBase.updateScrollStatus($table);\n\t}\n}\nexport default new Adjust();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Adjust.js","/*\n* Core: 核心方法\n* 1.刷新\n* 2.渲染GM DOM\n* 3.重置tbody\n* */\nimport { $, Base } from './Base';\nimport Menu from './Menu';\nimport Adjust from './Adjust';\nimport AjaxPage from './AjaxPage';\nimport Cache from './Cache';\nimport Config from './Config';\nimport Checkbox from './Checkbox';\nimport Export from './Export';\nimport Order from './Order';\nimport Remind from './Remind';\nimport Sort from './Sort';\nclass Core {\n\n\t/**\n\t * 刷新表格 使用现有参数重新获取数据，对表格数据区域进行渲染\n\t * @param $table\n\t * @param callback\n     * @private\n     */\n\t__refreshGrid($table, callback) {\n\n\t\tconst settings = Cache.getSettings($table);\n\n\t\tconst tableWrap = $table.closest('.table-wrap');\n\n\t\t// 刷新按纽\n\t\tconst refreshAction = $('.page-toolbar .refresh-action', tableWrap);\n\n\t\t// 增加刷新中标识\n\t\trefreshAction.addClass('refreshing');\n\n\t\t// 使用配置数据\n\t\t// 如果存在配置数据ajax_data,将不再通过ajax_rul进行数据请求\n\t\t// 且ajax_beforeSend、ajax_error、ajax_complete将失效，仅有ajax_success会被执行\n\t\tif (settings.ajax_data) {\n\t\t\tthis.driveDomForSuccessAfter($table, settings, settings.ajax_data, callback);\n\t\t\tsettings.ajax_success(settings.ajax_data);\n\t\t\tthis.removeRefreshingClass(tableWrap);\n\t\t\treturn;\n\t\t}\n\t\tif (typeof (settings.ajax_url) !== 'string' || settings.ajax_url === '') {\n\t\t\tsettings.outLog('请求表格数据失败！参数[ajax_url]配制错误', 'error');\n\t\t\tthis.removeRefreshingClass(tableWrap);\n\t\t\ttypeof callback === 'function' ? callback() : '';\n\t\t\treturn;\n\t\t}\n\t\tlet pram = $.extend(true, {}, settings.query);\n\n\t\t// 合并分页信息至请求参\n\t\tif (settings.supportAjaxPage) {\n\t\t\t$.extend(pram, settings.pageData);\n\t\t}\n\n\t\t// 合并排序信息至请求参\n\t\tif (settings.supportSorting) {\n\t\t\t$.each(settings.sortData, (key, value) => {\n\t\t\t\t// 增加sort_前缀,防止与搜索时的条件重叠\n\t\t\t\tpram[`sort_${key}`] = value;\n\t\t\t});\n\t\t}\n\t\t// 当前页不存在,或者小于1时, 修正为1\n\t\tif (!pram.cPage || pram.cPage < 1) {\n\t\t\tpram.cPage = 1;\n\n\t\t\t// 当前页大于总页数时, 修正为总页数\n\t\t} else if (pram.cPage > pram.tPage) {\n\t\t\tpram.cPage = pram.tPage;\n\t\t}\n\n\t\t// settings.query = pram;\n\t\tCache.setSettings($table, settings);\n\n\t\tBase.showLoading(tableWrap);\n\n\t\t// 当前为POST请求 且 Content-Type 未进行配置时, 默认使用 application/x-www-form-urlencoded\n\t\t// 说明|备注:\n\t\t// 1. Content-Type = application/x-www-form-urlencoded 的数据形式为 form data\n\t\t// 2. Content-Type = text/plain;charset=UTF-8 的数据形式为 request payload\n\t\tif (settings.ajax_type.toUpperCase() === 'POST' && !settings.ajax_headers['Content-Type']) {\n\t\t\tsettings.ajax_headers['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t}\n\n\t\t// 请求前处理程序, 可以通过该方法修改全部的请求参数\n\t\tsettings.requestHandler(pram);\n\n\t\t// 执行ajax\n\t\t$.ajax({\n\t\t\turl: settings.ajax_url,\n\t\t\ttype: settings.ajax_type,\n\t\t\tdata: pram,\n\t\t\theaders: settings.ajax_headers,\n\t\t\tcache: true,\n\t\t\tbeforeSend: XMLHttpRequest => {\n\t\t\t\tsettings.ajax_beforeSend(XMLHttpRequest);\n\t\t\t},\n\t\t\tsuccess: response => {\n\t\t\t\tthis.driveDomForSuccessAfter($table, settings, response, callback);\n\t\t\t\tsettings.ajax_success(response);\n\t\t\t},\n\t\t\terror: (XMLHttpRequest, textStatus, errorThrown) => {\n\t\t\t\tsettings.ajax_error(XMLHttpRequest, textStatus, errorThrown);\n\t\t\t},\n\t\t\tcomplete: (XMLHttpRequest, textStatus) => {\n\t\t\t\tsettings.ajax_complete(XMLHttpRequest, textStatus);\n\t\t\t\tthis.removeRefreshingClass(tableWrap);\n\t\t\t\tBase.hideLoading(tableWrap);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * tableWrap\n\t * @param tableWrap\n     */\n\tremoveRefreshingClass($tableWrap) {\n\t\t// 刷新按纽\n\t\tconst refreshAction = $('.page-toolbar .refresh-action', $tableWrap);\n\t\twindow.setTimeout(() => {\n\t\t\trefreshAction.removeClass('refreshing');\n\t\t}, 2000);\n\t};\n\t/**\n\t * 执行ajax成功后重新渲染DOM\n\t * @param $table\n\t * @param settings\n\t * @param response\n\t * @param callback\n     */\n\tdriveDomForSuccessAfter($table, settings, response, callback) {\n\t\t// tbody dom\n\t\tconst tbodyDOM = $('tbody', $table);\n\t\tconst gmName = Base.getKey($table);\n\n\t\tif (!response) {\n\t\t\tBase.outLog('请求数据失败！请查看配置参数[ajax_url或ajax_data]是否配置正确，并查看通过该地址返回的数据格式是否正确', 'error');\n\t\t\treturn;\n\t\t}\n\n\t\t// 用于拼接tbody的HTML结构\n\t\tlet tbodyTmpHTML = '';\n\t\tlet parseRes = typeof (response) === 'string' ? JSON.parse(response) : response;\n\n\t\t// 执行请求后执行程序, 通过该程序可以修改返回值格式\n\t\tsettings.responseHandler(parseRes);\n\n\t\tlet _data = parseRes[settings.dataKey];\n\n\t\t// 数据索引\n\t\tlet key = null;\n\n\t\t// 文本对齐属性\n\t\tlet\talignAttr = null;\n\n\t\t// 数据模板\n\t\tlet\ttemplate = null;\n\n\t\t// 数据模板导出的html\n\t\tlet\ttemplateHTML = null;\n\n\t\t// 数据为空时\n\t\tif (!_data || _data.length === 0) {\n\t\t\ttbodyTmpHTML = `<tr emptyTemplate>\n\t\t\t\t\t\t\t\t\t\t<td colspan=\"${$('th[th-visible=\"visible\"]', $table).length}\">\n\t\t\t\t\t\t\t\t\t\t${settings.emptyTemplate || '<div class=\"gm-emptyTemplate\">数据为空</div>'}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>`;\n\t\t\tparseRes.totals = 0;\n\t\t\ttbodyDOM.html(tbodyTmpHTML);\n\t\t} else {\n\t\t\t$.each(_data, (i, v) => {\n\t\t\t\tCache.setRowData(gmName, i, v);\n\t\t\t\ttbodyTmpHTML += `<tr cache-key=\"${i}\">`;\n\t\t\t\t$.each(settings.columnData, (i2, v2) => {\n\t\t\t\t\tkey = v2.key;\n\t\t\t\t\ttemplate = v2.template;\n\t\t\t\t\ttemplateHTML = typeof template === 'function' ? template(v[key], v) : v[key];\n\t\t\t\t\talignAttr = v2.align ? `align=\"${v2.align}\"` : '';\n\t\t\t\t\ttbodyTmpHTML += `<td gm-create=\"false\" ${alignAttr}>${templateHTML}</td>`;\n\t\t\t\t});\n\t\t\t\ttbodyTmpHTML += '</tr>';\n\t\t\t});\n\t\t\ttbodyDOM.html(tbodyTmpHTML);\n\t\t\tthis.resetTd($table, false);\n\t\t}\n\t\t// 渲染分页\n\t\tif (settings.supportAjaxPage) {\n\t\t\tAjaxPage.resetPageData($table, parseRes[settings.totalsKey]);\n\t\t\tMenu.checkMenuPageAction($table);\n\t\t}\n\t\ttypeof callback === 'function' ? callback() : '';\n\t};\n\n\n\t/**\n\t * 渲染HTML，根据配置嵌入所需的事件源DOM\n\t * @param $table\n     */\n\tcreateDOM($table) {\n\t\tlet settings = Cache.getSettings($table);\n\t\t$table.attr('width', '100%').attr('cellspacing', 1).attr('cellpadding', 0).attr('grid-manager', settings.gridManagerName);\n\t\tlet theadHtml = '<thead grid-manager-thead>';\n\t\tlet\ttbodyHtml = '<tbody></tbody>';\n\n\t\t// 文本对齐属性\n\t\tlet\talignAttr = '';\n\n\t\t// 宽度信息\n\t\tlet\twidthInfo = '';\n\n\t\t// 提醒对应的html片段\n\t\tlet\tremindHtml = '';\n\n\t\t// 排序对应的html片段\n\t\tlet\tsortingHtml\t= '';\n\n\t\t// 通过配置项[columnData]生成thead\n\t\t$.each(settings.columnData, (i, v) => {\n\t\t\t// 表头提醒\n\t\t\tif (settings.supportRemind && typeof (v.remind) === 'string' && v.remind !== '') {\n\t\t\t\tremindHtml = `remind=\"${v.remind}\"`;\n\t\t\t}\n\n\t\t\t// 排序\n\t\t\tsortingHtml = '';\n\t\t\tif (settings.supportSorting && typeof (v.sorting) === 'string') {\n\t\t\t\tif (v.sorting === settings.sortDownText) {\n\t\t\t\t\tsortingHtml = `sorting=\"${settings.sortDownText}\"`;\n\t\t\t\t\tsettings.sortData[v.key] = settings.sortDownText;\n\t\t\t\t\tCache.setSettings($table, settings);\n\t\t\t\t} else if (v.sorting === settings.sortUpText) {\n\t\t\t\t\tsortingHtml = `sorting=\"${settings.sortUpText}\"`;\n\t\t\t\t\tsettings.sortData[v.key] = settings.sortUpText;\n\t\t\t\t\tCache.setSettings($table, settings);\n\t\t\t\t} else {\n\t\t\t\t\tsortingHtml = 'sorting=\"\"';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 宽度文本\n\t\t\twidthInfo = v.width ? `width=\"${v.width}\"` : '';\n\n\t\t\t// 文本对齐\n\t\t\talignAttr = v.align ? `align=\"${v.align}\"` : '';\n\t\t\ttheadHtml += `<th gm-create=\"false\" th-name=\"${v.key}\" ${remindHtml} ${sortingHtml} ${widthInfo} ${alignAttr}>${v.text}</th>`;\n\t\t});\n\t\ttheadHtml += '</thead>';\n\t\t$table.html(theadHtml + tbodyHtml);\n\n\t\t// 嵌入序号DOM\n\t\tif (settings.supportAutoOrder) {\n\t\t\tOrder.initDOM($table);\n\t\t}\n\t\t// 嵌入选择返选DOM\n\t\tif (settings.supportCheckbox) {\n\t\t\tCheckbox.initCheckbox($table);\n\t\t}\n\t\t// 存储原始th DOM\n\t\tCache.setOriginalThDOM($table);\n\n\t\t// 是否为插件自动生成的序号列\n\t\tlet\tisLmOrder = null;\n\n\t\t// 是否为插件自动生成的选择列\n\t\tlet\tisLmCheckbox = null;\n\n\t\t// 单个table下的thead\n\t\tconst onlyThead = $('thead[grid-manager-thead]', $table);\n\n\t\t// 单个table下的TH\n\t\tconst onlyThList = $('th', onlyThead);\n\n\t\t// 外围的html片段\n\t\tconst wrapHtml = `<div class=\"table-wrap\">\n\t\t\t\t\t\t<div class=\"table-div\" style=\"height:calc(${settings.height} - 40px)\"></div>\n\t\t\t\t\t\t<span class=\"text-dreamland\"></span>\n\t\t\t\t\t</div>`;\n\t\t$table.wrap(wrapHtml);\n\n\t\t// 单个table所在的DIV容器\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\n\t\t// 嵌入配置列表DOM\n\t\tif (settings.supportConfig) {\n\t\t\ttableWarp.append(Config.html);\n\t\t}\n\n\t\t// 嵌入Ajax分页DOM\n\t\tif (settings.supportAjaxPage) {\n\t\t\ttableWarp.append(AjaxPage.createHtml($table));\n\t\t\tAjaxPage.initAjaxPage($table);\n\t\t}\n\n\t\t// 嵌入导出表格数据事件源\n\t\tif (settings.supportExport) {\n\t\t\ttableWarp.append(Export.html);\n\t\t}\n\t\tconst configList = $('.config-list', tableWarp);\n\n\t\t// 单个TH\n\t\tlet onlyTH = null;\n\n\t\t// 单个TH所占宽度\n\t\tlet onlyWidth = 0;\n\n\t\t// 单个TH下的上层DIV\n\t\tconst onlyThWarp = $('<div class=\"th-wrap\"></div>');\n\t\t$.each(onlyThList, (i2, v2) => {\n\t\t\tonlyTH = $(v2);\n\t\t\tonlyTH.attr('th-visible', 'visible');\n\n\t\t\t// 是否为自动生成的序号列\n\t\t\tif (settings.supportAutoOrder && onlyTH.attr('gm-order') === 'true') {\n\t\t\t\tisLmOrder = true;\n\t\t\t} else {\n\t\t\t\tisLmOrder = false;\n\t\t\t}\n\n\t\t\t// 是否为自动生成的选择列\n\t\t\tif (settings.supportCheckbox && onlyTH.attr('gm-checkbox') === 'true') {\n\t\t\t\tisLmCheckbox = true;\n\t\t\t} else {\n\t\t\t\tisLmCheckbox = false;\n\t\t\t}\n\n\t\t\t// 嵌入配置列表项\n\t\t\tif (settings.supportConfig) {\n\t\t\t\tconfigList\n\t\t\t\t\t.append(`<li th-name=\"${onlyTH.attr('th-name')}\" class=\"checked-li\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" checked=\"checked\"/>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<span class=\"fake-checkbox\"></span>\n\t\t\t\t\t\t\t\t\t${onlyTH.text()}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</li>`);\n\t\t\t}\n\n\t\t\t// 嵌入拖拽事件源\n\t\t\t// 插件自动生成的排序与选择列不做事件绑定\n\t\t\tif (settings.supportDrag && !isLmOrder && !isLmCheckbox) {\n\t\t\t\tonlyThWarp.html(`<span class=\"th-text drag-action\">${onlyTH.html()}</span>`);\n\t\t\t} else {\n\t\t\t\tonlyThWarp.html(`<span class=\"th-text\">${onlyTH.html()}</span>`);\n\t\t\t}\n\t\t\tlet onlyThWarpPaddingTop = onlyThWarp.css('padding-top');\n\n\t\t\t// 嵌入表头提醒事件源\n\t\t\t// 插件自动生成的排序与选择列不做事件绑定\n\t\t\tif (settings.supportRemind && onlyTH.attr('remind') !== undefined && !isLmOrder && !isLmCheckbox) {\n\t\t\t\tconst remindDOM = $(Remind.html);\n\t\t\t\tremindDOM.find('.ra-title').text(onlyTH.text());\n\t\t\t\tremindDOM.find('.ra-con').text(onlyTH.attr('remind') || onlyTH.text());\n\t\t\t\tif (onlyThWarpPaddingTop !== '' && onlyThWarpPaddingTop !== '0px') {\n\t\t\t\t\tremindDOM.css('top', onlyThWarpPaddingTop);\n\t\t\t\t}\n\t\t\t\tonlyThWarp.append(remindDOM);\n\t\t\t}\n\n\t\t\t// 嵌入排序事件源\n\t\t\t// 插件自动生成的排序与选择列不做事件绑定\n\t\t\t// 排序类型\n\t\t\tconst sortType = onlyTH.attr('sorting');\n\t\t\tif (settings.supportSorting && sortType !== undefined && !isLmOrder && !isLmCheckbox) {\n\t\t\t\tconst sortingDom = $(Sort.html);\n\n\t\t\t\t// 依据 sortType 进行初始显示\n\t\t\t\tswitch (sortType) {\n\t\t\t\t\tcase settings.sortUpText:\n\t\t\t\t\t\tsortingDom.addClass('sorting-up');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase settings.sortDownText:\n\t\t\t\t\t\tsortingDom.addClass('sorting-down');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault :\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (onlyThWarpPaddingTop !== '' && onlyThWarpPaddingTop !== '0px') {\n\t\t\t\t\tsortingDom.css('top', onlyThWarpPaddingTop);\n\t\t\t\t}\n\t\t\t\tonlyThWarp.append(sortingDom);\n\t\t\t}\n\t\t\t// 嵌入宽度调整事件源,插件自动生成的选择列不做事件绑定\n\t\t\tif (settings.supportAdjust && !isLmOrder && !isLmCheckbox) {\n\t\t\t\tconst adjustDOM = $(Adjust.html);\n\t\t\t\t// 最后一列不支持调整宽度\n\t\t\t\tif (i2 === onlyThList.length - 1) {\n\t\t\t\t\tadjustDOM.hide();\n\t\t\t\t}\n\t\t\t\tonlyThWarp.append(adjustDOM);\n\t\t\t}\n\t\t\tonlyTH.html(onlyThWarp);\n\n\t\t\t// 宽度配置: GM自动创建为固定宽度\n\t\t\tif (isLmOrder || isLmCheckbox) {\n\t\t\t\tonlyWidth = 50;\n\n\t\t\t\t// 宽度配置: 非GM自动创建的列\n\t\t\t} else {\n\t\t\t\t// 当前th文本所占宽度大于设置的宽度\n\t\t\t\tlet _minWidth = Base.getTextWidth(onlyTH);\n\t\t\t\tlet _oldWidth = onlyTH.width();\n\t\t\t\tonlyWidth = _oldWidth > _minWidth ? _oldWidth : _minWidth;\n\t\t\t}\n\n\t\t\t// 清除width属性, 使用style.width进行宽度控制\n\t\t\tonlyTH.removeAttr('width');\n\t\t\tonlyTH.width(onlyWidth);\n\t\t});\n\n\t\t// 删除渲染中标识、增加渲染完成标识\n\t\t$table.removeClass('GridManager-loading');\n\t\t$table.addClass('GridManager-ready');\n\t}\n\n\t/**\n\t * 重置列表, 处理局部刷新、分页事件之后的td排序\n\t * @param dom: able 或者 tr\n\t * @param isSingleRow: 指定DOM节点是否为tr[布尔值]\n     */\n\tresetTd(dom, isSingleRow) {\n\t\tlet _table = null;\n\t\tlet\t_tr = null;\n\t\tif (isSingleRow) {\n\t\t\t_tr = $(dom);\n\t\t\t_table = _tr.closest('table');\n\t\t} else {\n\t\t\t_table = $(dom);\n\t\t\t_tr\t= _table.find('tbody tr');\n\t\t}\n\n\t\tif (!_tr || _tr.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tlet settings = Cache.getSettings(_table);\n\n\t\t// 重置表格序号\n\t\tif (settings.supportAutoOrder) {\n\t\t\tlet _pageData = settings.pageData;\n\t\t\tlet onlyOrderTd = null;\n\t\t\tlet\t_orderBaseNumber = 1;\n\t\t\tlet\t_orderText;\n\n\t\t\t// 验证是否存在分页数据\n\t\t\tif (_pageData && _pageData['pSize'] && _pageData['cPage']) {\n\t\t\t\t_orderBaseNumber = _pageData.pSize * (_pageData.cPage - 1) + 1;\n\t\t\t}\n\t\t\t$.each(_tr, (i, v) => {\n\t\t\t\t_orderText = _orderBaseNumber + i;\n\t\t\t\tonlyOrderTd = $('td[gm-order=\"true\"]', v);\n\t\t\t\tif (onlyOrderTd.length === 0) {\n\t\t\t\t\t$(v).prepend(`<td gm-order=\"true\" gm-create=\"true\">${_orderText}</td>`);\n\t\t\t\t} else {\n\t\t\t\t\tonlyOrderTd.text(_orderText);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// 重置表格选择 checkbox\n\t\tif (settings.supportCheckbox) {\n\t\t\tlet onlyCheckTd = null;\n\t\t\t$.each(_tr, (i, v) => {\n\t\t\t\tonlyCheckTd = $('td[gm-checkbox=\"true\"]', v);\n\t\t\t\tif (onlyCheckTd.length === 0) {\n\t\t\t\t\t$(v).prepend(`<td gm-checkbox=\"true\" gm-create=\"true\"><input type=\"checkbox\"/></td>`);\n\t\t\t\t} else {\n\t\t\t\t\t$('[type=\"checkbox\"]', onlyCheckTd).prop('checked', false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// 依据存储数据重置td顺序\n\t\tif (settings.supportDrag) {\n\t\t\tconst _thCacheList = Cache.getOriginalThDOM(_table);\n\t\t\tlet\t_td = null;\n\t\t\tif (!_thCacheList || _thCacheList.length === 0) {\n\t\t\t\tBase.outLog('resetTdForCache:列位置重置所必须的原TH DOM获取失败', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet _tdArray = [];\n\t\t\t$.each(_tr, (i, v) => {\n\t\t\t\t_tdArray = [];\n\t\t\t\t_td = $('td', v);\n\t\t\t\t$.each(_td, (i2, v2) => {\n\t\t\t\t\t_tdArray[_thCacheList.eq(i2).index()] = v2.outerHTML;\n\t\t\t\t});\n\t\t\t\tv.innerHTML = _tdArray.join('');\n\t\t\t});\n\t\t}\n\n\t\t// 依据配置对列表进行隐藏、显示\n\t\tif (settings.supportConfig) {\n\t\t\tBase.initVisible(_table);\n\t\t}\n\t}\n}\nexport default new Core();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Core.js","/*\n * I18n: 国际化\n * */\nimport { Base } from './Base';\nimport Cache from './Cache';\nclass I18n {\n\t/**\n\t * 获取所用语种，暂时支持[zh-cn:简体中文，en-us:美式英语] 默认zh-cn\n\t * @param $table\n\t * @returns {string|string}\n     */\n\tgetLanguage($table) {\n\t\treturn Cache.getSettings($table).i18n;\n\t}\n\n\t/**\n\t * 指定[表格 键值 语种]获取对应文本\n\t * @param $table 表格\n\t * @param key 键值\n\t * @param language 语种\n\t * @returns {*|string}\n     */\n\tgetText($table, key, language) {\n\t\treturn Cache.getSettings($table).textConfig[key][language] || '';\n\t}\n\n\t/**\n\t * 获取与当前配置国际化匹配的文本\n\t * @param $table\n\t * @param key 指向的文本索引\n\t * @param v1 可为空，也存在一至3项，只存在一项时可为数组\n\t * @param v2 可为空，也存在一至3项，只存在一项时可为数组\n\t * @param v3 可为空，也存在一至3项，只存在一项时可为数组\n     * @returns {string}\n     */\n\ti18nText($table, key, v1, v2, v3) {\n\t\tconst _this = this;\n\t\tlet intrusion = [];\n\n\t\t// 处理参数，实现多态化\n\t\tif (arguments.length === 3 && typeof (arguments[2]) === 'object') {\n\t\t\tintrusion = arguments[2];\n\t\t} else if (arguments.length > 1) {\n\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\tintrusion.push(arguments[i]);\n\t\t\t}\n\t\t}\n\t\tlet _text = '';\n\t\ttry {\n\t\t\t_text = _this.getText($table, key, _this.getLanguage($table));\n\t\t\tif (!intrusion || intrusion.length === 0) {\n\t\t\t\treturn _text;\n\t\t\t}\n\t\t\t_text = _text.replace(/{\\d+}/g, word => {\n\t\t\t\treturn intrusion[word.match(/\\d+/)];\n\t\t\t});\n\t\t\treturn _text;\n\t\t} catch (e) {\n\t\t\tBase.outLog(`未找到与${key}相匹配的${_this.getLanguage($table)}语言`, 'warn');\n\t\t\treturn '';\n\t\t}\n\t}\n}\nexport default new I18n();\n\n\n\n// WEBPACK FOOTER //\n// ./js/I18n.js","/*\n * AjaxPage: 分页\n * */\nimport { $, Base } from './Base';\nimport Core from './Core';\nimport Cache from './Cache';\nimport I18n from './I18n';\nclass AjaxPage {\n\t/**\n\t * 分页所需HTML\n\t * @param $table\n\t * @returns {string}\n     */\n\tcreateHtml($table) {\n\t\tconst html = `<div class=\"page-toolbar\">\n\t\t\t\t\t\t<div class=\"refresh-action\"><i class=\"iconfont icon-shuaxin\"></i></div>\n\t\t\t\t\t\t<div class=\"goto-page\">\n\t\t\t\t\t\t\t${ I18n.i18nText($table, 'goto-first-text') }\n\t\t\t\t\t\t\t<input type=\"text\" class=\"gp-input\"/>\n\t\t\t\t\t\t\t${ I18n.i18nText($table, 'goto-last-text') }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"change-size\"><select name=\"pSizeArea\"></select></div>\n\t\t\t\t\t\t<div class=\"dataTables_info\"></div>\n\t\t\t\t\t\t<div class=\"ajax-page\"><ul class=\"pagination\"></ul></div>\n\t\t\t\t\t</div>`;\n\t\treturn html;\n\t}\n\n\t/**\n\t * 初始化分页\n\t * @param $table\n     */\n\tinitAjaxPage($table) {\n\t\tconst settings = Cache.getSettings($table);\n\t\tconst _this = this;\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\n\t\t// 分页工具条\n\t\tconst pageToolbar = $('.page-toolbar', tableWarp);\n\t\tconst sizeData = settings.sizeData;\n\t\tpageToolbar.hide();\n\n\t\t// 生成每页显示条数选择框\n\t\t_this.createPageSizeDOM($table, sizeData);\n\n\t\t// 绑定页面跳转事件\n\t\t_this.bindPageJumpEvent($table);\n\n\t\t// 绑定设置显示条数切换事件\n\t\t_this.bindSetPageSizeEvent($table);\n\t}\n\n\t/**\n\t * 生成页码DOM节点\n\t * @param $table\n\t * @param pageData 分页数据格式\n     */\n\tcreatePaginationDOM($table, pageData) {\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\n\t\t// 分页工具条\n\t\tconst pageToolbar = $('.page-toolbar', tableWarp);\n\n\t\t// 分页区域\n\t\tconst pagination = $('.pagination', pageToolbar);\n\n\t\tpagination.html(this.joinPagination($table, pageData));\n\t}\n\n\t/**\n\t * 拼接页码字符串\n\t * @param $table\n\t * @param pageData 分页数据格式\n     */\n\tjoinPagination($table, pageData) {\n\t\t// 当前页\n\t\tlet cPage = Number(pageData.cPage || 0);\n\n\t\t// 总页数\n\t\tlet tPage = Number(pageData.tPage || 0);\n\n\t\t// 临时存储分页HTML片段\n\t\tlet\ttHtml = '';\n\n\t\t// 临时存储末尾页码THML片段\n\t\tlet\tlHtml = '';\n\n\t\t// 配置首页\n\t\tlet firstClassName = 'first-page';\n\t\tlet\tpreviousClassName = 'previous-page';\n\n\t\tif (cPage === 1) {\n\t\t\tfirstClassName += ' disabled';\n\t\t\tpreviousClassName += ' disabled';\n\t\t}\n\t\ttHtml += `<li c-page=\"1\" class=\"${firstClassName}\">\n\t\t\t\t\t${I18n.i18nText($table, 'first-page')}\n\t\t\t\t</li>\n\t\t\t\t<li c-page=\"${cPage - 1}\" class=\"${previousClassName}\">\n\t\t\t\t\t${I18n.i18nText($table, 'previous-page')}\n\t\t\t\t</li>`;\n\t\t// 循环开始数\n\t\tlet i = 1;\n\n\t\t// 循环结束数\n\t\tlet\tmaxI = tPage;\n\n\t\t// 配置first端省略符\n\t\tif (cPage > 4) {\n\t\t\ttHtml += `<li c-page=\"1\">\n\t\t\t\t\t\t1\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"disabled\">\n\t\t\t\t\t\t...\n\t\t\t\t\t</li>`;\n\t\t\ti = cPage - 2;\n\t\t}\n\t\t// 配置last端省略符\n\t\tif ((tPage - cPage) > 4) {\n\t\t\tmaxI = cPage + 2;\n\t\t\tlHtml += `<li class=\"disabled\">\n\t\t\t\t\t\t...\n\t\t\t\t\t</li>\n\t\t\t\t\t<li c-page=\"${ tPage }\">\n\t\t\t\t\t\t${ tPage }\n\t\t\t\t\t</li>`;\n\t\t}\n\t\t// 配置页码\n\t\tfor (i; i <= maxI; i++) {\n\t\t\tif (i === cPage) {\n\t\t\t\ttHtml += `<li class=\"active\">\n\t\t\t\t\t\t\t${ cPage }\n\t\t\t\t\t\t</li>`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttHtml += `<li c-page=\"${ i }\">\n\t\t\t\t\t\t${ i }\n\t\t\t\t\t</li>`;\n\t\t}\n\t\ttHtml += lHtml;\n\n\t\t// 配置下一页与尾页\n\t\tlet nextClassName = 'next-page';\n\t\tlet\tlastClassName = 'last-page';\n\t\tif (cPage >= tPage) {\n\t\t\tnextClassName += ' disabled';\n\t\t\tlastClassName += ' disabled';\n\t\t}\n\t\ttHtml += `<li c-page=\"${ cPage + 1 }\" class=\"${ nextClassName }\">\n\t\t\t\t\t${ I18n.i18nText($table, 'next-page') }\n\t\t\t\t</li>\n\t\t\t\t<li c-page=\"${ tPage }\" class=\"${ lastClassName }\">\n\t\t\t\t\t${ I18n.i18nText($table, 'last-page') }\n\t\t\t\t</li>`;\n\t\treturn tHtml;\n\t}\n\n\t/**\n\t * 生成每页显示条数选择框据\n\t * @param $table\n\t * @param _sizeData_ 选择框自定义条数\n     */\n\tcreatePageSizeDOM($table, _sizeData_) {\n\t\tconst tableWarp\t= $table.closest('.table-wrap');\n\n\t\t// 分页工具条\n\t\tconst pageToolbar = $('.page-toolbar', tableWarp);\n\n\t\t// 分页区域\n\t\tconst pSizeArea\t= $('select[name=\"pSizeArea\"]', pageToolbar);\n\n\t\t// error\n\t\tif (!_sizeData_ || _sizeData_.length === 0) {\n\t\t\tBase.outLog('渲染失败：参数[sizeData]配置错误', 'error');\n\t\t\treturn;\n\t\t}\n\n\t\tlet _ajaxPageHtml = '';\n\t\t$.each(_sizeData_, (i, v) => {\n\t\t\t_ajaxPageHtml += `<option value=\"${ v }\">\n\t\t\t\t\t\t\t\t${ v }\n\t\t\t\t\t\t\t</option>`;\n\t\t});\n\t\tpSizeArea.html(_ajaxPageHtml);\n\t}\n\n\t/**\n\t * 绑定页面跳转事件\n\t * @param $table\n     */\n\tbindPageJumpEvent($table) {\n\t\tconst _this = this;\n\t\tconst tableWarp\t= $table.closest('.table-wrap');\n\n\t\t// 分页工具条\n\t\tconst pageToolbar = $('.page-toolbar', tableWarp);\n\n\t\t// 分页区域\n\t\t// const pagination = $('.pagination', pageToolbar);\n\n\t\t// 快捷跳转\n\t\tconst gp_input = $('.gp-input', pageToolbar);\n\n\t\t// 快捷跳转\n\t\tconst refreshAction\t= $('.refresh-action', pageToolbar);\n\n\t\t// 绑定分页点击事件\n\t\tpageToolbar.off('click', 'li');\n\t\tpageToolbar.on('click', 'li', function () {\n\t\t\tconst pageAction = $(this);\n\n\t\t\t// 分页页码\n\t\t\tlet cPage = pageAction.attr('c-page');\n\t\t\tif (!cPage || !Number(cPage) || pageAction.hasClass('disabled')) {\n\t\t\t\tBase.outLog('指定页码无法跳转,已停止。原因:1、可能是当前页已处于选中状态; 2、所指向的页不存在', 'info');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcPage = window.parseInt(cPage);\n\t\t\t_this.gotoPage($table, cPage);\n\t\t});\n\t\t// 绑定快捷跳转事件\n\t\tgp_input.unbind('keyup');\n\t\tgp_input.bind('keyup', function (e) {\n\t\t\tif (e.which !== 13) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst _inputValue = parseInt(this.value, 10);\n\t\t\tif (!_inputValue) {\n\t\t\t\tthis.focus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_this.gotoPage($table, _inputValue);\n\t\t\tthis.value = '';\n\t\t});\n\t\t// 绑定刷新界面事件\n\t\trefreshAction.unbind('click');\n\t\trefreshAction.bind('click', function () {\n\t\t\tconst _tableWarp = $(this).closest('.table-wrap');\n\t\t\tconst _table = $('table[grid-manager]', _tableWarp);\n\t\t\tconst _input = $('.page-toolbar .gp-input', _tableWarp);\n\t\t\tconst _value = _input.val();\n\n\t\t\t// 跳转输入框为空时: 刷新当前页\n\t\t\tif (_value.trim() === '') {\n\t\t\t\tCore.__refreshGrid(_table);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 跳转输入框不为空时: 验证输入值是否有效,如果有效跳转至指定页,如果无效对输入框进行聚焦\n\t\t\tconst _inputValue = parseInt(_input.val(), 10);\n\t\t\tif (!_inputValue) {\n\t\t\t\t_input.focus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_this.gotoPage($table, _inputValue);\n\t\t\t_input.val('');\n\t\t});\n\t}\n\n\t/**\n\t * 跳转至指定页\n\t * @param $table\n\t * @param _cPage 指定页\n     */\n\tgotoPage($table, _cPage) {\n\t\tconst settings = Cache.getSettings($table);\n\n\t\t// 跳转的指定页大于总页数\n\t\tif (_cPage > settings.pageData.tPage) {\n\t\t\t_cPage = settings.pageData.tPage;\n\t\t}\n\n\t\t// 替换被更改的值\n\t\tsettings.pageData.cPage = _cPage;\n\t\tsettings.pageData.pSize = settings.pageData.pSize || settings.pageSize;\n\n\t\t// 更新缓存\n\t\tCache.setSettings($table, settings);\n\n\t\t// 调用事件、渲染DOM\n\t\tconst query = $.extend({}, settings.query, settings.sortData, settings.pageData);\n\t\tsettings.pagingBefore(query);\n\t\tCore.__refreshGrid($table, () => {\n\t\t\tsettings.pagingAfter(query);\n\t\t});\n\t}\n\n\t/**\n\t * 绑定设置当前页显示数事件\n\t * @param $table\n     */\n\tbindSetPageSizeEvent($table) {\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\n\t\t// 分页工具条\n\t\tconst pageToolbar = $('.page-toolbar', tableWarp);\n\n\t\t// 切换条数区域\n\t\tconst sizeArea = $('select[name=pSizeArea]', pageToolbar);\n\n\t\tif (!sizeArea || sizeArea.length === 0) {\n\t\t\tBase.outLog('未找到单页显示数切换区域，停止该事件绑定', 'info');\n\t\t\treturn false;\n\t\t}\n\t\tsizeArea.unbind('change');\n\t\tsizeArea.bind('change', function () {\n\t\t\tconst _size = $(this);\n\t\t\tconst _tableWarp = _size.closest('.table-wrap');\n\t\t\tconst _table = $('table[grid-manager]', _tableWarp);\n\t\t\tconst settings = Cache.getSettings($table);\n\t\t\tsettings.pageData = {\n\t\t\t\tcPage: 1,\n\t\t\t\tpSize: window.parseInt(_size.val())\n\t\t\t};\n\n\t\t\tCache.saveUserMemory(_table);\n\n\t\t\t// 更新缓存\n\t\t\tCache.setSettings($table, settings);\n\n\t\t\t// 调用事件、渲染tbody\n\t\t\tconst query = $.extend({}, settings.query, settings.sortData, settings.pageData);\n\t\t\tsettings.pagingBefore(query);\n\t\t\tCore.__refreshGrid(_table, () => {\n\t\t\t\tsettings.pagingAfter(query);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * 重置每页显示条数, 重置条数文字信息 [注: 这个方法只做显示更新, 不操作Cache 数据]\n\t * @param $table\n\t * @param _pageData_ 分页数据格式\n\t * @returns {boolean}\n     */\n\tresetPSize($table, _pageData_) {\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\t\tconst toolBar = $('.page-toolbar', tableWarp);\n\t\tconst pSizeArea = $('select[name=\"pSizeArea\"]', toolBar);\n\t\tconst pSizeInfo = $('.dataTables_info', toolBar);\n\t\tif (!pSizeArea || pSizeArea.length === 0) {\n\t\t\tBase.outLog('未找到条数切换区域，停止该事件绑定', 'info');\n\t\t\treturn false;\n\t\t}\n\n\t\t// 从多少开始\n\t\tconst fromNum = _pageData_.cPage === 1 ? 1 : (_pageData_.cPage - 1) * _pageData_.pSize + 1;\n\n\t\t// 到多少结束\n\t\tconst toNum = _pageData_.cPage * _pageData_.pSize;\n\n\t\t// 总共条数\n\t\tconst totalNum = _pageData_.tSize;\n\n\t\tconst tmpHtml = I18n.i18nText($table, 'dataTablesInfo', [fromNum, toNum, totalNum]);\n\n\t\t// 根据返回值修正单页条数显示值\n\t\tpSizeArea.val(_pageData_.pSize || 10);\n\n\t\t// 修改条数文字信息\n\t\tpSizeInfo.html(tmpHtml);\n\t\tpSizeArea.show();\n\t\treturn true;\n\t}\n\n\t/**\n\t * 重置分页数据\n\t * @param $table\n\t * @param totals 总条数\n     */\n\tresetPageData($table, totals) {\n\t\tconst settings = Cache.getSettings($table);\n\t\tconst _this = this;\n\t\tif (isNaN(parseInt(totals, 10))) {\n\t\t\treturn;\n\t\t}\n\t\tconst _pageData = getPageData(totals);\n\n\t\t// 生成页码DOM节点\n\t\t_this.createPaginationDOM($table, _pageData);\n\n\t\t// 重置当前页显示条数\n\t\t_this.resetPSize($table, _pageData);\n\n\t\t// 更新Cache\n\t\tCache.setSettings($table, $.extend(true, settings, {pageData: _pageData}));\n\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\n\t\t// 分页工具条\n\t\tconst pageToolbar = $('.page-toolbar', tableWarp);\n\t\tpageToolbar.show();\n\n\t\t// 计算分页数据\n\t\tfunction getPageData(tSize) {\n\t\t\tconst _pSize = settings.pageData.pSize || settings.pageSize;\n\t\t\tconst _tSize = tSize;\n\t\t\tconst _cPage = settings.pageData.cPage || 1;\n\t\t\treturn {\n\t\t\t\ttPage: Math.ceil(_tSize / _pSize),\t\t// 总页数\n\t\t\t\tcPage: _cPage,\t\t\t\t\t\t\t// 当前页\n\t\t\t\tpSize: _pSize,\t\t\t\t\t\t\t// 每页显示条数\n\t\t\t\ttSize: _tSize\t\t\t\t\t\t\t// 总条路\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * 根据本地缓存配置分页数据\n\t * @param $table\n     */\n\tconfigPageForCache($table) {\n\t\tconst settings = Cache.getSettings($table);\n\t\tlet _data = Cache.getUserMemory($table);\n\n\t\t// 缓存对应\n\t\tlet\t_cache = _data.cache;\n\n\t\t// 每页显示条数\n\t\tlet\t_pSize = null;\n\n\t\t// 验证是否存在每页显示条数缓存数据\n\t\tif (!_cache || !_cache.page || !_cache.page.pSize) {\n\t\t\t_pSize = settings.pageSize || 10;\n\t\t} else {\n\t\t\t_pSize = _cache.page.pSize;\n\t\t}\n\t\tconst pageData = {\n\t\t\tpSize: _pSize,\n\t\t\tcPage: 1\n\t\t};\n\t\t$.extend(settings, {pageData: pageData});\n\t\tCache.setSettings($table, settings);\n\t}\n}\nexport default new AjaxPage();\n\n\n\n// WEBPACK FOOTER //\n// ./js/AjaxPage.js","/*\n * Export: 数据导出\n * */\nimport { $ } from './Base';\nimport Core from './Core';\nimport Cache from './Cache';\nclass Export {\n\t/**\n\t * 导出所需的HTML\n\t * @returns {string}\n     */\n\tget html() {\n\t\tconst html = '<a href=\"\" download=\"\" id=\"gm-export-action\"></a>';\n\t\treturn html;\n\t}\n\n\t/**\n\t * 拼接要导出html格式数据\n\t * @param theadHTML\n\t * @param tbodyHTML\n\t * @returns {string}\n     */\n\tcreateExportHTML(theadHTML, tbodyHTML) {\n\t\tconst exportHTML = `<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\">\n\t\t\t\t\t\t\t\t<head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head>\n\t\t\t\t\t\t\t\t<body>\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t${theadHTML}\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t${tbodyHTML}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</body>\n\t\t\t\t\t\t\t</html>`;\n\t\treturn exportHTML;\n\t}\n\n\t/**\n\t * 导出表格 .xls\n\t * @param $table:当前操作的grid,由插件自动传入\n\t * @param fileName: 导出后的文件名\n\t * @param onlyChecked: 是否只导出已选中的表格\n\t * @returns {boolean}\n     * @private\n     */\n\t__exportGridToXls($table, fileName, onlyChecked) {\n\t\tlet Settings = Cache.getSettings($table);\n\t\t// createDOM内添加\n\t\tconst gmExportAction = $('#gm-export-action');\n\t\tif (gmExportAction.length === 0) {\n\t\t\tCore.outLog('导出失败，请查看配置项:supportExport是否配置正确', 'error');\n\t\t\treturn false;\n\t\t}\n\n\t\t// type base64\n\t\tconst uri = 'data:application/vnd.ms-excel;base64,';\n\n\t\t// 存储导出的thead数据\n\n\t\tlet\ttheadHTML = '';\n\n\t\t// 存储导出的tbody下的数据\n\t\tlet\ttbodyHTML = '';\n\n\t\tconst thDOM = $('thead[grid-manager-thead] th[th-visible=\"visible\"][gm-create=\"false\"]', $table);\n\t\tlet\ttrDOM = null;\n\t\tlet\ttdDOM = null;\n\n\t\t// 验证：是否只导出已选中的表格\n\t\tif (onlyChecked) {\n\t\t\ttrDOM = $('tbody tr[checked=\"true\"]', $table);\n\t\t} else {\n\t\t\ttrDOM = $('tbody tr', $table);\n\t\t}\n\n\t\t$.each(thDOM, (i, v) => {\n\t\t\ttheadHTML += `<th>${v.getElementsByClassName('th-text')[0].textContent}</th>`;\n\t\t});\n\n\t\t$.each(trDOM, (i, v) => {\n\t\t\ttdDOM = $('td[gm-create=\"false\"][td-visible=\"visible\"]', v);\n\t\t\ttbodyHTML += '<tr>';\n\t\t\t$.each(tdDOM, (i2, v2) => {\n\t\t\t\ttbodyHTML += v2.outerHTML;\n\t\t\t});\n\t\t\ttbodyHTML += '</tr>';\n\t\t});\n\n\t\t// 拼接要导出html格式数据\n\t\tconst exportHTML = this.createExportHTML(theadHTML, tbodyHTML);\n\t\tgmExportAction.prop('href', uri + base64(exportHTML));\n\t\tgmExportAction.prop('download', `${fileName || Settings.gridManagerName}.xls`);\n\t\tgmExportAction.get(0).click();\n\n\t\tfunction base64(s) {\n\t\t\treturn window.btoa(unescape(encodeURIComponent(s)));\n\t\t}\n\n\t\t// 成功后返回true\n\t\treturn true;\n\t}\n}\nexport default new Export();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Export.js","/**\n * Created by baukh on 17/10/26.\n * 构造类\n */\nimport '../css/index.scss';\nimport { jTool, Base } from './Base';\nimport Adjust from './Adjust';\nimport AjaxPage from './AjaxPage';\nimport Cache from './Cache';\nimport Core from './Core';\nimport Config from './Config';\nimport Drag from './Drag';\nimport Export from './Export';\nimport Menu from './Menu';\nimport Remind from './Remind';\nimport Scroll from './Scroll';\nimport Sort from './Sort';\nimport store from './Store';\nimport { Settings, TextSettings } from './Settings';\nimport Hover from './Hover';\nexport default class GridManager {\n\t/**\n\t * @静态方法\n\t * 版本号\n\t * GridManager.version || GM.version\n\t * @returns {string}\n\t */\n\tstatic\n\tget version() {\n\t\treturn store.version;\n\t}\n\n\t/**\n\t * @静态方法\n\t * 获取Table 对应 GridManager的实例\n\t * @param table\n\t * @returns {*}\n\t */\n\tstatic\n\tget(table) {\n\t\treturn Cache.__getGridManager(jTool(table));\n\t}\n\n\t/**\n\t * @静态方法\n\t * 获取指定表格的本地存储数据\n\t * 成功则返回本地存储数据,失败则返回空对象\n\t * @param table\n\t * @returns {{}}\n     */\n\tstatic\n\tgetLocalStorage(table) {\n\t\treturn Cache.getUserMemory(jTool(table));\n\t}\n\n\t/**\n\t * @静态方法\n\t * 清除指定表的表格记忆数据,  如果未指定删除的table, 则全部清除\n\t * @param table\n\t * @returns {boolean}\n     */\n\tstatic\n\tclear(table) {\n\t\treturn Cache.delUserMemory(jTool(table));\n\t}\n\n\t/**\n\t * @静态方法\n\t * 获取当前行渲染时使用的数据\n\t * @param table\n\t * @param target 将要获取数据所对应的tr[Element or NodeList]\n\t * @returns {{}}\n     */\n\tstatic\n\tgetRowData(table, target) {\n\t\treturn Cache.__getRowData(jTool(table), target);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 手动设置排序\n\t * @param table\n\t * @param sortJson 需要排序的json串 如:{th-name:'down'} value需要与参数sortUpText 或 sortDownText值相同\n\t * @param callback 回调函数[function]\n     * @param refresh 是否执行完成后对表格进行自动刷新[boolean, 默认为true]\n     */\n\tstatic\n\tsetSort(table, sortJson, callback, refresh) {\n\t\tSort.__setSort(jTool(table), sortJson, callback, refresh);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 显示Th及对应的TD项\n\t * @param table\n\t * @param target\n     */\n\tstatic\n\tshowTh(table, target) {\n\t\tBase.setAreVisible(jTool(target), true);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 隐藏Th及对应的TD项\n\t * @param table\n\t * @param target\n     */\n\tstatic\n\thideTh(table, target) {\n\t\tBase.setAreVisible(jTool(target), false);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 导出表格 .xls\n\t * @param table\n\t * @param fileName 导出后的文件名\n\t * @param onlyChecked 是否只导出已选中的表格\n\t * @returns {boolean}\n     */\n\tstatic\n\texportGridToXls(table, fileName, onlyChecked) {\n\t\treturn Export.__exportGridToXls(jTool(table), fileName, onlyChecked);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 设置查询条件\n\t * @param table\n\t * @param query: 配置的数据 [Object]\n\t * @param callback: 回调函数\n\t * @param isGotoFirstPage: 是否返回第一页[Boolean default=true]\n\t * 注意事项:\n\t * - query的key值如果与分页及排序等字段冲突, query中的值将会被忽略.\n\t * - setQuery() 会立即触发刷新操作\n\t * - 在此配置的query在分页事件触发时, 会以参数形式传递至pagingAfter(query)事件内\n\t * - setQuery对query字段执行的操作是修改而不是合并, 每次执行setQuery都会将之前配置的query值覆盖\n\t */\n\tstatic\n\tsetQuery(table, query, isGotoFirstPage, callback) {\n\t\tconst $table = jTool(table);\n\t\tconst settings = Cache.getSettings($table);\n\t\tif (typeof (isGotoFirstPage) !== 'boolean') {\n\t\t\tcallback = isGotoFirstPage;\n\t\t\tisGotoFirstPage = true;\n\t\t}\n\t\tjTool.extend(settings, {query: query});\n\t\tif (isGotoFirstPage) {\n\t\t\tsettings.pageData.cPage = 1;\n\t\t}\n\t\tCache.setSettings($table, settings);\n\t\tCore.__refreshGrid($table, callback);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 配置静态数ajaxData\n\t * @param table\n\t * @param ajaxData: 配置的数据\n\t */\n\tstatic\n\tsetAjaxData(table, ajaxData) {\n\t\tconst $table = jTool(table);\n\t\tconst settings = Cache.getSettings($table);\n\t\tjTool.extend(settings, {ajax_data: ajaxData});\n\t\tCache.setSettings($table, settings);\n\t\tCore.__refreshGrid($table);\n\t}\n\n\t/**\n\t * @静态方法\n\t * 刷新表格 使用现有参数重新获取数据，对表格数据区域进行渲染\n\t * @param table\n\t * @param isGotoFirstPage:  是否刷新时跳转至第一页[boolean类型, 默认false]\n\t * @param callback: 回调函数\n\t */\n\tstatic\n\trefreshGrid(table, isGotoFirstPage, callback) {\n\t\tconst $table = jTool(table);\n\t\tconst settings = Cache.getSettings($table);\n\t\tif (typeof (isGotoFirstPage) !== 'boolean') {\n\t\t\tcallback = isGotoFirstPage;\n\t\t\tisGotoFirstPage = false;\n\t\t}\n\t\tif (isGotoFirstPage) {\n\t\t\tsettings.pageData['cPage'] = 1;\n\t\t\tCache.setSettings($table, settings);\n\t\t}\n\t\tCore.__refreshGrid($table, callback);\n\t};\n\n\t/**\n\t * @静态方法\n\t * 获取当前选中的行\n\t * @param table\n\t * @returns {NodeList} 当前选中的行\n     */\n\tstatic\n\tgetCheckedTr(table) {\n\t\treturn table.querySelectorAll('tbody tr[checked=\"true\"]');\n\t};\n\n\t/**\n\t * @静态方法\n\t * 获取当前选中行渲染时使用的数据\n\t * @param table\n\t * @returns {{}}\n     */\n\tstatic\n\tgetCheckedData(table) {\n\t\tconst $table = jTool(table);\n\t\treturn Cache.__getRowData($table, this.getCheckedTr(table));\n\t};\n\n\t/**\n\t * [对外公开方法]\n\t * @param table\n\t * @param arg: 参数\n\t * @param callback: 回调\n\t * @returns {*}\n\t */\n\tinit(table, arg, callback) {\n\t\tconst $table = jTool(table);\n\t\tif (typeof arg.gridManagerName !== 'string' || arg.gridManagerName.trim() === '') {\n\t\t\t// 存储gridManagerName值\n\t\t\targ.gridManagerName = Base.getKey($table);\n\t\t}\n\n\t\t// 配置参数\n\t\tvar _settings = new Settings();\n\t\t_settings.textConfig = new TextSettings();\n\t\tjTool.extend(true, _settings, arg);\n\t\tCache.setSettings($table, _settings);\n\n\t\tjTool.extend(true, this, _settings);\n\n\t\t// 通过版本较验 清理缓存\n\t\tCache.cleanTableCacheForVersion();\n\t\tif (this.gridManagerName.trim() === '') {\n\t\t\tthis.outLog('请在html标签中为属性[grid-manager]赋值或在配置项中配置gridManagerName', 'error');\n\t\t\treturn false;\n\t\t}\n\n\t\t// 验证当前表格是否已经渲染\n\t\tif ($table.hasClass('GridManager-ready') || $table.hasClass('GridManager-loading')) {\n\t\t\tthis.outLog('渲染失败：可能该表格已经渲染或正在渲染', 'error');\n\t\t\treturn false;\n\t\t}\n\n\t\t// 根据本地缓存配置每页显示条数\n\t\tif (this.supportAjaxPage) {\n\t\t\tAjaxPage.configPageForCache($table);\n\t\t}\n\n\t\t// 增加渲染中标注\n\t\t$table.addClass('GridManager-loading');\n\n\t\t// 初始化表格\n\t\tthis.initTable($table);\n\t\t// 如果初始获取缓存失败，在渲染完成后首先存储一次数据\n\t\tif (typeof $table.attr('grid-manager-cache-error') !== 'undefined') {\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tCache.saveUserMemory($table);\n\t\t\t\t$table.removeAttr('grid-manager-cache-error');\n\t\t\t}, 1000);\n\t\t}\n\t\t// 启用回调\n\t\ttypeof (callback) === 'function' ? callback(this.query) : '';\n\t\treturn $table;\n\t}\n\n\t/**\n\t * 初始化列表\n\t * @param table\n     */\n\tinitTable(table) {\n\t\t// 渲染HTML，嵌入所需的事件源DOM\n\t\tCore.createDOM(table);\n\n\t\t// 获取本地缓存并对列表进行配置\n\t\tif (!this.disableCache) {\n\t\t\tCache.configTheadForCache(table);\n\t\t\t// 通过缓存配置成功后, 重置宽度调整事件源dom\n\t\t\tthis.supportAdjust ? Adjust.resetAdjust(table) : '';\n\t\t}\n\n\t\t// 绑定宽度调整事件\n\t\tif (this.supportAdjust) {\n\t\t\tAdjust.bindAdjustEvent(table);\n\t\t}\n\n\t\t// 绑定拖拽换位事件\n\t\tif (this.supportDrag) {\n\t\t\tDrag.bindDragEvent(table);\n\t\t}\n\n\t\t// 绑定排序事件\n\t\tif (this.supportSorting) {\n\t\t\tSort.bindSortingEvent(table);\n\t\t}\n\n\t\t// 绑定表头提示事件\n\t\tif (this.supportRemind) {\n\t\t\tRemind.bindRemindEvent(table);\n\t\t}\n\n\t\t// 绑定配置列表事件\n\t\tif (this.supportConfig) {\n\t\t\tConfig.bindConfigEvent(table);\n\t\t}\n\n\t\t// 绑定table区域hover事件\n\t\tHover.onTbodyHover(table);\n\n\t\t// 绑定表头置顶功能\n\t\tScroll.bindScrollFunction(table);\n\n\t\t// 绑定右键菜单事件\n\t\tMenu.bindRightMenuEvent(table);\n\n\t\t// 渲染tbodyDOM\n\t\tCore.__refreshGrid(table);\n\n\t\t// 存储GM实例\n\t\tCache.__setGridManager(table, this);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/GridManager.js","/*\n * Config: th配置\n * */\nimport { $, Base } from './Base';\nimport Cache from './Cache';\nimport Adjust from './Adjust';\nclass Config {\n\t/**\n\t * 表格配置区域HTML\n\t * @returns {string}\n     */\n\tget html() {\n\t\tconst html = `<div class=\"config-area\">\n\t\t\t\t\t\t<span class=\"config-action\">\n\t\t\t\t\t\t\t<i class=\"iconfont icon-31xingdongdian\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ul class=\"config-list\"></ul>\n\t\t\t\t\t</div>`;\n\t\treturn html;\n\t}\n\n\t/**\n\t * 绑定配置列表事件[隐藏展示列]\n\t * @param $table\n     */\n\tbindConfigEvent($table) {\n\t\tlet Settings = Cache.getSettings($table);\n\n\t\t// GM容器\n\t\tconst tableWarp = $table.closest('div.table-wrap');\n\n\t\t// 打开/关闭设置事件源\n\t\tconst configAction = $('.config-action', tableWarp);\n\n\t\t// 事件: 打开 关闭\n\t\tconfigAction.unbind('click');\n\t\tconfigAction.bind('click', function () {\n\t\t\t// 展示事件源\n\t\t\tconst _configAction = $(this);\n\n\t\t\t// 设置区域\n\t\t\tconst _configArea = _configAction.closest('.config-area');\n\n\t\t\t// 关闭\n\t\t\tif (_configArea.css('display') === 'block') {\n\t\t\t\t_configArea.hide();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 打开\n\t\t\t_configArea.show();\n\n\t\t\t// 验证当前是否只有一列处于显示状态 并根据结果进行设置是否可以取消显示\n\t\t\tconst checkedLi = $('.checked-li', _configArea);\n\t\t\tcheckedLi.length === 1 ? checkedLi.addClass('no-click') : checkedLi.removeClass('no-click');\n\t\t});\n\n\t\t// 事件: 设置\n\t\t$('.config-list li', tableWarp).unbind('click');\n\t\t$('.config-list li', tableWarp).bind('click', function () {\n\t\t\t// 单个的设置项\n\t\t\tconst _only = $(this);\n\n\t\t\t// 单个设置项的thName\n\t\t\tconst _thName = _only.attr('th-name');\n\n\t\t\t// 事件下的checkbox\n\t\t\tconst _checkbox = _only.find('input[type=\"checkbox\"]');\n\n\t\t\t// 所在的大容器\n\t\t\tconst _tableWarp = _only.closest('.table-wrap');\n\n\t\t\t// 所在的table-div\n\t\t\tconst _tableDiv\t= $('.table-div', _tableWarp);\n\n\t\t\t// 所对应的table\n\t\t\tconst _table = $('[grid-manager]', _tableWarp);\n\n\t\t\t// 所对应的th\n\t\t\tconst _th = $(`thead[grid-manager-thead] th[th-name=\"${_thName}\"]`, _table);\n\n\t\t\t// 最后一项显示列不允许隐藏\n\t\t\tif (_only.hasClass('no-click')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t_only.closest('.config-list').find('.no-click').removeClass('no-click');\n\t\t\tlet isVisible = !_checkbox.prop('checked');\n\n\t\t\t// 设置与当前td同列的td是否可见\n\t\t\t_tableDiv.addClass('config-editing');\n\t\t\tBase.setAreVisible(_th, isVisible, () => {\n\t\t\t\t_tableDiv.removeClass('config-editing');\n\t\t\t});\n\n\t\t\t// 当前处于选中状态的展示项\n\t\t\tconst _checkedList = $('.config-area input[type=\"checkbox\"]:checked', _tableWarp);\n\n\t\t\t// 限制最少显示一列\n\t\t\tif (_checkedList.length === 1) {\n\t\t\t\t_checkedList.parent().addClass('no-click');\n\t\t\t}\n\n\t\t\t// 重置调整宽度事件源\n\t\t\tif (Settings.supportAdjust) {\n\t\t\t\tAdjust.resetAdjust(_table);\n\t\t\t}\n\n\t\t\t// 重置镜像滚动条的宽度\n\t\t\t$('.sa-inner', _tableWarp).width('100%');\n\n\t\t\t// 重置当前可视th的宽度\n\t\t\tconst _visibleTh = $('thead[grid-manager-thead] th[th-visible=\"visible\"]', _table);\n\t\t\t$.each(_visibleTh, (i, v) => {\n\t\t\t\t// 特殊处理: GM自动创建的列使终为50px\n\t\t\t\tif (v.getAttribute('gm-create') === 'true') {\n\t\t\t\t\tv.style.width = '50px';\n\t\t\t\t} else {\n\t\t\t\t\tv.style.width = 'auto';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// 当前th文本所占宽度大于设置的宽度\n\t\t\t// 需要在上一个each执行完后才可以获取到准确的值\n\t\t\t$.each(_visibleTh, (i, v) => {\n\t\t\t\tconst _realWidthForThText = Base.getTextWidth(v);\n\t\t\t\tconst\t_thWidth = $(v).width();\n\t\t\t\tif (_thWidth < _realWidthForThText) {\n\t\t\t\t\t$(v).width(_realWidthForThText);\n\t\t\t\t} else {\n\t\t\t\t\t$(v).width(_thWidth);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// 存储用户记忆\n\t\t\tCache.saveUserMemory(_table);\n\n\t\t\t// 处理置顶表头\n\t\t\tconst topThead = $('thead.set-top', _table);\n\t\t\tif (topThead.length === 1) {\n\t\t\t\ttopThead.remove();\n\t\t\t\t_tableDiv.trigger('scroll');\n\t\t\t}\n\t\t});\n\t}\n}\nexport default new Config();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Config.js","/*\n * GridManager: 右键菜单\n * */\nimport { $ } from './Base';\nimport Cache from './Cache';\nimport I18n from './I18n';\nimport Export from './Export';\nimport AjaxPage from './AjaxPage';\nclass Menu {\n\t/**\n\t * 验证菜单区域: 禁用、开启分页操作\n\t * @param $table\n     */\n\tcheckMenuPageAction($table) {\n\t\tlet Settings = Cache.getSettings($table);\n\t\t// 右键菜单区上下页限制\n\t\tconst gridMenu = $(`.grid-menu[grid-master=\"${Settings.gridManagerName}\"]`);\n\t\tif (!gridMenu || gridMenu.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst previousPage = $('[refresh-type=\"previous\"]', gridMenu);\n\t\tconst nextPage = $('[refresh-type=\"next\"]', gridMenu);\n\t\tif (Settings.pageData.cPage === 1 || Settings.pageData.tPage === 0) {\n\t\t\tpreviousPage.addClass('disabled');\n\t\t} else {\n\t\t\tpreviousPage.removeClass('disabled');\n\t\t}\n\t\tif (Settings.pageData.cPage === Settings.pageData.tPage || Settings.pageData.tPage === 0) {\n\t\t\tnextPage.addClass('disabled');\n\t\t} else {\n\t\t\tnextPage.removeClass('disabled');\n\t\t}\n\t}\n\n\t/**\n\t * 绑定右键菜单事件\n\t * @param $table\n     */\n\tbindRightMenuEvent($table) {\n\t\tconst _this = this;\n\t\tlet Settings = Cache.getSettings($table);\n\t\tconst tableWarp = $table.closest('.table-wrap');\n\n\t\t// 刷新当前表格\n\t\tlet menuHTML = `<div class=\"grid-menu\" grid-master=\"${Settings.gridManagerName}\">`;\n\n\t\t// 分页类操作\n\t\tif (Settings.supportAjaxPage) {\n\t\t\tmenuHTML += `<span grid-action=\"refresh-page\" refresh-type=\"previous\">\n\t\t\t\t\t\t\t${I18n.i18nText($table, 'previous-page')}\n\t\t\t\t\t\t\t<i class=\"iconfont icon-sanjiao2\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span grid-action=\"refresh-page\" refresh-type=\"next\">\n\t\t\t\t\t\t\t${I18n.i18nText($table, 'next-page')}\n\t\t\t\t\t\t\t<i class=\"iconfont icon-sanjiao1\"></i>\n\t\t\t\t\t\t</span>`;\n\t\t}\n\t\tmenuHTML += `<span grid-action=\"refresh-page\" refresh-type=\"refresh\">\n\t\t\t\t\t\t${I18n.i18nText($table, 'refresh')}\n\t\t\t\t\t\t<i class=\"iconfont icon-31shuaxin\"></i>\n\t\t\t\t\t</span>`;\n\t\t// 导出类\n\t\tif (Settings.supportExport) {\n\t\t\tmenuHTML += `<span class=\"grid-line\"></span>\n\t\t\t\t\t\t<span grid-action=\"export-excel\" only-checked=\"false\">\n\t\t\t\t\t\t\t${I18n.i18nText($table, 'save-as-excel')}\n\t\t\t\t\t\t\t<i class=\"iconfont icon-baocun\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span grid-action=\"export-excel\" only-checked=\"true\">\n\t\t\t\t\t\t\t${I18n.i18nText($table, 'save-as-excel-for-checked')}\n\t\t\t\t\t\t\t<i class=\"iconfont icon-saveas24\"></i>\n\t\t\t\t\t\t</span>`;\n\t\t}\n\t\t// 配置类\n\t\tif (Settings.supportConfig) {\n\t\t\tmenuHTML += `<span class=\"grid-line\"></span>\n\t\t\t\t\t\t<span grid-action=\"config-grid\">\n\t\t\t\t\t\t\t${I18n.i18nText($table, 'config-grid')}\n\t\t\t\t\t\t\t<i class=\"iconfont icon-shezhi\"></i>\n\t\t\t\t\t\t</span>`;\n\t\t}\n\t\tmenuHTML += `</div>`;\n\t\tconst _body = $('body');\n\t\t_body.append(menuHTML);\n\n\t\t// 绑定打开右键菜单栏\n\t\tconst menuDOM = $(`.grid-menu[grid-master=\"${Settings.gridManagerName}\"]`);\n\t\ttableWarp.unbind('contextmenu');\n\t\ttableWarp.bind('contextmenu', function (e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\t// 验证：如果不是tbdoy或者是tbody的子元素，直接跳出\n\t\t\tif (e.target.nodeName !== 'TBODY' && $(e.target).closest('tbody').length === 0) {\n\t\t\t\tconsole.log('contextmenu    !TBODY');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 验证：当前是否存在已选中的项\n\t\t\tconst exportExcelOfChecked = $('[grid-action=\"export-excel\"][only-checked=\"true\"]');\n\t\t\tif ($('tbody tr[checked=\"true\"]', $(`table[grid-manager=\"${ Settings.gridManagerName }\"]`)).length === 0) {\n\t\t\t\texportExcelOfChecked.addClass('disabled');\n\t\t\t} else {\n\t\t\t\texportExcelOfChecked.removeClass('disabled');\n\t\t\t}\n\n\t\t\tconst menuWidth = menuDOM.width();\n\t\t\tconst menuHeight = menuDOM.height();\n\t\t\tconst offsetHeight = document.documentElement.offsetHeight;\n\t\t\tconst offsetWidth = document.documentElement.offsetWidth;\n\t\t\tconst top = offsetHeight < e.clientY + menuHeight ? e.clientY - menuHeight : e.clientY;\n\t\t\tconst left = offsetWidth < e.clientX + menuWidth ? e.clientX - menuWidth : e.clientX;\n\t\t\tmenuDOM.css({\n\t\t\t\ttop: top + tableWarp.get(0).scrollTop + (document.body.scrollTop || document.documentElement.scrollTop),\n\t\t\t\tleft: left + tableWarp.get(0).scrollLeft + (document.body.scrollLeft || document.documentElement.scrollLeft)\n\t\t\t});\n\n\t\t\t// 隐藏非当前展示表格的菜单项\n\t\t\t$('.grid-menu[grid-master]').hide();\n\t\t\tmenuDOM.show();\n\t\t\t_body.off('mousedown.gridMenu');\n\t\t\t_body.on('mousedown.gridMenu', function (e) {\n\t\t\t\tconst eventSource = $(e.target);\n\t\t\t\tif (eventSource.hasClass('.grid-menu') || eventSource.closest('.grid-menu').length === 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_body.off('mousedown.gridMenu');\n\t\t\t\tmenuDOM.hide();\n\t\t\t});\n\t\t});\n\n\t\t// 绑定事件：上一页、下一页、重新加载\n\t\tconst refreshPage = $('[grid-action=\"refresh-page\"]');\n\t\trefreshPage.unbind('click');\n\t\trefreshPage.bind('click', function (e) {\n\t\t\tif (_this.isDisabled(this, e)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst _gridMenu = $(this).closest('.grid-menu');\n\t\t\tconst _table = $(`table[grid-manager=\"${ _gridMenu.attr('grid-master') }\"]`);\n\t\t\tconst refreshType = this.getAttribute('refresh-type');\n\t\t\tlet Settings = Cache.getSettings(_table);\n\t\t\tlet cPage = Settings.pageData.cPage;\n\n\t\t\t// 上一页\n\t\t\tif (refreshType === 'previous' && Settings.pageData.cPage > 1) {\n\t\t\t\tcPage = Settings.pageData.cPage - 1;\n\t\t\t\t// 下一页\n\t\t\t} else if (refreshType === 'next' && Settings.pageData.cPage < Settings.pageData.tPage) {\n\t\t\t\tcPage = Settings.pageData.cPage + 1;\n\t\t\t\t// 重新加载\n\t\t\t} else if (refreshType === 'refresh') {\n\t\t\t\tcPage = Settings.pageData.cPage;\n\t\t\t}\n\n\t\t\tAjaxPage.gotoPage(_table, cPage);\n\t\t\t_body.off('mousedown.gridMenu');\n\t\t\t_gridMenu.hide();\n\t\t});\n\n\t\t// 绑定事件：另存为EXCEL、已选中表格另存为Excel\n\t\tconst exportExcel = $('[grid-action=\"export-excel\"]');\n\t\texportExcel.unbind('click');\n\t\texportExcel.bind('click', function (e) {\n\t\t\tif (_this.isDisabled(this, e)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst _gridMenu = $(this).closest('.grid-menu');\n\t\t\tconst _table = $(`table[grid-manager=\"${_gridMenu.attr('grid-master')}\"]`);\n\t\t\tlet onlyChecked = false;\n\t\t\tif (this.getAttribute('only-checked') === 'true') {\n\t\t\t\tonlyChecked = true;\n\t\t\t}\n\t\t\tExport.__exportGridToXls(_table, undefined, onlyChecked);\n\t\t\t_body.off('mousedown.gridMenu');\n\t\t\t_gridMenu.hide();\n\t\t});\n\n\t\t// 绑定事件：配置表\n\t\tconst settingGrid = $('[grid-action=\"config-grid\"]');\n\t\tsettingGrid.unbind('click');\n\t\tsettingGrid.bind('click', function (e) {\n\t\t\tif (_this.isDisabled(this, e)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst _gridMenu = $(this).closest('.grid-menu');\n\t\t\tconst _table = $(`table[grid-manager=\"${_gridMenu.attr('grid-master')}\"]`);\n\t\t\tconst configArea = $('.config-area', _table.closest('.table-wrap'));\n\t\t\t$('.config-action', configArea).trigger('click');\n\t\t\t_body.off('mousedown.gridMenu');\n\t\t\t_gridMenu.hide();\n\t\t});\n\t}\n\n\t/**\n\t * 获取右键菜单中的某项 是为禁用状态. 若为禁用状态清除事件默认行为\n\t * @param dom\n\t * @param events\n\t * @returns {boolean}\n     */\n\tisDisabled(dom, events) {\n\t\tif ($(dom).hasClass('disabled')) {\n\t\t\tevents.stopPropagation();\n\t\t\tevents.preventDefault();\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\nexport default new Menu();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Menu.js","/*\n * Remind: 表头提醒\n * */\nimport { $ } from './Base';\nclass Remind {\n\t/**\n\t * 获取表头提醒所需HTML\n\t * @returns {string}\n     */\n\tget html() {\n\t\tconst html = `<div class=\"remind-action\">\n\t\t\t\t\t\t<i class=\"ra-help iconfont icon-icon\"></i>\n\t\t\t\t\t\t<div class=\"ra-area\">\n\t\t\t\t\t\t\t<span class=\"ra-title\"></span>\n\t\t\t\t\t\t\t<span class=\"ra-con\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;\n\t\treturn html;\n\t}\n\n\t/**\n\t * 绑定表头提醒功能\n\t * @param table\n     */\n\tbindRemindEvent(table) {\n\t\tconst remindAction = $('.remind-action', table);\n\t\tremindAction.unbind('mouseenter');\n\t\tremindAction.bind('mouseenter', function () {\n\t\t\tlet raArea = $(this).find('.ra-area');\n\t\t\tlet tableDiv = $(this).closest('.table-div');\n\t\t\traArea.show();\n\t\t\tlet theLeft = (tableDiv.get(0).offsetWidth - ($(this).offset().left - tableDiv.offset().left)) > raArea.get(0).offsetWidth;\n\t\t\traArea.css({\n\t\t\t\tleft: theLeft ? '0px' : 'auto',\n\t\t\t\tright: theLeft ? 'auto' : '0px'\n\t\t\t});\n\t\t});\n\t\tremindAction.unbind('mouseleave');\n\t\tremindAction.bind('mouseleave', function () {\n\t\t\tlet raArea = $(this).find('.ra-area');\n\t\t\traArea.hide();\n\t\t});\n\t}\n}\nexport default new Remind();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Remind.js","/*\n* Sort: 排序\n* */\nimport { $, Base } from './Base';\nimport Core from './Core';\nimport Cache from './Cache';\nclass Sort {\n\t/**\n\t * 获取排序所需HTML\n\t * @returns {string}\n     */\n\tget html() {\n\t\tconst html = `<div class=\"sorting-action\">\n\t\t\t\t\t\t<i class=\"sa-icon sa-up iconfont icon-sanjiao2\"></i>\n\t\t\t\t\t\t<i class=\"sa-icon sa-down iconfont icon-sanjiao1\"></i>\n\t\t\t\t\t</div>`;\n\t\treturn html;\n\t}\n\n\t/*\n\t * 手动设置排序\n\t * @param sortJson: 需要排序的json串 如:{th-name:'down'} value需要与参数sortUpText 或 sortDownText值相同\n\t * @param callback: 回调函数[function]\n\t * @param refresh: 是否执行完成后对表格进行自动刷新[boolean, 默认为true]\n\t *\n\t * 排序json串示例:\n\t * sortJson => {name: 'ASC}\n\t * */\n\t__setSort($table, sortJson, callback, refresh) {\n\t\tlet settings = Cache.getSettings($table);\n\t\tif (!sortJson || $.type(sortJson) !== 'object' || $.isEmptyObject(sortJson)) {\n\t\t\treturn false;\n\t\t}\n\t\t$.extend(settings.sortData, sortJson);\n\t\tCache.setSettings($table, settings);\n\n\t\t// 默认执行完后进行刷新列表操作\n\t\tif (typeof (refresh) === 'undefined') {\n\t\t\trefresh = true;\n\t\t}\n\t\tlet _th = null;\n\t\tlet\t_sortAction = null;\n\t\tlet\t_sortType = null;\n\t\tfor (let s in sortJson) {\n\t\t\t_th = $(`[th-name=\"${s}\"]`, $table);\n\t\t\t_sortType = sortJson[s];\n\t\t\t_sortAction = $('.sorting-action', _th);\n\t\t\tif (_sortType === settings.sortUpText) {\n\t\t\t\t_th.attr('sorting', settings.sortUpText);\n\t\t\t\t_sortAction.removeClass('sorting-down');\n\t\t\t\t_sortAction.addClass('sorting-up');\n\t\t\t} else if (_sortType === settings.sortDownText) {\n\t\t\t\t_th.attr('sorting', settings.sortDownText);\n\t\t\t\t_sortAction.removeClass('sorting-up');\n\t\t\t\t_sortAction.addClass('sorting-down');\n\t\t\t}\n\t\t}\n\t\trefresh ? Core.__refreshGrid($table, callback) : (typeof (callback) === 'function' ? callback() : '');\n\t}\n\n\t/**\n\t * 绑定排序事件\n\t * @param $table\n     */\n\tbindSortingEvent($table) {\n\t\tconst _this = this;\n\t\tlet settings = Cache.getSettings($table);\n\n\t\t// 向上或向下事件源\n\t\tlet\taction = null;\n\n\t\t// 事件源所在的th\n\t\tlet\tth = null;\n\n\t\t// 事件源所在的table\n\t\tlet\ttable = null;\n\n\t\t// th对应的名称\n\t\tlet\tthName = null;\n\n\t\t// 绑定排序事件\n\t\t$table.off('mouseup', '.sorting-action');\n\t\t$table.on('mouseup', '.sorting-action', function () {\n\t\t\taction = $(this);\n\t\t\tth = action.closest('th');\n\t\t\ttable = th.closest('table');\n\t\t\tthName = th.attr('th-name');\n\t\t\tif (!thName || $.trim(thName) === '') {\n\t\t\t\tBase.outLog('排序必要的参数丢失', 'error');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 根据组合排序配置项判定：是否清除原排序及排序样式\n\t\t\tif (!settings.isCombSorting) {\n\t\t\t\t$.each($('.sorting-action', table), (i, v) => {\n\t\t\t\t\t// action.get(0) 当前事件源的DOM\n\t\t\t\t\tif (v !== action.get(0)) {\n\t\t\t\t\t\t$(v).removeClass('sorting-up sorting-down');\n\t\t\t\t\t\t$(v).closest('th').attr('sorting', '');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// 更新排序样式\n\t\t\t_this.updateSortStyle(action, th, settings);\n\n\t\t\t// 当前触发项为置顶表头时, 同步更新至原样式\n\t\t\tif (th.closest('thead[grid-manager-mock-thead]').length === 1) {\n\t\t\t\tconst _th = $(`thead[grid-manager-thead] th[th-name=\"${thName}\"]`, table);\n\t\t\t\tconst _action = $('.sorting-action', _th);\n\t\t\t\t_this.updateSortStyle(_action, _th, settings);\n\t\t\t}\n\t\t\t// 拼装排序数据: 单列排序\n\t\t\tsettings.sortData = {};\n\t\t\tif (!settings.isCombSorting) {\n\t\t\t\tsettings.sortData[th.attr('th-name')] = th.attr('sorting');\n\t\t\t// 拼装排序数据: 组合排序\n\t\t\t} else {\n\t\t\t\t$.each($('thead[grid-manager-thead] th[th-name][sorting]', table), function (i, v) {\n\t\t\t\t\tif (v.getAttribute('sorting') !== '') {\n\t\t\t\t\t\tsettings.sortData[v.getAttribute('th-name')] = v.getAttribute('sorting');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t// 调用事件、渲染tbody\n\t\t\tCache.setSettings($table, settings);\n\t\t\tconst query = $.extend({}, settings.query, settings.sortData, settings.pageData);\n\t\t\tsettings.sortingBefore(query);\n\t\t\tCore.__refreshGrid($table, () => {\n\t\t\t\tsettings.sortingAfter(query, th);\n\t\t\t});\n\n\t\t});\n\t}\n\n\t/**\n\t * 更新排序样式\n\t * @param sortAction\n\t * @param th\n\t * @param settings\n     */\n\tupdateSortStyle(sortAction, th, settings) {\n\t\t// 排序操作：升序\n\t\tif (sortAction.hasClass('sorting-down')) {\n\t\t\tsortAction.addClass('sorting-up');\n\t\t\tsortAction.removeClass('sorting-down');\n\t\t\tth.attr('sorting', settings.sortUpText);\n\t\t\t// 排序操作：降序\n\t\t} else {\n\t\t\tsortAction.addClass('sorting-down');\n\t\t\tsortAction.removeClass('sorting-up');\n\t\t\tth.attr('sorting', settings.sortDownText);\n\t\t}\n\t}\n}\nexport default new Sort();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Sort.js","/**\n * Created by baukh on 17/10/24.\n * 实例化数据的存储对象\n */\n\nconst Store = {\n\t// 版本号\n\tversion: '2.3.15',\n\n\t// GM实例\n\tgridManager: {},\n\n\t// GM使用的数据\n\tresponseData: {},\n\n\t// 表渲染前的th\n\toriginalTh: {},\n\n\t// 配置信息\n\tsettings: {}\n};\n\nexport default Store;\n\n\n\n// WEBPACK FOOTER //\n// ./js/Store.js","/**\n * Created by baukh on 17/4/14.\n * 公开方法\n * 参数中的table, 将由组件自动添加\n */\nimport GridManager from './GridManager';\nclass PublishMethodClass {\n\tconstructor() {\n\t\t/*\n\t\t * 通过jTool实例获取GridManager\n\t\t * */\n\t\tthis.get = table => {\n\t\t\treturn GridManager.get(table);\n\t\t};\n\n\t\t/*\n\t\t * 获取指定表格的本地存储数据\n\t\t * */\n\t\tthis.getLocalStorage = table => {\n\t\t\treturn GridManager.getLocalStorage(table);\n\t\t};\n\n\t\t/*\n\t\t * 清除指定表的表格记忆数据\n\t\t * */\n\t\tthis.clear = table => {\n\t\t\treturn GridManager.clear(table);\n\t\t};\n\n\t\t/*\n\t\t * @获取当前行渲染时使用的数据\n\t\t * */\n\t\tthis.getRowData = (table, target) => {\n\t\t\treturn GridManager.getRowData(table, target);\n\t\t};\n\n\t\t/*\n\t\t * 手动设置排序\n\t\t * */\n\t\tthis.setSort = (table, sortJson, callback, refresh) => {\n\t\t\tGridManager.setSort(table, sortJson, callback, refresh);\n\t\t};\n\n\t\t/*\n\t\t * 显示Th及对应的TD项\n\t\t * */\n\t\tthis.showTh = (table, target) => {\n\t\t\tGridManager.showTh(table, target);\n\t\t};\n\n\t\t/*\n\t\t * 隐藏Th及对应的TD项\n\t\t * */\n\t\tthis.hideTh = (table, target) => {\n\t\t\tGridManager.hideTh(table, target);\n\t\t};\n\n\t\t/*\n\t\t * 导出表格 .xls\n\t\t * */\n\t\tthis.exportGridToXls = (table, fileName, onlyChecked) => {\n\t\t\treturn GridManager.exportGridToXls(table, fileName, onlyChecked);\n\t\t};\n\n\t\t/**\n\t\t * 设置查询条件\n\t\t */\n\t\tthis.setQuery = (table, query, isGotoFirstPage, callback) => {\n\t\t\tGridManager.setQuery(table, query, isGotoFirstPage, callback);\n\t\t};\n\n\t\t/**\n\t\t * 配置静态数ajaxData\n\t\t */\n\t\tthis.setAjaxData = (table, ajaxData) => {\n\t\t\tGridManager.setAjaxData(table, ajaxData);\n\t\t};\n\n\t\t/*\n\t\t * 刷新表格 使用现有参数重新获取数据，对表格数据区域进行渲染\n\t\t * */\n\t\tthis.refreshGrid = (table, isGotoFirstPage, callback) => {\n\t\t\tGridManager.refreshGrid(table, isGotoFirstPage, callback);\n\t\t};\n\n\t\t/*\n\t\t * 获取当前选中的行\n\t\t * */\n\t\tthis.getCheckedTr = table => {\n\t\t\treturn GridManager.getCheckedTr(table);\n\t\t};\n\n\t\t/*\n\t\t * 获取当前选中行渲染时使用的数据\n\t\t * */\n\t\tthis.getCheckedData = table => {\n\t\t\treturn GridManager.getCheckedData(table);\n\t\t};\n\t}\n}\n\n/*\n\t//对外公开方法展示\n\t'init',\t\t\t\t\t// 初始化方法\n\t'setSort',\t\t\t\t// 手动设置排序\n\t'get',\t\t\t\t\t// 通过jTool实例获取GridManager\n\t'showTh',\t\t\t\t// 显示Th及对应的TD项\n\t'hideTh',\t\t\t\t// 隐藏Th及对应的TD项\n\t'exportGridToXls',\t\t// 导出表格 .xls\n\t'getLocalStorage',\t\t// 获取指定表格的本地存储数据\n\t'setQuery',\t\t\t\t// 配置query 该参数会在分页触发后返回至pagingAfter(query)方法\n\t'setAjaxData',          // 用于再次配置ajax_data数据, 配置后会根据配置的数据即刻刷新表格\n\t'refreshGrid',\t\t\t// 刷新表格 使用现有参数重新获取数据，对表格数据区域进行渲染\n\t'getCheckedTr',\t\t\t// 获取当前选中的行\n\t'getRowData',\t\t\t// 获取当前行渲染时使用的数据\n\t'getCheckedData',\t\t// 获取当前选中行渲染时使用的数据\n\t'clear'\t\t\t\t\t// 清除指定表的表格记忆数据\n*/\n// 对外公开方法列表\nconst PublishMethod = new PublishMethodClass();\nconst publishMethodArray = ['init'];\nfor (let key in PublishMethod) {\n\tpublishMethodArray.push(key);\n}\nexport {PublishMethod, publishMethodArray};\n\n\n\n// WEBPACK FOOTER //\n// ./js/Publish.js","/*\n * Checkbox: 数据选择/全选/返选\n * */\nimport { $ } from './Base';\nimport I18n from './I18n';\nclass Checkbox {\n\t/**\n\t * checkbox 拼接字符串\n\t * @param $table\n\t * @returns {string}\n     */\n\thtml($table) {\n\t\tlet checkboxHtml = `<th th-name=\"gm_checkbox\" gm-checkbox=\"true\" gm-create=\"true\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\"/>\n\t\t\t\t\t\t\t\t<span style=\"display: none\">\n\t\t\t\t\t\t\t\t\t${ I18n.i18nText($table, 'checkall-text') }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</th>`;\n\t\treturn checkboxHtml;\n\t};\n\n\t/**\n\t * 初始化选择与反选DOM\n\t * @param $table\n     */\n\tinitCheckbox($table) {\n\t\t// 插入选择DOM\n\t\t$('thead tr', $table).prepend(this.html($table));\n\n\t\t// 绑定选择框事件\n\t\tthis.bindCheckboxEvent($table);\n\t};\n\n\t/**\n\t * 绑定选择框事件\n\t * @param $table\n     */\n\tbindCheckboxEvent($table) {\n\t\t$table.off('click', 'input[type=\"checkbox\"]');\n\t\t$table.on('click', 'input[type=\"checkbox\"]', function () {\n\n\t\t\t// 存储th中的checkbox的选中状态\n\t\t\tlet _thChecked = true;\n\n\t\t\t// 全选键事件源\n\t\t\tconst _checkAction = $(this);\n\n\t\t\t// th中的选择框\n\t\t\tconst _thCheckbox = $('thead th[gm-checkbox] input[type=\"checkbox\"]', $table);\n\n\t\t\t// td中的选择框\n\t\t\tconst _tdCheckbox = $('tbody td[gm-checkbox] input[type=\"checkbox\"]', $table);\n\n\t\t\t// 当前为全选事件源\n\t\t\tif (_checkAction.closest('th[th-name=\"gm_checkbox\"]').length === 1) {\n\t\t\t\t$.each(_tdCheckbox, (i, v) => {\n\t\t\t\t\tv.checked = _checkAction.prop('checked');\n\t\t\t\t\t$(v).closest('tr').attr('checked', v.checked);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// 当前为单个选择\n\t\t\t\t$.each(_tdCheckbox, (i, v) => {\n\t\t\t\t\tif (v.checked === false) {\n\t\t\t\t\t\t_thChecked = false;\n\t\t\t\t\t}\n\t\t\t\t\t$(v).closest('tr').attr('checked', v.checked);\n\t\t\t\t});\n\t\t\t\t_thCheckbox.prop('checked', _thChecked);\n\t\t\t}\n\t\t});\n\t};\n}\nexport default new Checkbox();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Checkbox.js","/*\n * Drag: 拖拽\n * */\nimport { $, Base } from './Base';\nimport Adjust from './Adjust';\nimport Cache from './Cache';\nclass Drag {\n\t/**\n\t * 绑定拖拽换位事件\n\t * @param $table\n\t */\n\tbindDragEvent($table) {\n\t\tconst _this = this;\n\n\t\t// 指定拖拽换位事件源,配置拖拽样式\n\t\t$table.off('mousedown', '.drag-action');\n\t\t$table.on('mousedown', '.drag-action', function (event) {\n\t\t\tconst $body = $('body');\n\n\t\t\t// 获取设置项\n\t\t\tlet settings = Cache.getSettings($table);\n\n\t\t\t// 事件源th\n\t\t\tlet _th = $(this).closest('th');\n\n\t\t\t// 事件源的上一个th\n\t\t\tlet prevTh = null;\n\n\t\t\t// 事件源的下一个th\n\t\t\tlet nextTh = null;\n\n\t\t\t// 事件源所在的tr\n\t\t\tlet _tr = _th.parent();\n\n\t\t\t// 事件源同层级下的所有可视th\n\t\t\tlet _allTh = _tr.find('th[th-visible=\"visible\"]');\n\n\t\t\t// 事件源所在的table\n\t\t\tconst _table = _tr.closest('table');\n\n\t\t\t// 事件源所在的DIV\n\t\t\tconst tableDiv = _table.closest('.table-div');\n\n\t\t\t// 事件源所在的容器\n\t\t\tconst _tableWrap = _table.closest('.table-wrap');\n\n\t\t\t// 与事件源同列的所有td\n\t\t\tconst colTd = Base.getColTd(_th);\n\n\t\t\t// 列拖拽触发回调事件\n\t\t\tsettings.dragBefore(event);\n\n\t\t\t// 禁用文字选中效果\n\t\t\t$body.addClass('no-select-text');\n\n\t\t\t// 更新界面交互标识\n\t\t\tBase.updateInteractive(_table, 'Drag');\n\n\t\t\t// 增加拖拽中样式\n\t\t\t_th.addClass('drag-ongoing opacityChange');\n\t\t\tcolTd.addClass('drag-ongoing opacityChange');\n\n\t\t\t// 增加临时展示DOM\n\t\t\t_tableWrap.append('<div class=\"dreamland-div\"></div>');\n\t\t\tlet dreamlandDIV = $('.dreamland-div', _tableWrap);\n\t\t\tdreamlandDIV.get(0).innerHTML = `<table class=\"dreamland-table ${_table.attr('class')}\"></table>`;\n\n\t\t\t// tbody内容：将原tr与td上的属性一并带上，解决一部分样式问题\n\t\t\tlet _tbodyHtml = '';\n\t\t\tlet _cloneTr = null;\n\t\t\tlet _cloneTd = null;\n\t\t\t$.each(colTd, (i, v) => {\n\t\t\t\t_cloneTd = v.cloneNode(true);\n\t\t\t\t_cloneTd.style.height = v.offsetHeight + 'px';\n\t\t\t\t_cloneTr = $(v).closest('tr').clone();\n\t\t\t\t_tbodyHtml += _cloneTr.html(_cloneTd.outerHTML).get(0).outerHTML;\n\t\t\t});\n\t\t\tlet tmpHtml = `<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th style=\"height:${_th.height()}px\">\n\t\t\t\t\t\t\t\t${$('.drag-action', _th).get(0).outerHTML}\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t${_tbodyHtml}\n\t\t\t\t\t\t\t</tbody>`;\n\t\t\t$('.dreamland-table', dreamlandDIV).html(tmpHtml);\n\n\t\t\t// 存储移动时的th所处的位置\n\t\t\tlet _thIndex = 0;\n\n\t\t\t// 绑定拖拽滑动事件\n\t\t\t$body.unbind('mousemove');\n\t\t\t$body.bind('mousemove', function (e2) {\n\t\t\t\t_thIndex = _th.index(_allTh);\n\t\t\t\tprevTh = undefined;\n\n\t\t\t\t// 当前移动的非第一列\n\t\t\t\tif (_thIndex > 0) {\n\t\t\t\t\tprevTh = _allTh.eq(_thIndex - 1);\n\t\t\t\t}\n\t\t\t\tnextTh = undefined;\n\n\t\t\t\t// 当前移动的非最后一列\n\t\t\t\tif (_thIndex < _allTh.length) {\n\t\t\t\t\tnextTh = _allTh.eq(_thIndex + 1);\n\t\t\t\t}\n\t\t\t\t// 插件自动创建的项,不允许移动\n\t\t\t\tif (prevTh && prevTh.length !== 0 && prevTh.attr('gm-create') === 'true') {\n\t\t\t\t\tprevTh = undefined;\n\t\t\t\t} else if (nextTh && nextTh.length !== 0 && nextTh.attr('gm-create') === 'true') {\n\t\t\t\t\tnextTh = undefined;\n\t\t\t\t}\n\n\t\t\t\tdreamlandDIV.show();\n\t\t\t\tdreamlandDIV.css({\n\t\t\t\t\twidth: _th.get(0).offsetWidth,\n\t\t\t\t\theight: _table.get(0).offsetHeight,\n\t\t\t\t\tleft: e2.clientX - _tableWrap.offset().left + window.pageXOffset - _th.get(0).offsetWidth / 2,\n\t\t\t\t\ttop: e2.clientY - _tableWrap.offset().top + window.pageYOffset - dreamlandDIV.find('th').get(0).offsetHeight / 2\n\t\t\t\t});\n\n\t\t\t\t// 当前触发项为置顶表头时, 同步更新至原样式\n\t\t\t\tlet haveMockThead = false;  // 当前是否包含置顶表头\n\t\t\t\tif (_th.closest('thead[grid-manager-mock-thead]').length === 1) {\n\t\t\t\t\thaveMockThead = true;\n\t\t\t\t}\n\t\t\t\t_this.updateDrag(_table, prevTh, nextTh, _th, colTd, dreamlandDIV, haveMockThead);\n\n\t\t\t\t// 重置TH对象数据\n\t\t\t\t_allTh = _tr.find('th');\n\t\t\t});\n\n\t\t\t// 绑定拖拽停止事件\n\t\t\t$body.unbind('mouseup');\n\t\t\t$body.bind('mouseup', function (event) {\n\t\t\t\tlet settings = Cache.getSettings($table);\n\t\t\t\t$body.unbind('mousemove');\n\t\t\t\t$body.unbind('mouseup');\n\t\t\t\t// 清除临时展示被移动的列\n\t\t\t\tdreamlandDIV = $('.dreamland-div');\n\t\t\t\tif (dreamlandDIV.length !== 0) {\n\t\t\t\t\tdreamlandDIV.animate({\n\t\t\t\t\t\ttop: `${_table.get(0).offsetTop}px`,\n\t\t\t\t\t\tleft: `${_th.get(0).offsetLeft - tableDiv.get(0).scrollLeft}px`\n\t\t\t\t\t}, settings.animateTime, () => {\n\t\t\t\t\t\t// tableDiv.css('position',_divPosition);\n\t\t\t\t\t\t_th.removeClass('drag-ongoing');\n\t\t\t\t\t\tcolTd.removeClass('drag-ongoing');\n\t\t\t\t\t\tdreamlandDIV.remove();\n\n\t\t\t\t\t\t// 列拖拽成功回调事件\n\t\t\t\t\t\tsettings.dragAfter(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// 存储用户记忆\n\t\t\t\tCache.saveUserMemory(_table);\n\n\t\t\t\t// 重置调整宽度事件源\n\t\t\t\tif (settings.supportAdjust) {\n\t\t\t\t\tAdjust.resetAdjust(_table);\n\t\t\t\t}\n\t\t\t\t// 开启文字选中效果\n\t\t\t\t$body.removeClass('no-select-text');\n\n\t\t\t\t// 更新界面交互标识\n\t\t\t\tBase.updateInteractive(_table);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * 拖拽触发后更新DOM\n\t * @param _table\n\t * @param prevTh\n\t * @param nextTh\n\t * @param _th\n\t * @param colTd\n\t * @param dreamlandDIV\n\t * @param haveMockThead\n\t */\n\tupdateDrag(_table, prevTh, nextTh, _th, colTd, dreamlandDIV, haveMockThead) {\n\t\t// 事件源对应的上一组td\n\t\tlet prevTd = null;\n\n\t\t// 事件源对应的下一组td\n\t\tlet\tnextTd = null;\n\n\t\t// 处理向左拖拽\n\t\tif (prevTh && prevTh.length !== 0 && dreamlandDIV.offset().left < prevTh.offset().left) {\n\t\t\tprevTd = Base.getColTd(prevTh);\n\t\t\tprevTh.before(_th);\n\t\t\t$.each(colTd, (i, v) => {\n\t\t\t\tprevTd.eq(i).before(v);\n\t\t\t});\n\n\t\t\tif (haveMockThead) {\n\t\t\t\tlet _prevTh = $(`thead[grid-manager-thead] th[th-name=\"${prevTh.attr('th-name')}\"]`, _table);\n\t\t\t\tlet __th = $(`thead[grid-manager-thead] th[th-name=\"${_th.attr('th-name')}\"]`, _table);\n\t\t\t\t_prevTh.before(__th);\n\t\t\t}\n\t\t\t// 处理向右拖拽\n\t\t} else if (nextTh && nextTh.length !== 0 && dreamlandDIV.offset().left + dreamlandDIV.width() > nextTh.offset().left) {\n\t\t\tnextTd = Base.getColTd(nextTh);\n\t\t\tnextTh.after(_th);\n\t\t\t$.each(colTd, (i, v) => {\n\t\t\t\tnextTd.eq(i).after(v);\n\t\t\t});\n\n\t\t\tif (haveMockThead) {\n\t\t\t\tlet _nextTh = $(`thead[grid-manager-thead] th[th-name=\"${nextTh.attr('th-name')}\"]`, _table);\n\t\t\t\tlet __th = $(`thead[grid-manager-thead] th[th-name=\"${_th.attr('th-name')}\"]`, _table);\n\t\t\t\t_nextTh.after(__th);\n\t\t\t}\n\t\t}\n\t}\n}\nexport default new Drag();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Drag.js","/**\n * Created by baukh on 17/3/3.\n * 鼠标hover 高亮\n */\nimport { $, Base } from './Base';\nclass Hover {\n\tonTbodyHover($table) {\n\t\tlet $td = null;\n\t\tlet\t$tr = null;\n\t\t$table.off('mousemove', 'td');\n\t\t$table.on('mousemove', 'td', function () {\n\t\t\t$td = $(this);\n\t\t\t$tr = $td.parent();\n\n\t\t\t// row col 并未发生变化\n\t\t\tif ($td.attr('col-hover') === 'true' && $tr.attr('row-hover') === 'true') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// row 发生变化\n\t\t\tif ($tr.attr('row-hover') !== 'true') {\n\t\t\t\t$('tr[row-hover=\"true\"]', $table).removeAttr('row-hover');\n\t\t\t\t$tr.attr('row-hover', 'true');\n\t\t\t}\n\n\t\t\t// col 发生变化\n\t\t\tif ($tr.attr('col-hover') !== 'true') {\n\t\t\t\t$('td[col-hover=\"true\"]', $table).removeAttr('col-hover');\n\t\t\t\tBase.getColTd($td).attr('col-hover', 'true');\n\t\t\t}\n\t\t});\n\t}\n}\nexport default new Hover();\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/Hover.js","/*\n * Order: 序号\n * */\nimport { $ } from './Base';\nimport I18n from './I18n';\nclass Order {\n\t/**\n\t * 生成序号DOM\n\t * @param $table\n\t * @returns {boolean}\n     */\n\tinitDOM($table) {\n\t\tconst orderHtml = `<th th-name=\"gm_order\" gm-order=\"true\" gm-create=\"true\">${I18n.i18nText($table, 'order-text')}</th>`;\n\t\t$('thead tr', $table).prepend(orderHtml);\n\t\tif ($('th[th-name=\"gm_order\"]', $table).length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\nexport default new Order();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Order.js","/*\n * Scroll: 滚动轴\n * */\nimport { $ } from './Base';\nclass Scroll {\n\t/**\n\t * 绑定表格滚动轴功能\n\t * @param table\n     */\n\tbindScrollFunction(table) {\n\t\tconst tableDIV = table.closest('.table-div');\n\n\t\t// 绑定resize事件: 对表头吸顶的列宽度进行修正\n\t\twindow.addEventListener('resize', () => {\n\t\t\t// 吸顶元素\n\t\t\tconst _setTopHead = $('.set-top', table);\n\t\t\tif (_setTopHead && _setTopHead.length === 1) {\n\t\t\t\t_setTopHead.remove();\n\t\t\t\ttable.closest('.table-div').trigger('scroll');\n\t\t\t}\n\t\t});\n\n\t\t// 绑定滚动条事件\n\t\ttableDIV.unbind('scroll');\n\t\ttableDIV.bind('scroll', function (e, _isWindowResize_) {\n\t\t\tconst _scrollDOMTop = $(this).scrollTop();\n\n\t\t\t// 列表head\n\t\t\tconst _thead = $('thead[grid-manager-thead]', table);\n\n\t\t\t// 列表body\n\t\t\tconst _tbody = $('tbody', table);\n\n\t\t\t// 吸顶元素\n\t\t\tlet _setTopHead = $('.set-top', table);\n\n\t\t\t// 当前列表数据为空\n\t\t\tif ($('tr', _tbody).length === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// 配置吸顶区的宽度\n\t\t\tif (_setTopHead.length === 0 || _isWindowResize_) {\n\t\t\t\t_setTopHead.length === 0 ? table.append(_thead.clone(true).addClass('set-top')) : '';\n\t\t\t\t_setTopHead = $('.set-top', table);\n\t\t\t\t_setTopHead.removeAttr('grid-manager-thead');\n\t\t\t\t_setTopHead.attr('grid-manager-mock-thead', '');\n\t\t\t\t_setTopHead.removeClass('scrolling');\n\t\t\t\t_setTopHead.css({\n\t\t\t\t\twidth: _thead.width(),\n\t\t\t\t\tleft: -table.closest('.table-div').scrollLeft() + 'px'\n\t\t\t\t});\n\n\t\t\t\t// 防止window.resize事件后导致的吸顶宽度错误. 可以优化\n\t\t\t\t$.each($('th', _thead), (i, v) => {\n\t\t\t\t\t$('th', _setTopHead).eq(i).width($(v).width());\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (_setTopHead.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 删除表头置顶\n\t\t\tif (_scrollDOMTop === 0) {\n\t\t\t\t_thead.removeClass('scrolling');\n\t\t\t\t_setTopHead.remove();\n\t\t\t\t// 显示表头置顶\n\t\t\t} else {\n\t\t\t\t_thead.addClass('scrolling');\n\t\t\t\t_setTopHead.css({\n\t\t\t\t\tleft: -table.closest('.table-div').scrollLeft() + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n}\nexport default new Scroll();\n\n\n\n// WEBPACK FOOTER //\n// ./js/Scroll.js","/**\n * Settings: 配置项\n */\nimport { $ } from './Base';\nclass Settings {\n\tconstructor() {\n\t\t/**\n\t\t * 拖拽\n\t\t */\n\t\tconst drag = {\n\t\t\t// 是否支持拖拽功能\n\t\t\tsupportDrag: true,\n\n\t\t\t// 拖拽前事件\n\t\t\tdragBefore: $.noop,\n\n\t\t\t// 拖拽后事件\n\t\t\tdragAfter: $.noop\n\t\t};\n\n\t\t/**\n\t\t * 宽度调整\n\t\t */\n\t\tconst adjust = {\n\t\t\t// 是否支持宽度调整功能\n\t\t\tsupportAdjust: true,\n\n\t\t\t// 宽度调整前事件\n\t\t\tadjustBefore: $.noop,\n\n\t\t\t// 宽度调整后事件\n\t\t\tadjustAfter: $.noop\n\t\t};\n\n\t\t/**\n\t\t * 表头提醒\n\t\t */\n\t\tconst remind = {\n\t\t\t// 是否支持表头提示信息[需在地应的TH上增加属性remind]\n\t\t\tsupportRemind: false\n\t\t};\n\n\t\t/**\n\t\t * 配置列表\n\t\t */\n\t\tconst config = {\n\t\t\t// 是否支持配置列表功能[操作列是否可见]\n\t\t\tsupportConfig: true\n\t\t};\n\n\t\t/**\n\t\t * 样式\n\t\t */\n\t\tconst gridStyle = {\n\t\t\t// 宽度配置\n\t\t\twidth: '100%',\n\n\t\t\t// 高度配置, 可配置的最小宽度为300px\n\t\t\theight: '300px',\n\n\t\t\t// 文本对齐方式\n\t\t\t// textAlign: '',       // v2.3.15弃用\n\n\t\t\t// 动画效果时长\n\t\t\tanimateTime: 300\n\t\t};\n\n\t\t/**\n\t\t * 本地缓存\n\t\t */\n\t\tconst cache = {\n\t\t\t// 是否禁用本地缓存\n\t\t\tdisableCache: false\n\t\t};\n\n\t\t/**\n\t\t * 排序\n\t\t */\n\t\tconst sort = {\n\t\t\t// 排序：是否支持排序功能\n\t\t\tsupportSorting: false,\n\n\t\t\t// 是否为组合排序[只有在支持排序的情况下生效\n\t\t\tisCombSorting: false,\n\n\t\t\t// 排序字段前缀, 示例: 列名='date', sortKey='sort_', 排序参数则为sort_date\n\t\t\tsortKey: 'sort_',\n\n\t\t\t// 存储排序数据[不对外公开参数]\n\t\t\tsortData: {},\n\n\t\t\t// 排序：升序标识[该标识将会传至数据接口]\n\t\t\tsortUpText: 'ASC',\n\n\t\t\t// 排序：降序标识[该标识将会传至数据接口]\n\t\t\tsortDownText: 'DESC',\n\n\t\t\t// 排序事件发生前\n\t\t\tsortingBefore: $.noop,\n\n\t\t\t// 排序事件发生后\n\t\t\tsortingAfter: $.noop\n\t\t};\n\n\t\t/**\n\t\t * 分页\n\t\t */\n\t\tconst ajaxPage = {\n\t\t\t// 是否支持配置列表ajxa分页\n\t\t\tsupportAjaxPage: false,\n\n\t\t\t// 用于配置列表每页展示条数选择框\n\t\t\tsizeData: [10, 20, 30, 50, 100],\n\n\t\t\t// 每页显示条数，如果使用缓存且存在缓存数据，那么该值将失效\n\t\t\tpageSize: 20,\n\n\t\t\t// 存储分页数据[不对外公开参数]\n\t\t\tpageData: {},\n\n\t\t\t// 其它需要带入的参数，该参数中设置的数据会在分页或排序事件中以参数形式传递\n\t\t\tquery: {},\n\n\t\t\t// 分页事件发生前\n\t\t\tpagingBefore: $.noop,\n\n\t\t\t// 分页事件发生后\n\t\t\tpagingAfter: $.noop\n\t\t};\n\n\t\t/**\n\t\t * 序号\n\t\t */\n\t\tconst autoOrder = {\n\t\t\t// 是否支持自动序号\n\t\t\tsupportAutoOrder: true\n\t\t};\n\n\t\t/**\n\t\t * 选择与反选\n\t\t */\n\t\tconst checkbox = {\n\t\t\t// 是否支持选择与反选\n\t\t\tsupportCheckbox: true\n\t\t};\n\n\t\t/**\n\t\t * 国际化\n\t\t */\n\t\tconst i18n = {\n\t\t\t// 选择使用哪种语言，暂时支持[zh-cn:简体中文，en-us:美式英语] 默认zh-cn\n\t\t\ti18n: 'zh-cn'\n\t\t};\n\n\t\t/**\n\t\t * 数据交互相关项\n\t\t */\n\t\tconst gridData = {\n\t\t\t// 表格列数据配置项\n\t\t\tcolumnData: [],\n\n\t\t\t// 表格grid-manager所对应的值[可在html中配置]\n\t\t\tgridManagerName: '',\n\n\t\t\t// 获取表格数据地址，配置该参数后，将会动态获取数据\n\t\t\tajax_url: '',\n\n\t\t\t// ajax请求类型['GET', 'POST']默认GET\n\t\t\tajax_type: 'GET',\n\n\t\t\t// ajax请求头信息\n\t\t\tajax_headers: {},\n\n\t\t\t// ajax请求之前,与jTool的beforeSend使用方法相同\n\t\t\tajax_beforeSend: $.noop,\n\n\t\t\t// ajax成功后,与jTool的success使用方法相同\n\t\t\tajax_success: $.noop,\n\n\t\t\t// ajax完成后,与jTool的complete使用方法相同\n\t\t\tajax_complete: $.noop,\n\n\t\t\t// ajax失败后,与jTool的error使用方法相同\n\t\t\tajax_error: $.noop,\n\n\t\t\t// ajax静态数据,配置后ajax_url将无效\n\t\t\tajax_data: undefined,\n\n\t\t\t// 请求前处理程序, 可以通过该方法修改全部的请求参数 @v2.3.14\n\t\t\trequestHandler: $.noop,\n\n\t\t\t// 执行请求后执行程序, 通过该程序可以修改返回值格式. 仅有成功后该函数才会执行 @v2.3.14\n\t\t\tresponseHandler: $.noop,\n\n\t\t\t// ajax请求返回的列表数据key键值,默认为data\n\t\t\tdataKey: 'data',\n\n\t\t\t// ajax请求返回的数据总条数key键值,默认为totals\n\t\t\ttotalsKey: 'totals'\n\t\t};\n\n\t\t/**\n\t\t * 表格导出\n\t\t */\n\t\tconst gridExport = {\n\t\t\t// 支持导出表格数据\n\t\t\tsupportExport: true\n\t\t};\n\n\t\tconst settings = {\n\t\t\t...drag,\n\t\t\t...adjust,\n\t\t\t...remind,\n\t\t\t...config,\n\t\t\t...gridStyle,\n\t\t\t...cache,\n\t\t\t...sort,\n\t\t\t...ajaxPage,\n\t\t\t...autoOrder,\n\t\t\t...checkbox,\n\t\t\t...i18n,\n\t\t\t...gridData,\n\t\t\t...gridExport\n\t\t};\n\t\t$.extend(true, this, settings);\n\t}\n}\n\n// 表格中使用到的国际化文本信息\nclass TextSettings {\n\tconstructor() {\n\t\tthis['order-text'] = {\n\t\t\t'zh-cn': '序号',\n\t\t\t'en-us': 'order'\n\t\t};\n\t\tthis['first-page'] = {\n\t\t\t'zh-cn': '首页',\n\t\t\t'en-us': 'first'\n\t\t};\n\t\tthis['previous-page'] = {\n\t\t\t'zh-cn': '上一页',\n\t\t\t'en-us': 'previous'\n\t\t};\n\t\tthis['next-page'] = {\n\t\t\t'zh-cn': '下一页',\n\t\t\t'en-us': 'next'\n\t\t};\n\t\tthis['last-page'] = {\n\t\t\t'zh-cn': '尾页',\n\t\t\t'en-us': 'last'\n\t\t};\n\t\tthis['dataTablesInfo'] = {\n\t\t\t'zh-cn': '此页显示 {0}-{1} 共{2}条',\n\t\t\t'en-us': 'this page show {0}-{1} count {2}'\n\t\t};\n\t\tthis['goto-first-text'] = {\n\t\t\t'zh-cn': '跳转至',\n\t\t\t'en-us': 'goto'\n\t\t};\n\t\tthis['goto-last-text'] = {\n\t\t\t'zh-cn': '页',\n\t\t\t'en-us': 'page'\n\t\t};\n\t\tthis['refresh'] = {\n\t\t\t'zh-cn': '重新加载',\n\t\t\t'en-us': 'Refresh'\n\t\t};\n\t\tthis['save-as-excel'] = {\n\t\t\t'zh-cn': '另存为Excel',\n\t\t\t'en-us': 'Save as Excel'\n\t\t};\n\t\tthis['save-as-excel-for-checked'] = {\n\t\t\t'zh-cn': '已选中项另存为Excel',\n\t\t\t'en-us': 'Save selected as Excel'\n\t\t};\n\t\tthis['config-grid'] = {\n\t\t\t'zh-cn': '配置表',\n\t\t\t'en-us': 'Setting Grid'\n\t\t};\n\t\tthis['checkall-text'] = {\n\t\t\t'zh-cn': '全选',\n\t\t\t'en-us': 'All'\n\t\t};\n\t}\n}\nexport { Settings, TextSettings };\n\n\n\n// WEBPACK FOOTER //\n// ./js/Settings.js","/*\n *  GridManager: 入口\n * */\nimport { jTool } from './Base';\nimport GridManager from './GridManager';\nimport { PublishMethod, publishMethodArray } from './Publish';\n/*\n*  捆绑至选择器对象\n* */\n(jTool => {\n\tElement.prototype.GM = Element.prototype.GridManager = function () {\n\t\t// 特殊情况处理：单组tr进行操作，如resetTd()方法\n\t\tif (this.nodeName === 'TR') {\n\t\t\treturn;\n\t\t}\n\t\t// 方法名\n\t\tlet name = null;\n\n\t\t// 参数\n\t\tlet\tsettings = null;\n\n\t\t// 回调函数\n\t\tlet\tcallback = null;\n\n\t\t// 条件\n\t\tlet\tcondition = null;\n\n\t\t// 格式化参数\n\t\t// ex: document.querySelector('table').GridManager()\n\t\tif (arguments.length === 0) {\n\t\t\tname\t = 'init';\n\t\t\tsettings = {};\n\t\t\tcallback = undefined;\n\t\t} else if (jTool.type(arguments[0]) !== 'string') {\n\t\t\t// ex: document.querySelector('table').GridManager({settings}, callback)\n\t\t\tname\t = 'init';\n\t\t\tsettings = arguments[0];\n\t\t\tcallback = arguments[1];\n\t\t} else {\n\t\t\t// ex: document.querySelector('table').GridManager('get')\n\t\t\t// ex: document.querySelector('table').GM('showTh', $th);\n\t\t\t// ex: document.querySelector('table').GM('setSort',sortJson,callback, refresh);\n\t\t\tname = arguments[0];\n\t\t\tsettings = arguments[1];\n\t\t\tcallback = arguments[2];\n\t\t\tcondition = arguments[3];\n\t\t}\n\n\t\tif (publishMethodArray.indexOf(name) === -1) {\n\t\t\tthrow new Error(`GridManager Error:方法调用错误，请确定方法名[${name}]是否正确`);\n\t\t}\n\n\t\t// let gmObj;\n\t\t// 当前为初始化方法\n\t\tif (name === 'init') {\n\t\t\tconst _GM = new GridManager();\n\t\t\t_GM.init(this, settings, callback);\n\t\t\treturn _GM;\n\t\t\t// 当前为其它方法\n\t\t} else if (name !== 'init') {\n\t\t\t// gmObj = $table.data('gridManager');\n\t\t\t// console.log(gmObj);\n\t\t\tconst gmData = PublishMethod[name](this, settings, callback, condition);\n\n\t\t\t// 如果方法存在返回值则返回，如果没有返回dom, 用于链式操作\n\t\t\treturn typeof (gmData) === 'undefined' ? this : gmData;\n\t\t}\n\t};\n})(jTool);\n\n/**\n * 将GridManager 对象映射至window\n */\n(() => {\n\twindow.GridManager = window.GM = GridManager;\n})();\n\n/*\n* 兼容jquery\n* */\n(() => {\n\tif (typeof (window.jQuery) !== 'undefined' && window.jQuery.fn.extend) {\n\t\twindow.jQuery.fn.extend({\n\t\t\tGM: function () {\n\t\t\t\tif (arguments.length === 0) {\n\t\t\t\t\treturn this.get(0).GM();\n\t\t\t\t} else if (arguments.length === 1) {\n\t\t\t\t\treturn this.get(0).GM(arguments[0]);\n\t\t\t\t} else if (arguments.length === 2) {\n\t\t\t\t\treturn this.get(0).GM(arguments[0], arguments[1]);\n\t\t\t\t} else if (arguments.length === 3) {\n\t\t\t\t\treturn this.get(0).GM(arguments[0], arguments[1], arguments[2]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tGridManager: function () {\n\t\t\t\tif (arguments.length === 0) {\n\t\t\t\t\treturn this.get(0).GridManager();\n\t\t\t\t} else if (arguments.length === 1) {\n\t\t\t\t\treturn this.get(0).GridManager(arguments[0]);\n\t\t\t\t} else if (arguments.length === 2) {\n\t\t\t\t\treturn this.get(0).GridManager(arguments[0], arguments[1]);\n\t\t\t\t} else if (arguments.length === 3) {\n\t\t\t\t\treturn this.get(0).GridManager(arguments[0], arguments[1], arguments[2]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./css/index.scss\n// module id = 21\n// module chunks = 0","!function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var a=\"function\"==typeof require&&require;if(!u&&a)return a(s,!0);if(r)return r(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,o)}return n[s].exports}for(var r=\"function\"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e){var n=t(\"./utilities\"),o=t(\"../src/Css\"),i={show:function(){return n.each(this.DOMList,function(t,e){var n=\"\",o=[\"SPAN\",\"A\",\"FONT\",\"I\"];if(-1!==e.nodeName.indexOf(o))return e.style.display=\"inline-block\",this;switch(e.nodeName){case\"TABLE\":n=\"table\";break;case\"THEAD\":n=\"table-header-group\";break;case\"TBODY\":n=\"table-row-group\";break;case\"TR\":n=\"table-row\";break;case\"TH\":n=\"table-cell\";break;case\"TD\":n=\"table-cell\";break;default:n=\"block\"}e.style.display=n}),this},hide:function(){return n.each(this.DOMList,function(t,e){e.style.display=\"none\"}),this},animate:function(t,e,i){var r=this,s=\"\",u=\"\",a=r.DOMList[0];if(t){\"undefined\"===n.type(i)&&\"function\"===n.type(e)&&(i=e,e=0),\"undefined\"===n.type(i)&&(i=n.noop),\"undefined\"===n.type(e)&&(e=0),n.each(t,function(t,e){t=n.toHyphen(t),s+=t+\":\"+n.getStyle(a,t)+\";\",u+=t+\":\"+e+\";\"});var c=\"@keyframes jToolAnimate {from {\"+s+\"}to {\"+u+\"}}\",l=document.createElement(\"style\");l.className=\"jTool-animate-style\",l.type=\"text/css\",document.head.appendChild(l),l.textContent=l.textContent+c,a.style.animation=\"jToolAnimate \"+e/1e3+\"s ease-in-out forwards\",window.setTimeout(function(){o.css.call(r,t),a.style.animation=\"\",l.remove(),i()},e)}}};e.exports=i},{\"../src/Css\":3,\"./utilities\":13}],2:[function(t,e){var n=t(\"./utilities\"),o={addClass:function(t){return this.changeClass(t,\"add\")},removeClass:function(t){return this.changeClass(t,\"remove\")},toggleClass:function(t){return this.changeClass(t,\"toggle\")},hasClass:function(t){return[].some.call(this.DOMList,function(e){return e.classList.contains(t)})},parseClassName:function(t){return t.indexOf(\" \")?t.split(\" \"):[t]},changeClass:function(t,e){var o=this.parseClassName(t);return n.each(this.DOMList,function(t,i){n.each(o,function(t,n){i.classList[e](n)})}),this}};e.exports=o},{\"./utilities\":13}],3:[function(t,e){var n=t(\"./utilities\"),o={css:function(t,e){function o(t,e){\"number\"===n.type(e)&&(e=e.toString()),-1!==r.indexOf(t)&&-1===e.indexOf(\"px\")&&(e+=\"px\"),n.each(i.DOMList,function(n,o){o.style[t]=e})}var i=this,r=[\"width\",\"height\",\"min-width\",\"max-width\",\"min-height\",\"min-height\",\"top\",\"left\",\"right\",\"bottom\",\"padding-top\",\"padding-right\",\"padding-bottom\",\"padding-left\",\"margin-top\",\"margin-right\",\"margin-bottom\",\"margin-left\",\"border-width\",\"border-top-width\",\"border-left-width\",\"border-right-width\",\"border-bottom-width\"];if(\"string\"===n.type(t)&&!e&&0!==e)return-1!==r.indexOf(t)?parseInt(n.getStyle(this.DOMList[0],t),10):n.getStyle(this.DOMList[0],t);if(\"object\"===n.type(t)){var s=t;for(var u in s)o(u,s[u])}else o(t,e);return this},width:function(t){return this.css(\"width\",t)},height:function(t){return this.css(\"height\",t)}};e.exports=o},{\"./utilities\":13}],4:[function(t,e){var n=t(\"./utilities\"),o={dataKey:\"jTool\"+n.version,data:function(t,e){var o=this,i={};if(\"undefined\"==typeof t&&\"undefined\"==typeof e)return o.DOMList[0][o.dataKey];if(\"undefined\"!=typeof e){var r=n.type(e);return(\"string\"===r||\"number\"===r)&&o.attr(t,e),n.each(o.DOMList,function(n,r){i=r[o.dataKey]||{},i[t]=e,r[o.dataKey]=i}),this}return i=o.DOMList[0][o.dataKey]||{},this.transformValue(i[t]||o.attr(t))},removeData:function(t){var e,o=this;\"undefined\"!=typeof t&&(n.each(o.DOMList,function(n,i){e=i[o.dataKey]||{},delete e[t]}),o.removeAttr(t))},attr:function(t,e){return\"undefined\"==typeof t&&\"undefined\"==typeof e?\"\":\"undefined\"!=typeof e?(n.each(this.DOMList,function(n,o){o.setAttribute(t,e)}),this):this.transformValue(this.DOMList[0].getAttribute(t))},removeAttr:function(t){\"undefined\"!=typeof t&&n.each(this.DOMList,function(e,n){n.removeAttribute(t)})},prop:function(t,e){return\"undefined\"==typeof t&&\"undefined\"==typeof e?\"\":\"undefined\"!=typeof e?(n.each(this.DOMList,function(n,o){o[t]=e}),this):this.transformValue(this.DOMList[0][t])},removeProp:function(t){\"undefined\"!=typeof t&&n.each(this.DOMList,function(e,n){delete n[t]})},val:function(t){return this.prop(\"value\",t)||\"\"},transformValue:function(t){return\"null\"===n.type(t)&&(t=void 0),t}};e.exports=o},{\"./utilities\":13}],5:[function(t,e){var n=t(\"./utilities\"),o=t(\"./Sizzle\"),i={append:function(t){return this.html(t,\"append\")},prepend:function(t){return this.html(t,\"prepend\")},before:function(t){t.jTool&&(t=t.DOMList[0]);var e=this.DOMList[0],n=e.parentNode;return n.insertBefore(t,e),this},after:function(t){t.jTool&&(t=t.DOMList[0]);var e=this.DOMList[0],n=e.parentNode;n.lastChild==e?n.appendChild(t):n.insertBefore(t,e.nextSibling)},text:function(t){return\"undefined\"!=typeof t?(n.each(this.DOMList,function(e,n){n.textContent=t}),this):this.DOMList[0].textContent},html:function(t,e){if(\"undefined\"==typeof t&&\"undefined\"==typeof e)return this.DOMList[0].innerHTML;var o=this,i=n.type(t);t.jTool?t=t.DOMList:\"string\"===i?t=n.createDOM(t||\"\"):\"element\"===i&&(t=[t]);var r;return n.each(o.DOMList,function(o,i){e?\"prepend\"===e&&(r=i.firstChild):i.innerHTML=\"\",n.each(t,function(t,e){e=e.cloneNode(!0),e.nodeType||(e=document.createTextNode(e)),r?i.insertBefore(e,r):i.appendChild(e),i.normalize()})}),this},wrap:function(t){var e;return n.each(this.DOMList,function(n,i){e=i.parentNode;var r=new o(t,i.ownerDocument).get(0);e.insertBefore(r,i),r.querySelector(\":empty\").appendChild(i)}),this},closest:function(t){function e(){return n&&0!==i.length&&1===n.nodeType?void(-1===[].indexOf.call(i,n)&&(n=n.parentNode,e())):void(n=null)}var n=this.DOMList[0].parentNode;if(\"undefined\"==typeof t)return new o(n);var i=document.querySelectorAll(t);return e(),new o(n)},parent:function(){return this.closest()},clone:function(t){return new o(this.DOMList[0].cloneNode(t||!1))},remove:function(){n.each(this.DOMList,function(t,e){e.remove()})}};e.exports=i},{\"./Sizzle\":9,\"./utilities\":13}],6:[function(t,e){var n=t(\"./Sizzle\"),o={get:function(t){return this.DOMList[t]},eq:function(t){return new n(this.DOMList[t])},find:function(t){return new n(t,this)},index:function(t){var e=this.DOMList[0];return t?t.jTool&&(t=t.DOMList):t=e.parentNode.childNodes,t?[].indexOf.call(t,e):-1}};e.exports=o},{\"./Sizzle\":9}],7:[function(t,e){var n=t(\"./utilities\"),o={on:function(t,e,n,o){return this.addEvent(this.getEventObject(t,e,n,o))},off:function(t,e){return this.removeEvent(this.getEventObject(t,e))},bind:function(t,e,n){return this.on(t,void 0,e,n)},unbind:function(t){return this.removeEvent(this.getEventObject(t))},trigger:function(t){return n.each(this.DOMList,function(e,o){try{if(o.jToolEvent&&o.jToolEvent[t].length>0){var i=new Event(t);o.dispatchEvent(i)}else\"click\"!==t?n.error(\"预绑定的事件只有click事件可以通过trigger进行调用\"):\"click\"===t&&o[t]()}catch(r){n.error(\"事件:[\"+t+\"]未能正确执行, 请确定方法已经绑定成功\")}}),this},getEventObject:function(t,e,o,i){if(\"function\"==typeof e&&(i=o||!1,o=e,e=void 0),!t)return n.error(\"事件绑定失败,原因: 参数中缺失事件类型\"),this;if(e&&\"element\"===n.type(this.DOMList[0])||(e=\"\"),\"\"!==e){var r=o;o=function(t){for(var n=t.target;n!==this;){if(-1!==[].indexOf.call(this.querySelectorAll(e),n)){r.apply(n,arguments);break}n=n.parentNode}}}var s,u,a=t.split(\" \"),c=[];return n.each(a,function(t,r){return\"\"===r.trim()?!0:(s=r.split(\".\"),u={eventName:r+e,type:s[0],querySelector:e,callback:o||n.noop,useCapture:i||!1,nameScope:s[1]||void 0},void c.push(u))}),c},addEvent:function(t){var e=this;return n.each(t,function(t,o){n.each(e.DOMList,function(t,e){e.jToolEvent=e.jToolEvent||{},e.jToolEvent[o.eventName]=e.jToolEvent[o.eventName]||[],e.jToolEvent[o.eventName].push(o),e.addEventListener(o.type,o.callback,o.useCapture)})}),e},removeEvent:function(t){var e,o=this;return n.each(t,function(t,i){n.each(o.DOMList,function(t,o){o.jToolEvent&&(e=o.jToolEvent[i.eventName],e&&(n.each(e,function(t,e){o.removeEventListener(e.type,e.callback)}),o.jToolEvent[i.eventName]=void 0))})}),o}};e.exports=o},{\"./utilities\":13}],8:[function(t,e){var n=t(\"./utilities\"),o={offset:function(){var t={top:0,left:0},e=this.DOMList[0];if(!e.getClientRects().length)return t;if(\"none\"===n.getStyle(e,\"display\"))return t;t=e.getBoundingClientRect();var o=e.ownerDocument.documentElement;return{top:t.top+window.pageYOffset-o.clientTop,left:t.left+window.pageXOffset-o.clientLeft}},scrollTop:function(t){return this.scrollFN(t,\"top\")},scrollLeft:function(t){return this.scrollFN(t,\"left\")},scrollFN:function(t,e){var n=this.DOMList[0];return t||0===t?(this.setScrollFN(n,e,t),this):this.getScrollFN(n,e)},getScrollFN:function(t,e){return n.isWindow(t)?\"top\"===e?t.pageYOffset:t.pageXOffset:9===t.nodeType?\"top\"===e?t.body.scrollTop:t.body.scrollLeft:1===t.nodeType?\"top\"===e?t.scrollTop:t.scrollLeft:void 0},setScrollFN:function(t,e,o){return n.isWindow(t)?\"top\"===e?t.document.body.scrollTop=o:t.document.body.scrollLeft=o:9===t.nodeType?\"top\"===e?t.body.scrollTop=o:t.body.scrollLeft=o:1===t.nodeType?\"top\"===e?t.scrollTop=o:t.scrollLeft=o:void 0}};e.exports=o},{\"./utilities\":13}],9:[function(t,e){var n=t(\"./utilities\"),o=function(t,e){var o;return t?n.isWindow(t)?(o=[t],e=void 0):t===document?(o=[document],e=void 0):t instanceof HTMLElement?(o=[t],e=void 0):t instanceof NodeList||t instanceof Array?(o=t,e=void 0):t.jTool?(o=t.DOMList,e=void 0):/<.+>/.test(t)?(o=n.createDOM(t),e=void 0):(e?e=\"string\"==typeof e?document.querySelectorAll(e):e instanceof HTMLElement?[e]:e instanceof NodeList?e:e.jTool?e.DOMList:void 0:o=document.querySelectorAll(t),e&&(o=[],n.each(e,function(e,i){n.each(i.querySelectorAll(t),function(t,e){e&&o.push(e)})}))):t=null,o&&0!==o.length||(o=void 0),this.jTool=!0,this.DOMList=o,this.length=this.DOMList?this.DOMList.length:0,this.querySelector=t,this};e.exports=o},{\"./utilities\":13}],10:[function(t,e){function n(t){var e={url:null,type:\"GET\",data:null,headers:{},async:!0,beforeSend:s.noop,complete:s.noop,success:s.noop,error:s.noop};if(t=r(e,t),!t.url)return void s.error(\"jTool ajax: url不能为空\");var n=new XMLHttpRequest,o=\"\";\"object\"===s.type(t.data)?s.each(t.data,function(t,e){\"\"!==o&&(o+=\"&\"),o+=t+\"=\"+e}):o=t.data,\"GET\"===t.type.toUpperCase()&&o&&(t.url=t.url+(-1===t.url.indexOf(\"?\")?\"?\":\"&\")+o,o=null),n.open(t.type,t.url,t.async);for(var i in t.headers)n.setRequestHeader(i,t.headers[i]);t.beforeSend(n),n.onload=function(){t.complete(n,n.status)},n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?t.success(n.response,n.status):t.error(n,n.status,n.statusText))},n.send(o)}function o(t,e,o){n({url:t,type:\"POST\",data:e,success:o})}function i(t,e,o){n({url:t,type:\"GET\",data:e,success:o})}var r=t(\"./extend\"),s=t(\"./utilities\");e.exports={ajax:n,post:o,get:i}},{\"./extend\":11,\"./utilities\":13}],11:[function(t,e){function n(){function t(e,i){for(var r in e)e.hasOwnProperty(r)&&(n&&\"object\"===o.type(e[r])?(\"object\"!==o.type(i[r])&&(i[r]={}),t(e[r],i[r])):i[r]=e[r])}if(0===arguments.length)return{};var e,n=!1,i=1,r=arguments[0];for(1===arguments.length&&\"object\"==typeof arguments[0]?(r=this,i=0):2===arguments.length&&\"boolean\"==typeof arguments[0]?(n=arguments[0],r=this,i=1):arguments.length>2&&\"boolean\"==typeof arguments[0]&&(n=arguments[0],r=arguments[1]||{},i=2);i<arguments.length;i++)e=arguments[i]||{},t(e,r);return r}var o=t(\"./utilities\");e.exports=n},{\"./utilities\":13}],12:[function(t,e){var n=t(\"./Sizzle\"),o=t(\"./extend\"),i=t(\"./utilities\"),r=t(\"./ajax\"),s=t(\"./Event\"),u=t(\"./Css\"),a=t(\"./Class\"),c=t(\"./Document\"),l=t(\"./Offset\"),d=t(\"./Element\"),f=t(\"./Animate\"),p=t(\"./Data\"),h=function(t,e){return new n(t,e)};n.prototype=h.prototype={},h.extend=h.prototype.extend=o,h.extend(i),h.extend(r),h.prototype.extend(s),h.prototype.extend(u),h.prototype.extend(a),h.prototype.extend(c),h.prototype.extend(l),h.prototype.extend(d),h.prototype.extend(f),h.prototype.extend(p),\"undefined\"!=typeof window.$&&(window._$=$),window.jTool=window.$=h,e.exports=h},{\"./Animate\":1,\"./Class\":2,\"./Css\":3,\"./Data\":4,\"./Document\":5,\"./Element\":6,\"./Event\":7,\"./Offset\":8,\"./Sizzle\":9,\"./ajax\":10,\"./extend\":11,\"./utilities\":13}],13:[function(t,e){function n(){return-1==navigator.userAgent.indexOf(\"Chrome\")?!1:!0}function o(t){return null!==t&&t===t.window}function i(t){return Array.isArray(t)}function r(t){return v[y.call(t)]||(t instanceof Element?\"element\":\"\")}function s(){}function u(t,e){t&&t.jTool&&(t=t.DOMList);var n=r(t);if(\"array\"===n||\"nodeList\"===n||\"arguments\"===n)[].every.call(t,function(t,n){o(t)?s():t.jTool?t=t.get(0):s();return e.call(t,n,t)===!1?!1:!0});else if(\"object\"===n)for(var i in t)if(e.call(t[i],i,t[i])===!1)break}function a(t){return t.trim()}function c(t){throw new Error(\"[jTool Error: \"+t+\"]\")}function l(t){var e=!0;for(var n in t)t.hasOwnProperty(n)&&(e=!1);return e}function d(t,e){return e?window.getComputedStyle(t)[e]:window.getComputedStyle(t)}function f(t){var e=[\"px\",\"vem\",\"em\",\"%\"],n=\"\";return\"number\"==typeof t?n:(u(e,function(e,o){return-1!==t.indexOf(o)?(n=o,!1):void 0}),n)}function p(t){return t.replace(/-\\w/g,function(t){return t.split(\"-\")[1].toUpperCase()})}function h(t){return t.replace(/([A-Z])/g,\"-$1\").toLowerCase()}function m(t){var e=document.querySelector(\"#jTool-create-dom\");if(!e||0===e.length){var n=document.createElement(\"table\");n.id=\"jTool-create-dom\",n.style.display=\"none\",document.body.appendChild(n),e=document.querySelector(\"#jTool-create-dom\")}e.innerHTML=t||\"\";var o=e.childNodes;return 1!=o.length||/<tbody|<TBODY/.test(t)||\"TBODY\"!==o[0].nodeName||(o=o[0].childNodes),1!=o.length||/<thead|<THEAD/.test(t)||\"THEAD\"!==o[0].nodeName||(o=o[0].childNodes),1!=o.length||/<tr|<TR/.test(t)||\"TR\"!==o[0].nodeName||(o=o[0].childNodes),1!=o.length||/<td|<TD/.test(t)||\"TD\"!==o[0].nodeName||(o=o[0].childNodes),1!=o.length||/<th|<TH/.test(t)||\"TH\"!==o[0].nodeName||(o=o[0].childNodes),e.remove(),o}var y=Object.prototype.toString,v={\"[object String]\":\"string\",\"[object Boolean]\":\"boolean\",\"[object Undefined]\":\"undefined\",\"[object Number]\":\"number\",\"[object Object]\":\"object\",\"[object Error]\":\"error\",\"[object Function]\":\"function\",\"[object Date]\":\"date\",\"[object Array]\":\"array\",\"[object RegExp]\":\"regexp\",\"[object Null]\":\"null\",\"[object NodeList]\":\"nodeList\",\"[object Arguments]\":\"arguments\",\"[object Window]\":\"window\",\"[object HTMLDocument]\":\"document\"};e.exports={isWindow:o,isChrome:n,isArray:i,noop:s,type:r,toHyphen:h,toHump:p,getStyleUnit:f,getStyle:d,isEmptyObject:l,trim:a,error:c,each:u,createDOM:m,version:\"1.2.21\"}},{}]},{},[12]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/jTool/jTool.min.js\n// module id = 22\n// module chunks = 0"],"sourceRoot":""}